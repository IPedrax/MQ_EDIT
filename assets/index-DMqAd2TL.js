var _A=i=>{throw TypeError(i)};var Vy=(i,e,t)=>e.has(i)||_A("Cannot "+t);var Yt=(i,e,t)=>(Vy(i,e,"read from private field"),t?t.call(i):e.get(i)),Rr=(i,e,t)=>e.has(i)?_A("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),vi=(i,e,t,n)=>(Vy(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),Or=(i,e,t)=>(Vy(i,e,"access private method"),t);var EA=(i,e,t,n)=>({set _(r){vi(i,e,r,t)},get _(){return Yt(i,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function i5(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var Gy={exports:{}},Zc={};var SA;function r5(){if(SA)return Zc;SA=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:a,ref:r!==void 0?r:null,props:s}}return Zc.Fragment=e,Zc.jsx=t,Zc.jsxs=t,Zc}var CA;function s5(){return CA||(CA=1,Gy.exports=r5()),Gy.exports}var Te=s5(),Xy={exports:{}},rt={};var kA;function a5(){if(kA)return rt;kA=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function m(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function D(L,H,G){this.props=L,this.context=H,this.refs=x,this.updater=G||v}D.prototype.isReactComponent={},D.prototype.setState=function(L,H){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,H,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function w(){}w.prototype=D.prototype;function T(L,H,G){this.props=L,this.context=H,this.refs=x,this.updater=G||v}var C=T.prototype=new w;C.constructor=T,b(C,D.prototype),C.isPureReactComponent=!0;var E=Array.isArray;function S(){}var k={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function R(L,H,G){var te=G.ref;return{$$typeof:i,type:L,key:H,ref:te!==void 0?te:null,props:G}}function z(L,H){return R(L.type,H,L.props)}function Z(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function F(L){var H={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(G){return H[G]})}var W=/\/+/g;function M(L,H){return typeof L=="object"&&L!==null&&L.key!=null?F(""+L.key):H.toString(36)}function Y(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(S,S):(L.status="pending",L.then(function(H){L.status==="pending"&&(L.status="fulfilled",L.value=H)},function(H){L.status==="pending"&&(L.status="rejected",L.reason=H)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,H,G,te,ce){var we=typeof L;(we==="undefined"||we==="boolean")&&(L=null);var ge=!1;if(L===null)ge=!0;else switch(we){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(L.$$typeof){case i:case e:ge=!0;break;case h:return ge=L._init,B(ge(L._payload),H,G,te,ce)}}if(ge)return ce=ce(L),ge=te===""?"."+M(L,0):te,E(ce)?(G="",ge!=null&&(G=ge.replace(W,"$&/")+"/"),B(ce,H,G,"",function(Fe){return Fe})):ce!=null&&(Z(ce)&&(ce=z(ce,G+(ce.key==null||L&&L.key===ce.key?"":(""+ce.key).replace(W,"$&/")+"/")+ge)),H.push(ce)),1;ge=0;var Ce=te===""?".":te+":";if(E(L))for(var Ue=0;Ue<L.length;Ue++)te=L[Ue],we=Ce+M(te,Ue),ge+=B(te,H,G,we,ce);else if(Ue=m(L),typeof Ue=="function")for(L=Ue.call(L),Ue=0;!(te=L.next()).done;)te=te.value,we=Ce+M(te,Ue++),ge+=B(te,H,G,we,ce);else if(we==="object"){if(typeof L.then=="function")return B(Y(L),H,G,te,ce);throw H=String(L),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ge}function I(L,H,G){if(L==null)return L;var te=[],ce=0;return B(L,te,"","",function(we){return H.call(G,we,ce++)}),te}function V(L){if(L._status===-1){var H=L._result;H=H(),H.then(function(G){(L._status===0||L._status===-1)&&(L._status=1,L._result=G)},function(G){(L._status===0||L._status===-1)&&(L._status=2,L._result=G)}),L._status===-1&&(L._status=0,L._result=H)}if(L._status===1)return L._result.default;throw L._result}var K=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ae={map:I,forEach:function(L,H,G){I(L,function(){H.apply(this,arguments)},G)},count:function(L){var H=0;return I(L,function(){H++}),H},toArray:function(L){return I(L,function(H){return H})||[]},only:function(L){if(!Z(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return rt.Activity=p,rt.Children=ae,rt.Component=D,rt.Fragment=t,rt.Profiler=r,rt.PureComponent=T,rt.StrictMode=n,rt.Suspense=c,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,rt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return k.H.useMemoCache(L)}},rt.cache=function(L){return function(){return L.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(L,H,G){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var te=b({},L.props),ce=L.key;if(H!=null)for(we in H.key!==void 0&&(ce=""+H.key),H)!O.call(H,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&H.ref===void 0||(te[we]=H[we]);var we=arguments.length-2;if(we===1)te.children=G;else if(1<we){for(var ge=Array(we),Ce=0;Ce<we;Ce++)ge[Ce]=arguments[Ce+2];te.children=ge}return R(L.type,ce,te)},rt.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},rt.createElement=function(L,H,G){var te,ce={},we=null;if(H!=null)for(te in H.key!==void 0&&(we=""+H.key),H)O.call(H,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ce[te]=H[te]);var ge=arguments.length-2;if(ge===1)ce.children=G;else if(1<ge){for(var Ce=Array(ge),Ue=0;Ue<ge;Ue++)Ce[Ue]=arguments[Ue+2];ce.children=Ce}if(L&&L.defaultProps)for(te in ge=L.defaultProps,ge)ce[te]===void 0&&(ce[te]=ge[te]);return R(L,we,ce)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(L){return{$$typeof:l,render:L}},rt.isValidElement=Z,rt.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:V}},rt.memo=function(L,H){return{$$typeof:d,type:L,compare:H===void 0?null:H}},rt.startTransition=function(L){var H=k.T,G={};k.T=G;try{var te=L(),ce=k.S;ce!==null&&ce(G,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(S,K)}catch(we){K(we)}finally{H!==null&&G.types!==null&&(H.types=G.types),k.T=H}},rt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},rt.use=function(L){return k.H.use(L)},rt.useActionState=function(L,H,G){return k.H.useActionState(L,H,G)},rt.useCallback=function(L,H){return k.H.useCallback(L,H)},rt.useContext=function(L){return k.H.useContext(L)},rt.useDebugValue=function(){},rt.useDeferredValue=function(L,H){return k.H.useDeferredValue(L,H)},rt.useEffect=function(L,H){return k.H.useEffect(L,H)},rt.useEffectEvent=function(L){return k.H.useEffectEvent(L)},rt.useId=function(){return k.H.useId()},rt.useImperativeHandle=function(L,H,G){return k.H.useImperativeHandle(L,H,G)},rt.useInsertionEffect=function(L,H){return k.H.useInsertionEffect(L,H)},rt.useLayoutEffect=function(L,H){return k.H.useLayoutEffect(L,H)},rt.useMemo=function(L,H){return k.H.useMemo(L,H)},rt.useOptimistic=function(L,H){return k.H.useOptimistic(L,H)},rt.useReducer=function(L,H,G){return k.H.useReducer(L,H,G)},rt.useRef=function(L){return k.H.useRef(L)},rt.useState=function(L){return k.H.useState(L)},rt.useSyncExternalStore=function(L,H,G){return k.H.useSyncExternalStore(L,H,G)},rt.useTransition=function(){return k.H.useTransition()},rt.version="19.2.0",rt}var UA;function rd(){return UA||(UA=1,Xy.exports=a5()),Xy.exports}var Tt=rd();const yo=Hp(Tt);var $y={exports:{}},Qc={},Yy={exports:{}},Ky={};var MA;function o5(){return MA||(MA=1,(function(i){function e(B,I){var V=B.length;B.push(I);e:for(;0<V;){var K=V-1>>>1,ae=B[K];if(0<r(ae,I))B[K]=I,B[V]=ae,V=K;else break e}}function t(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var I=B[0],V=B.pop();if(V!==I){B[0]=V;e:for(var K=0,ae=B.length,L=ae>>>1;K<L;){var H=2*(K+1)-1,G=B[H],te=H+1,ce=B[te];if(0>r(G,V))te<ae&&0>r(ce,G)?(B[K]=ce,B[te]=V,K=te):(B[K]=G,B[H]=V,K=H);else if(te<ae&&0>r(ce,V))B[K]=ce,B[te]=V,K=te;else break e}}return I}function r(B,I){var V=B.sortIndex-I.sortIndex;return V!==0?V:B.id-I.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,p=null,g=3,m=!1,v=!1,b=!1,x=!1,D=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var I=t(d);I!==null;){if(I.callback===null)n(d);else if(I.startTime<=B)n(d),I.sortIndex=I.expirationTime,e(c,I);else break;I=t(d)}}function E(B){if(b=!1,C(B),!v)if(t(c)!==null)v=!0,S||(S=!0,F());else{var I=t(d);I!==null&&Y(E,I.startTime-B)}}var S=!1,k=-1,O=5,R=-1;function z(){return x?!0:!(i.unstable_now()-R<O)}function Z(){if(x=!1,S){var B=i.unstable_now();R=B;var I=!0;try{e:{v=!1,b&&(b=!1,w(k),k=-1),m=!0;var V=g;try{t:{for(C(B),p=t(c);p!==null&&!(p.expirationTime>B&&z());){var K=p.callback;if(typeof K=="function"){p.callback=null,g=p.priorityLevel;var ae=K(p.expirationTime<=B);if(B=i.unstable_now(),typeof ae=="function"){p.callback=ae,C(B),I=!0;break t}p===t(c)&&n(c),C(B)}else n(c);p=t(c)}if(p!==null)I=!0;else{var L=t(d);L!==null&&Y(E,L.startTime-B),I=!1}}break e}finally{p=null,g=V,m=!1}I=void 0}}finally{I?F():S=!1}}}var F;if(typeof T=="function")F=function(){T(Z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,M=W.port2;W.port1.onmessage=Z,F=function(){M.postMessage(null)}}else F=function(){D(Z,0)};function Y(B,I){k=D(function(){B(i.unstable_now())},I)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_next=function(B){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var V=g;g=I;try{return B()}finally{g=V}},i.unstable_requestPaint=function(){x=!0},i.unstable_runWithPriority=function(B,I){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=g;g=B;try{return I()}finally{g=V}},i.unstable_scheduleCallback=function(B,I,V){var K=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,B){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=V+ae,B={id:h++,callback:I,priorityLevel:B,startTime:V,expirationTime:ae,sortIndex:-1},V>K?(B.sortIndex=V,e(d,B),t(c)===null&&B===t(d)&&(b?(w(k),k=-1):b=!0,Y(E,V-K))):(B.sortIndex=ae,e(c,B),v||m||(v=!0,S||(S=!0,F()))),B},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(B){var I=g;return function(){var V=g;g=I;try{return B.apply(this,arguments)}finally{g=V}}}})(Ky)),Ky}var RA;function l5(){return RA||(RA=1,Yy.exports=o5()),Yy.exports}var Zy={exports:{}},$n={};var OA;function c5(){if(OA)return $n;OA=1;var i=rd();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:c,containerInfo:d,implementation:h}}var a=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,$n.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(c,d,null,h)},$n.flushSync=function(c){var d=a.T,h=n.p;try{if(a.T=null,n.p=2,c)return c()}finally{a.T=d,n.p=h,n.d.f()}},$n.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(c,d))},$n.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},$n.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):h==="script"&&n.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},$n.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);n.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(c)},$n.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);n.d.L(c,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},$n.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);n.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(c)},$n.requestFormReset=function(c){n.d.r(c)},$n.unstable_batchedUpdates=function(c,d){return c(d)},$n.useFormState=function(c,d,h){return a.H.useFormState(c,d,h)},$n.useFormStatus=function(){return a.H.useHostTransitionStatus()},$n.version="19.2.0",$n}var NA;function SC(){if(NA)return Zy.exports;NA=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Zy.exports=c5(),Zy.exports}var FA;function u5(){if(FA)return Qc;FA=1;var i=l5(),e=rd(),t=SC();function n(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,f=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(f=u.return),o=u.return;while(o)}return u.tag===3?f:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(n(188))}function d(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(n(188));return u!==o?null:o}for(var f=o,y=u;;){var A=f.return;if(A===null)break;var _=A.alternate;if(_===null){if(y=A.return,y!==null){f=y;continue}break}if(A.child===_.child){for(_=A.child;_;){if(_===f)return c(A),o;if(_===y)return c(A),u;_=_.sibling}throw Error(n(188))}if(f.return!==y.return)f=A,y=_;else{for(var N=!1,j=A.child;j;){if(j===f){N=!0,f=A,y=_;break}if(j===y){N=!0,y=A,f=_;break}j=j.sibling}if(!N){for(j=_.child;j;){if(j===f){N=!0,f=_,y=A;break}if(j===y){N=!0,y=_,f=A;break}j=j.sibling}if(!N)throw Error(n(189))}}if(f.alternate!==y)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var W=Symbol.for("react.client.reference");function M(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===W?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case D:return"Profiler";case x:return"StrictMode";case E:return"Suspense";case S:return"SuspenseList";case R:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case T:return o.displayName||"Context";case w:return(o._context.displayName||"Context")+".Consumer";case C:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return u=o.displayName||null,u!==null?u:M(o.type)||"Memo";case O:u=o._payload,o=o._init;try{return M(o(u))}catch{}}return null}var Y=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},K=[],ae=-1;function L(o){return{current:o}}function H(o){0>ae||(o.current=K[ae],K[ae]=null,ae--)}function G(o,u){ae++,K[ae]=o.current,o.current=u}var te=L(null),ce=L(null),we=L(null),ge=L(null);function Ce(o,u){switch(G(we,u),G(ce,o),G(te,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?$w(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=$w(u),o=Yw(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}H(te),G(te,o)}function Ue(){H(te),H(ce),H(we)}function Fe(o){o.memoizedState!==null&&G(ge,o);var u=te.current,f=Yw(u,o.type);u!==f&&(G(ce,o),G(te,f))}function Pe(o){ce.current===o&&(H(te),H(ce)),ge.current===o&&(H(ge),Xc._currentValue=V)}var Qe,pt;function U(o){if(Qe===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);Qe=u&&u[1]||"",pt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+o+pt}var le=!1;function ie(o,u){if(!o||le)return"";le=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(De){var ye=De}Reflect.construct(o,[],Se)}else{try{Se.call()}catch(De){ye=De}o.call(Se.prototype)}}else{try{throw Error()}catch(De){ye=De}(Se=o())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(De){if(De&&ye&&typeof De.stack=="string")return[De.stack,ye.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=y.DetermineComponentFrameRoot(),N=_[0],j=_[1];if(N&&j){var ne=N.split(`
`),pe=j.split(`
`);for(A=y=0;y<ne.length&&!ne[y].includes("DetermineComponentFrameRoot");)y++;for(;A<pe.length&&!pe[A].includes("DetermineComponentFrameRoot");)A++;if(y===ne.length||A===pe.length)for(y=ne.length-1,A=pe.length-1;1<=y&&0<=A&&ne[y]!==pe[A];)A--;for(;1<=y&&0<=A;y--,A--)if(ne[y]!==pe[A]){if(y!==1||A!==1)do if(y--,A--,0>A||ne[y]!==pe[A]){var Ae=`
`+ne[y].replace(" at new "," at ");return o.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",o.displayName)),Ae}while(1<=y&&0<=A);break}}}finally{le=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?U(f):""}function $(o,u){switch(o.tag){case 26:case 27:case 5:return U(o.type);case 16:return U("Lazy");case 13:return o.child!==u&&u!==null?U("Suspense Fallback"):U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return ie(o.type,!1);case 11:return ie(o.type.render,!1);case 1:return ie(o.type,!0);case 31:return U("Activity");default:return""}}function X(o){try{var u="",f=null;do u+=$(o,f),f=o,o=o.return;while(o);return u}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var re=Object.prototype.hasOwnProperty,ve=i.unstable_scheduleCallback,xe=i.unstable_cancelCallback,se=i.unstable_shouldYield,Q=i.unstable_requestPaint,J=i.unstable_now,de=i.unstable_getCurrentPriorityLevel,be=i.unstable_ImmediatePriority,Re=i.unstable_UserBlockingPriority,Ie=i.unstable_NormalPriority,et=i.unstable_LowPriority,Ge=i.unstable_IdlePriority,nt=i.log,vt=i.unstable_setDisableYieldValue,ue=null,_e=null;function Ne(o){if(typeof nt=="function"&&vt(o),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(ue,o)}catch{}}var Be=Math.clz32?Math.clz32:qt,it=Math.log,ft=Math.LN2;function qt(o){return o>>>=0,o===0?32:31-(it(o)/ft|0)|0}var cn=256,ti=262144,P=4194304;function q(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ee(o,u,f){var y=o.pendingLanes;if(y===0)return 0;var A=0,_=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var j=y&134217727;return j!==0?(y=j&~_,y!==0?A=q(y):(N&=j,N!==0?A=q(N):f||(f=j&~o,f!==0&&(A=q(f))))):(j=y&~_,j!==0?A=q(j):N!==0?A=q(N):f||(f=y&~o,f!==0&&(A=q(f)))),A===0?0:u!==0&&u!==A&&(u&_)===0&&(_=A&-A,f=u&-u,_>=f||_===32&&(f&4194048)!==0)?u:A}function me(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Oe(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Je(){var o=P;return P<<=1,(P&62914560)===0&&(P=4194304),o}function Rt(o){for(var u=[],f=0;31>f;f++)u.push(o);return u}function pn(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ci(o,u,f,y,A,_){var N=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var j=o.entanglements,ne=o.expirationTimes,pe=o.hiddenUpdates;for(f=N&~f;0<f;){var Ae=31-Be(f),Se=1<<Ae;j[Ae]=0,ne[Ae]=-1;var ye=pe[Ae];if(ye!==null)for(pe[Ae]=null,Ae=0;Ae<ye.length;Ae++){var De=ye[Ae];De!==null&&(De.lane&=-536870913)}f&=~Se}y!==0&&pr(o,y,0),_!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=_&~(N&~u))}function pr(o,u,f){o.pendingLanes|=u,o.suspendedLanes&=~u;var y=31-Be(u);o.entangledLanes|=u,o.entanglements[y]=o.entanglements[y]|1073741824|f&261930}function qi(o,u){var f=o.entangledLanes|=u;for(o=o.entanglements;f;){var y=31-Be(f),A=1<<y;A&u|o[y]&u&&(o[y]|=u),f&=~A}}function Er(o,u){var f=u&-u;return f=(f&42)!==0?1:gr(f),(f&(o.suspendedLanes|u))!==0?0:f}function gr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function mr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ki(){var o=I.p;return o!==0?o:(o=window.event,o===void 0?32:bA(o.type))}function Sr(o,u){var f=I.p;try{return I.p=o,u()}finally{I.p=f}}var hi=Math.random().toString(36).slice(2),At="__reactFiber$"+hi,Bn="__reactProps$"+hi,Ui="__reactContainer$"+hi,Fo="__reactEvents$"+hi,GR="__reactListeners$"+hi,XR="__reactHandles$"+hi,F2="__reactResources$"+hi,lc="__reactMarker$"+hi;function Lg(o){delete o[At],delete o[Bn],delete o[Fo],delete o[GR],delete o[XR]}function Bo(o){var u=o[At];if(u)return u;for(var f=o.parentNode;f;){if(u=f[Ui]||f[At]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(o=nA(o);o!==null;){if(f=o[At])return f;o=nA(o)}return u}o=f,f=o.parentNode}return null}function Lo(o){if(o=o[At]||o[Ui]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function cc(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(n(33))}function Io(o){var u=o[F2];return u||(u=o[F2]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Cn(o){o[lc]=!0}var B2=new Set,L2={};function Oa(o,u){Po(o,u),Po(o+"Capture",u)}function Po(o,u){for(L2[o]=u,o=0;o<u.length;o++)B2.add(u[o])}var $R=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),I2={},P2={};function YR(o){return re.call(P2,o)?!0:re.call(I2,o)?!1:$R.test(o)?P2[o]=!0:(I2[o]=!0,!1)}function xd(o,u,f){if(YR(u))if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+f)}}function Dd(o,u,f){if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+f)}}function Vr(o,u,f,y){if(y===null)o.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(u,f,""+y)}}function Vi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function z2(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function KR(o,u,f){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var A=y.get,_=y.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return A.call(this)},set:function(N){f=""+N,_.call(this,N)}}),Object.defineProperty(o,u,{enumerable:y.enumerable}),{getValue:function(){return f},setValue:function(N){f=""+N},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Ig(o){if(!o._valueTracker){var u=z2(o)?"checked":"value";o._valueTracker=KR(o,u,""+o[u])}}function W2(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var f=u.getValue(),y="";return o&&(y=z2(o)?o.checked?"true":"false":o.value),o=y,o!==f?(u.setValue(o),!0):!1}function wd(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ZR=/[\n"\\]/g;function Gi(o){return o.replace(ZR,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Pg(o,u,f,y,A,_,N,j){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),u!=null?N==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Vi(u)):o.value!==""+Vi(u)&&(o.value=""+Vi(u)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),u!=null?zg(o,N,Vi(u)):f!=null?zg(o,N,Vi(f)):y!=null&&o.removeAttribute("value"),A==null&&_!=null&&(o.defaultChecked=!!_),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?o.name=""+Vi(j):o.removeAttribute("name")}function j2(o,u,f,y,A,_,N,j){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),u!=null||f!=null){if(!(_!=="submit"&&_!=="reset"||u!=null)){Ig(o);return}f=f!=null?""+Vi(f):"",u=u!=null?""+Vi(u):f,j||u===o.value||(o.value=u),o.defaultValue=u}y=y??A,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=j?o.checked:!!y,o.defaultChecked=!!y,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N),Ig(o)}function zg(o,u,f){u==="number"&&wd(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function zo(o,u,f,y){if(o=o.options,u){u={};for(var A=0;A<f.length;A++)u["$"+f[A]]=!0;for(f=0;f<o.length;f++)A=u.hasOwnProperty("$"+o[f].value),o[f].selected!==A&&(o[f].selected=A),A&&y&&(o[f].defaultSelected=!0)}else{for(f=""+Vi(f),u=null,A=0;A<o.length;A++){if(o[A].value===f){o[A].selected=!0,y&&(o[A].defaultSelected=!0);return}u!==null||o[A].disabled||(u=o[A])}u!==null&&(u.selected=!0)}}function H2(o,u,f){if(u!=null&&(u=""+Vi(u),u!==o.value&&(o.value=u),f==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=f!=null?""+Vi(f):""}function q2(o,u,f,y){if(u==null){if(y!=null){if(f!=null)throw Error(n(92));if(Y(y)){if(1<y.length)throw Error(n(93));y=y[0]}f=y}f==null&&(f=""),u=f}f=Vi(u),o.defaultValue=f,y=o.textContent,y===f&&y!==""&&y!==null&&(o.value=y),Ig(o)}function Wo(o,u){if(u){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=u;return}}o.textContent=u}var QR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function V2(o,u,f){var y=u.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?y?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":y?o.setProperty(u,f):typeof f!="number"||f===0||QR.has(u)?u==="float"?o.cssFloat=f:o[u]=(""+f).trim():o[u]=f+"px"}function G2(o,u,f){if(u!=null&&typeof u!="object")throw Error(n(62));if(o=o.style,f!=null){for(var y in f)!f.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var A in u)y=u[A],u.hasOwnProperty(A)&&f[A]!==y&&V2(o,A,y)}else for(var _ in u)u.hasOwnProperty(_)&&V2(o,_,u[_])}function Wg(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ad(o){return eO.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Gr(){}var jg=null;function Hg(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var jo=null,Ho=null;function X2(o){var u=Lo(o);if(u&&(o=u.stateNode)){var f=o[Bn]||null;e:switch(o=u.stateNode,u.type){case"input":if(Pg(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),u=f.name,f.type==="radio"&&u!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Gi(""+u)+'"][type="radio"]'),u=0;u<f.length;u++){var y=f[u];if(y!==o&&y.form===o.form){var A=y[Bn]||null;if(!A)throw Error(n(90));Pg(y,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(u=0;u<f.length;u++)y=f[u],y.form===o.form&&W2(y)}break e;case"textarea":H2(o,f.value,f.defaultValue);break e;case"select":u=f.value,u!=null&&zo(o,!!f.multiple,u,!1)}}}var qg=!1;function $2(o,u,f){if(qg)return o(u,f);qg=!0;try{var y=o(u);return y}finally{if(qg=!1,(jo!==null||Ho!==null)&&(uh(),jo&&(u=jo,o=Ho,Ho=jo=null,X2(u),o)))for(u=0;u<o.length;u++)X2(o[u])}}function uc(o,u){var f=o.stateNode;if(f===null)return null;var y=f[Bn]||null;if(y===null)return null;f=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,u,typeof f));return f}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vg=!1;if(Xr)try{var dc={};Object.defineProperty(dc,"passive",{get:function(){Vg=!0}}),window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{Vg=!1}var Ss=null,Gg=null,Td=null;function Y2(){if(Td)return Td;var o,u=Gg,f=u.length,y,A="value"in Ss?Ss.value:Ss.textContent,_=A.length;for(o=0;o<f&&u[o]===A[o];o++);var N=f-o;for(y=1;y<=N&&u[f-y]===A[_-y];y++);return Td=A.slice(o,1<y?1-y:void 0)}function _d(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Ed(){return!0}function K2(){return!1}function fi(o){function u(f,y,A,_,N){this._reactName=f,this._targetInst=A,this.type=y,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var j in o)o.hasOwnProperty(j)&&(f=o[j],this[j]=f?f(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ed:K2,this.isPropagationStopped=K2,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ed)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ed)},persist:function(){},isPersistent:Ed}),u}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=fi(Na),hc=p({},Na,{view:0,detail:0}),tO=fi(hc),Xg,$g,fc,Cd=p({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kg,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==fc&&(fc&&o.type==="mousemove"?(Xg=o.screenX-fc.screenX,$g=o.screenY-fc.screenY):$g=Xg=0,fc=o),Xg)},movementY:function(o){return"movementY"in o?o.movementY:$g}}),Z2=fi(Cd),nO=p({},Cd,{dataTransfer:0}),iO=fi(nO),rO=p({},hc,{relatedTarget:0}),Yg=fi(rO),sO=p({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),aO=fi(sO),oO=p({},Na,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),lO=fi(oO),cO=p({},Na,{data:0}),Q2=fi(cO),uO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fO(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=hO[o])?!!u[o]:!1}function Kg(){return fO}var pO=p({},hc,{key:function(o){if(o.key){var u=uO[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=_d(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?dO[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kg,charCode:function(o){return o.type==="keypress"?_d(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_d(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),gO=fi(pO),mO=p({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J2=fi(mO),yO=p({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kg}),bO=fi(yO),vO=p({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),xO=fi(vO),DO=p({},Cd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),wO=fi(DO),AO=p({},Na,{newState:0,oldState:0}),TO=fi(AO),_O=[9,13,27,32],Zg=Xr&&"CompositionEvent"in window,pc=null;Xr&&"documentMode"in document&&(pc=document.documentMode);var EO=Xr&&"TextEvent"in window&&!pc,ex=Xr&&(!Zg||pc&&8<pc&&11>=pc),tx=" ",nx=!1;function ix(o,u){switch(o){case"keyup":return _O.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var qo=!1;function SO(o,u){switch(o){case"compositionend":return rx(u);case"keypress":return u.which!==32?null:(nx=!0,tx);case"textInput":return o=u.data,o===tx&&nx?null:o;default:return null}}function CO(o,u){if(qo)return o==="compositionend"||!Zg&&ix(o,u)?(o=Y2(),Td=Gg=Ss=null,qo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ex&&u.locale!=="ko"?null:u.data;default:return null}}var kO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sx(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!kO[o.type]:u==="textarea"}function ax(o,u,f,y){jo?Ho?Ho.push(y):Ho=[y]:jo=y,u=yh(u,"onChange"),0<u.length&&(f=new Sd("onChange","change",null,f,y),o.push({event:f,listeners:u}))}var gc=null,mc=null;function UO(o){jw(o,0)}function kd(o){var u=cc(o);if(W2(u))return o}function ox(o,u){if(o==="change")return u}var lx=!1;if(Xr){var Qg;if(Xr){var Jg="oninput"in document;if(!Jg){var cx=document.createElement("div");cx.setAttribute("oninput","return;"),Jg=typeof cx.oninput=="function"}Qg=Jg}else Qg=!1;lx=Qg&&(!document.documentMode||9<document.documentMode)}function ux(){gc&&(gc.detachEvent("onpropertychange",dx),mc=gc=null)}function dx(o){if(o.propertyName==="value"&&kd(mc)){var u=[];ax(u,mc,o,Hg(o)),$2(UO,u)}}function MO(o,u,f){o==="focusin"?(ux(),gc=u,mc=f,gc.attachEvent("onpropertychange",dx)):o==="focusout"&&ux()}function RO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return kd(mc)}function OO(o,u){if(o==="click")return kd(u)}function NO(o,u){if(o==="input"||o==="change")return kd(u)}function FO(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Mi=typeof Object.is=="function"?Object.is:FO;function yc(o,u){if(Mi(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var f=Object.keys(o),y=Object.keys(u);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var A=f[y];if(!re.call(u,A)||!Mi(o[A],u[A]))return!1}return!0}function hx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function fx(o,u){var f=hx(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=u&&y>=u)return{node:f,offset:u-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=hx(f)}}function px(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?px(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function gx(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=wd(o.document);u instanceof o.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)o=u.contentWindow;else break;u=wd(o.document)}return u}function em(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var BO=Xr&&"documentMode"in document&&11>=document.documentMode,Vo=null,tm=null,bc=null,nm=!1;function mx(o,u,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;nm||Vo==null||Vo!==wd(y)||(y=Vo,"selectionStart"in y&&em(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),bc&&yc(bc,y)||(bc=y,y=yh(tm,"onSelect"),0<y.length&&(u=new Sd("onSelect","select",null,u,f),o.push({event:u,listeners:y}),u.target=Vo)))}function Fa(o,u){var f={};return f[o.toLowerCase()]=u.toLowerCase(),f["Webkit"+o]="webkit"+u,f["Moz"+o]="moz"+u,f}var Go={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},im={},yx={};Xr&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Ba(o){if(im[o])return im[o];if(!Go[o])return o;var u=Go[o],f;for(f in u)if(u.hasOwnProperty(f)&&f in yx)return im[o]=u[f];return o}var bx=Ba("animationend"),vx=Ba("animationiteration"),xx=Ba("animationstart"),LO=Ba("transitionrun"),IO=Ba("transitionstart"),PO=Ba("transitioncancel"),Dx=Ba("transitionend"),wx=new Map,rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rm.push("scrollEnd");function yr(o,u){wx.set(o,u),Oa(u,[o])}var Ud=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Xi=[],Xo=0,sm=0;function Md(){for(var o=Xo,u=sm=Xo=0;u<o;){var f=Xi[u];Xi[u++]=null;var y=Xi[u];Xi[u++]=null;var A=Xi[u];Xi[u++]=null;var _=Xi[u];if(Xi[u++]=null,y!==null&&A!==null){var N=y.pending;N===null?A.next=A:(A.next=N.next,N.next=A),y.pending=A}_!==0&&Ax(f,A,_)}}function Rd(o,u,f,y){Xi[Xo++]=o,Xi[Xo++]=u,Xi[Xo++]=f,Xi[Xo++]=y,sm|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function am(o,u,f,y){return Rd(o,u,f,y),Od(o)}function La(o,u){return Rd(o,null,null,u),Od(o)}function Ax(o,u,f){o.lanes|=f;var y=o.alternate;y!==null&&(y.lanes|=f);for(var A=!1,_=o.return;_!==null;)_.childLanes|=f,y=_.alternate,y!==null&&(y.childLanes|=f),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(A=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,A&&u!==null&&(A=31-Be(f),o=_.hiddenUpdates,y=o[A],y===null?o[A]=[u]:y.push(u),u.lane=f|536870912),_):null}function Od(o){if(50<zc)throw zc=0,gy=null,Error(n(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var $o={};function zO(o,u,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(o,u,f,y){return new zO(o,u,f,y)}function om(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $r(o,u){var f=o.alternate;return f===null?(f=Ri(o.tag,u,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=u,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,u=o.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function Tx(o,u){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,u=f.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Nd(o,u,f,y,A,_){var N=0;if(y=o,typeof o=="function")om(o)&&(N=1);else if(typeof o=="string")N=VN(o,f,te.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case R:return o=Ri(31,f,u,A),o.elementType=R,o.lanes=_,o;case b:return Ia(f.children,A,_,u);case x:N=8,A|=24;break;case D:return o=Ri(12,f,u,A|2),o.elementType=D,o.lanes=_,o;case E:return o=Ri(13,f,u,A),o.elementType=E,o.lanes=_,o;case S:return o=Ri(19,f,u,A),o.elementType=S,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:N=10;break e;case w:N=9;break e;case C:N=11;break e;case k:N=14;break e;case O:N=16,y=null;break e}N=29,f=Error(n(130,o===null?"null":typeof o,"")),y=null}return u=Ri(N,f,u,A),u.elementType=o,u.type=y,u.lanes=_,u}function Ia(o,u,f,y){return o=Ri(7,o,y,u),o.lanes=f,o}function lm(o,u,f){return o=Ri(6,o,null,u),o.lanes=f,o}function _x(o){var u=Ri(18,null,null,0);return u.stateNode=o,u}function cm(o,u,f){return u=Ri(4,o.children!==null?o.children:[],o.key,u),u.lanes=f,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Ex=new WeakMap;function $i(o,u){if(typeof o=="object"&&o!==null){var f=Ex.get(o);return f!==void 0?f:(u={value:o,source:u,stack:X(u)},Ex.set(o,u),u)}return{value:o,source:u,stack:X(u)}}var Yo=[],Ko=0,Fd=null,vc=0,Yi=[],Ki=0,Cs=null,Cr=1,kr="";function Yr(o,u){Yo[Ko++]=vc,Yo[Ko++]=Fd,Fd=o,vc=u}function Sx(o,u,f){Yi[Ki++]=Cr,Yi[Ki++]=kr,Yi[Ki++]=Cs,Cs=o;var y=Cr;o=kr;var A=32-Be(y)-1;y&=~(1<<A),f+=1;var _=32-Be(u)+A;if(30<_){var N=A-A%5;_=(y&(1<<N)-1).toString(32),y>>=N,A-=N,Cr=1<<32-Be(u)+A|f<<A|y,kr=_+o}else Cr=1<<_|f<<A|y,kr=o}function um(o){o.return!==null&&(Yr(o,1),Sx(o,1,0))}function dm(o){for(;o===Fd;)Fd=Yo[--Ko],Yo[Ko]=null,vc=Yo[--Ko],Yo[Ko]=null;for(;o===Cs;)Cs=Yi[--Ki],Yi[Ki]=null,kr=Yi[--Ki],Yi[Ki]=null,Cr=Yi[--Ki],Yi[Ki]=null}function Cx(o,u){Yi[Ki++]=Cr,Yi[Ki++]=kr,Yi[Ki++]=Cs,Cr=u.id,kr=u.overflow,Cs=o}var Ln=null,Vt=null,xt=!1,ks=null,Zi=!1,hm=Error(n(519));function Us(o){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xc($i(u,o)),hm}function kx(o){var u=o.stateNode,f=o.type,y=o.memoizedProps;switch(u[At]=o,u[Bn]=y,f){case"dialog":mt("cancel",u),mt("close",u);break;case"iframe":case"object":case"embed":mt("load",u);break;case"video":case"audio":for(f=0;f<jc.length;f++)mt(jc[f],u);break;case"source":mt("error",u);break;case"img":case"image":case"link":mt("error",u),mt("load",u);break;case"details":mt("toggle",u);break;case"input":mt("invalid",u),j2(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":mt("invalid",u);break;case"textarea":mt("invalid",u),q2(u,y.value,y.defaultValue,y.children)}f=y.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||u.textContent===""+f||y.suppressHydrationWarning===!0||Gw(u.textContent,f)?(y.popover!=null&&(mt("beforetoggle",u),mt("toggle",u)),y.onScroll!=null&&mt("scroll",u),y.onScrollEnd!=null&&mt("scrollend",u),y.onClick!=null&&(u.onclick=Gr),u=!0):u=!1,u||Us(o,!0)}function Ux(o){for(Ln=o.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Zi=!1;return;case 27:case 3:Zi=!0;return;default:Ln=Ln.return}}function Zo(o){if(o!==Ln)return!1;if(!xt)return Ux(o),xt=!0,!1;var u=o.tag,f;if((f=u!==3&&u!==27)&&((f=u===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Uy(o.type,o.memoizedProps)),f=!f),f&&Vt&&Us(o),Ux(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Vt=tA(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Vt=tA(o)}else u===27?(u=Vt,qs(o.type)?(o=Fy,Fy=null,Vt=o):Vt=u):Vt=Ln?Ji(o.stateNode.nextSibling):null;return!0}function Pa(){Vt=Ln=null,xt=!1}function fm(){var o=ks;return o!==null&&(yi===null?yi=o:yi.push.apply(yi,o),ks=null),o}function xc(o){ks===null?ks=[o]:ks.push(o)}var pm=L(null),za=null,Kr=null;function Ms(o,u,f){G(pm,u._currentValue),u._currentValue=f}function Zr(o){o._currentValue=pm.current,H(pm)}function gm(o,u,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===f)break;o=o.return}}function mm(o,u,f,y){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var _=A.dependencies;if(_!==null){var N=A.child;_=_.firstContext;e:for(;_!==null;){var j=_;_=A;for(var ne=0;ne<u.length;ne++)if(j.context===u[ne]){_.lanes|=f,j=_.alternate,j!==null&&(j.lanes|=f),gm(_.return,f,o),y||(N=null);break e}_=j.next}}else if(A.tag===18){if(N=A.return,N===null)throw Error(n(341));N.lanes|=f,_=N.alternate,_!==null&&(_.lanes|=f),gm(N,f,o),N=null}else N=A.child;if(N!==null)N.return=A;else for(N=A;N!==null;){if(N===o){N=null;break}if(A=N.sibling,A!==null){A.return=N.return,N=A;break}N=N.return}A=N}}function Qo(o,u,f,y){o=null;for(var A=u,_=!1;A!==null;){if(!_){if((A.flags&524288)!==0)_=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var N=A.alternate;if(N===null)throw Error(n(387));if(N=N.memoizedProps,N!==null){var j=A.type;Mi(A.pendingProps.value,N.value)||(o!==null?o.push(j):o=[j])}}else if(A===ge.current){if(N=A.alternate,N===null)throw Error(n(387));N.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(Xc):o=[Xc])}A=A.return}o!==null&&mm(u,o,f,y),u.flags|=262144}function Bd(o){for(o=o.firstContext;o!==null;){if(!Mi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Wa(o){za=o,Kr=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function In(o){return Mx(za,o)}function Ld(o,u){return za===null&&Wa(o),Mx(o,u)}function Mx(o,u){var f=u._currentValue;if(u={context:u,memoizedValue:f,next:null},Kr===null){if(o===null)throw Error(n(308));Kr=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Kr=Kr.next=u;return f}var WO=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(f,y){o.push(y)}};this.abort=function(){u.aborted=!0,o.forEach(function(f){return f()})}},jO=i.unstable_scheduleCallback,HO=i.unstable_NormalPriority,gn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ym(){return{controller:new WO,data:new Map,refCount:0}}function Dc(o){o.refCount--,o.refCount===0&&jO(HO,function(){o.controller.abort()})}var wc=null,bm=0,Jo=0,el=null;function qO(o,u){if(wc===null){var f=wc=[];bm=0,Jo=Dy(),el={status:"pending",value:void 0,then:function(y){f.push(y)}}}return bm++,u.then(Rx,Rx),u}function Rx(){if(--bm===0&&wc!==null){el!==null&&(el.status="fulfilled");var o=wc;wc=null,Jo=0,el=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function VO(o,u){var f=[],y={status:"pending",value:null,reason:null,then:function(A){f.push(A)}};return o.then(function(){y.status="fulfilled",y.value=u;for(var A=0;A<f.length;A++)(0,f[A])(u)},function(A){for(y.status="rejected",y.reason=A,A=0;A<f.length;A++)(0,f[A])(void 0)}),y}var Ox=B.S;B.S=function(o,u){mw=J(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&qO(o,u),Ox!==null&&Ox(o,u)};var ja=L(null);function vm(){var o=ja.current;return o!==null?o:zt.pooledCache}function Id(o,u){u===null?G(ja,ja.current):G(ja,u.pool)}function Nx(){var o=vm();return o===null?null:{parent:gn._currentValue,pool:o}}var tl=Error(n(460)),xm=Error(n(474)),Pd=Error(n(542)),zd={then:function(){}};function Fx(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Bx(o,u,f){switch(f=o[f],f===void 0?o.push(u):f!==u&&(u.then(Gr,Gr),u=f),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Ix(o),o;default:if(typeof u.status=="string")u.then(Gr,Gr);else{if(o=zt,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=u,o.status="pending",o.then(function(y){if(u.status==="pending"){var A=u;A.status="fulfilled",A.value=y}},function(y){if(u.status==="pending"){var A=u;A.status="rejected",A.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Ix(o),o}throw qa=u,tl}}function Ha(o){try{var u=o._init;return u(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(qa=f,tl):f}}var qa=null;function Lx(){if(qa===null)throw Error(n(459));var o=qa;return qa=null,o}function Ix(o){if(o===tl||o===Pd)throw Error(n(483))}var nl=null,Ac=0;function Wd(o){var u=Ac;return Ac+=1,nl===null&&(nl=[]),Bx(nl,o,u)}function Tc(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function jd(o,u){throw u.$$typeof===g?Error(n(525)):(o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Px(o){function u(he,oe){if(o){var fe=he.deletions;fe===null?(he.deletions=[oe],he.flags|=16):fe.push(oe)}}function f(he,oe){if(!o)return null;for(;oe!==null;)u(he,oe),oe=oe.sibling;return null}function y(he){for(var oe=new Map;he!==null;)he.key!==null?oe.set(he.key,he):oe.set(he.index,he),he=he.sibling;return oe}function A(he,oe){return he=$r(he,oe),he.index=0,he.sibling=null,he}function _(he,oe,fe){return he.index=fe,o?(fe=he.alternate,fe!==null?(fe=fe.index,fe<oe?(he.flags|=67108866,oe):fe):(he.flags|=67108866,oe)):(he.flags|=1048576,oe)}function N(he){return o&&he.alternate===null&&(he.flags|=67108866),he}function j(he,oe,fe,Ee){return oe===null||oe.tag!==6?(oe=lm(fe,he.mode,Ee),oe.return=he,oe):(oe=A(oe,fe),oe.return=he,oe)}function ne(he,oe,fe,Ee){var Xe=fe.type;return Xe===b?Ae(he,oe,fe.props.children,Ee,fe.key):oe!==null&&(oe.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===O&&Ha(Xe)===oe.type)?(oe=A(oe,fe.props),Tc(oe,fe),oe.return=he,oe):(oe=Nd(fe.type,fe.key,fe.props,null,he.mode,Ee),Tc(oe,fe),oe.return=he,oe)}function pe(he,oe,fe,Ee){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==fe.containerInfo||oe.stateNode.implementation!==fe.implementation?(oe=cm(fe,he.mode,Ee),oe.return=he,oe):(oe=A(oe,fe.children||[]),oe.return=he,oe)}function Ae(he,oe,fe,Ee,Xe){return oe===null||oe.tag!==7?(oe=Ia(fe,he.mode,Ee,Xe),oe.return=he,oe):(oe=A(oe,fe),oe.return=he,oe)}function Se(he,oe,fe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=lm(""+oe,he.mode,fe),oe.return=he,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case m:return fe=Nd(oe.type,oe.key,oe.props,null,he.mode,fe),Tc(fe,oe),fe.return=he,fe;case v:return oe=cm(oe,he.mode,fe),oe.return=he,oe;case O:return oe=Ha(oe),Se(he,oe,fe)}if(Y(oe)||F(oe))return oe=Ia(oe,he.mode,fe,null),oe.return=he,oe;if(typeof oe.then=="function")return Se(he,Wd(oe),fe);if(oe.$$typeof===T)return Se(he,Ld(he,oe),fe);jd(he,oe)}return null}function ye(he,oe,fe,Ee){var Xe=oe!==null?oe.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Xe!==null?null:j(he,oe,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case m:return fe.key===Xe?ne(he,oe,fe,Ee):null;case v:return fe.key===Xe?pe(he,oe,fe,Ee):null;case O:return fe=Ha(fe),ye(he,oe,fe,Ee)}if(Y(fe)||F(fe))return Xe!==null?null:Ae(he,oe,fe,Ee,null);if(typeof fe.then=="function")return ye(he,oe,Wd(fe),Ee);if(fe.$$typeof===T)return ye(he,oe,Ld(he,fe),Ee);jd(he,fe)}return null}function De(he,oe,fe,Ee,Xe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return he=he.get(fe)||null,j(oe,he,""+Ee,Xe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case m:return he=he.get(Ee.key===null?fe:Ee.key)||null,ne(oe,he,Ee,Xe);case v:return he=he.get(Ee.key===null?fe:Ee.key)||null,pe(oe,he,Ee,Xe);case O:return Ee=Ha(Ee),De(he,oe,fe,Ee,Xe)}if(Y(Ee)||F(Ee))return he=he.get(fe)||null,Ae(oe,he,Ee,Xe,null);if(typeof Ee.then=="function")return De(he,oe,fe,Wd(Ee),Xe);if(Ee.$$typeof===T)return De(he,oe,fe,Ld(oe,Ee),Xe);jd(oe,Ee)}return null}function We(he,oe,fe,Ee){for(var Xe=null,_t=null,Ve=oe,ct=oe=0,bt=null;Ve!==null&&ct<fe.length;ct++){Ve.index>ct?(bt=Ve,Ve=null):bt=Ve.sibling;var Et=ye(he,Ve,fe[ct],Ee);if(Et===null){Ve===null&&(Ve=bt);break}o&&Ve&&Et.alternate===null&&u(he,Ve),oe=_(Et,oe,ct),_t===null?Xe=Et:_t.sibling=Et,_t=Et,Ve=bt}if(ct===fe.length)return f(he,Ve),xt&&Yr(he,ct),Xe;if(Ve===null){for(;ct<fe.length;ct++)Ve=Se(he,fe[ct],Ee),Ve!==null&&(oe=_(Ve,oe,ct),_t===null?Xe=Ve:_t.sibling=Ve,_t=Ve);return xt&&Yr(he,ct),Xe}for(Ve=y(Ve);ct<fe.length;ct++)bt=De(Ve,he,ct,fe[ct],Ee),bt!==null&&(o&&bt.alternate!==null&&Ve.delete(bt.key===null?ct:bt.key),oe=_(bt,oe,ct),_t===null?Xe=bt:_t.sibling=bt,_t=bt);return o&&Ve.forEach(function(Ys){return u(he,Ys)}),xt&&Yr(he,ct),Xe}function Ze(he,oe,fe,Ee){if(fe==null)throw Error(n(151));for(var Xe=null,_t=null,Ve=oe,ct=oe=0,bt=null,Et=fe.next();Ve!==null&&!Et.done;ct++,Et=fe.next()){Ve.index>ct?(bt=Ve,Ve=null):bt=Ve.sibling;var Ys=ye(he,Ve,Et.value,Ee);if(Ys===null){Ve===null&&(Ve=bt);break}o&&Ve&&Ys.alternate===null&&u(he,Ve),oe=_(Ys,oe,ct),_t===null?Xe=Ys:_t.sibling=Ys,_t=Ys,Ve=bt}if(Et.done)return f(he,Ve),xt&&Yr(he,ct),Xe;if(Ve===null){for(;!Et.done;ct++,Et=fe.next())Et=Se(he,Et.value,Ee),Et!==null&&(oe=_(Et,oe,ct),_t===null?Xe=Et:_t.sibling=Et,_t=Et);return xt&&Yr(he,ct),Xe}for(Ve=y(Ve);!Et.done;ct++,Et=fe.next())Et=De(Ve,he,ct,Et.value,Ee),Et!==null&&(o&&Et.alternate!==null&&Ve.delete(Et.key===null?ct:Et.key),oe=_(Et,oe,ct),_t===null?Xe=Et:_t.sibling=Et,_t=Et);return o&&Ve.forEach(function(n5){return u(he,n5)}),xt&&Yr(he,ct),Xe}function It(he,oe,fe,Ee){if(typeof fe=="object"&&fe!==null&&fe.type===b&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case m:e:{for(var Xe=fe.key;oe!==null;){if(oe.key===Xe){if(Xe=fe.type,Xe===b){if(oe.tag===7){f(he,oe.sibling),Ee=A(oe,fe.props.children),Ee.return=he,he=Ee;break e}}else if(oe.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===O&&Ha(Xe)===oe.type){f(he,oe.sibling),Ee=A(oe,fe.props),Tc(Ee,fe),Ee.return=he,he=Ee;break e}f(he,oe);break}else u(he,oe);oe=oe.sibling}fe.type===b?(Ee=Ia(fe.props.children,he.mode,Ee,fe.key),Ee.return=he,he=Ee):(Ee=Nd(fe.type,fe.key,fe.props,null,he.mode,Ee),Tc(Ee,fe),Ee.return=he,he=Ee)}return N(he);case v:e:{for(Xe=fe.key;oe!==null;){if(oe.key===Xe)if(oe.tag===4&&oe.stateNode.containerInfo===fe.containerInfo&&oe.stateNode.implementation===fe.implementation){f(he,oe.sibling),Ee=A(oe,fe.children||[]),Ee.return=he,he=Ee;break e}else{f(he,oe);break}else u(he,oe);oe=oe.sibling}Ee=cm(fe,he.mode,Ee),Ee.return=he,he=Ee}return N(he);case O:return fe=Ha(fe),It(he,oe,fe,Ee)}if(Y(fe))return We(he,oe,fe,Ee);if(F(fe)){if(Xe=F(fe),typeof Xe!="function")throw Error(n(150));return fe=Xe.call(fe),Ze(he,oe,fe,Ee)}if(typeof fe.then=="function")return It(he,oe,Wd(fe),Ee);if(fe.$$typeof===T)return It(he,oe,Ld(he,fe),Ee);jd(he,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,oe!==null&&oe.tag===6?(f(he,oe.sibling),Ee=A(oe,fe),Ee.return=he,he=Ee):(f(he,oe),Ee=lm(fe,he.mode,Ee),Ee.return=he,he=Ee),N(he)):f(he,oe)}return function(he,oe,fe,Ee){try{Ac=0;var Xe=It(he,oe,fe,Ee);return nl=null,Xe}catch(Ve){if(Ve===tl||Ve===Pd)throw Ve;var _t=Ri(29,Ve,null,he.mode);return _t.lanes=Ee,_t.return=he,_t}finally{}}}var Va=Px(!0),zx=Px(!1),Rs=!1;function Dm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wm(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Os(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ns(o,u,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(St&2)!==0){var A=y.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),y.pending=u,u=Od(o),Ax(o,null,f),u}return Rd(o,y,u,f),Od(o)}function _c(o,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194048)!==0)){var y=u.lanes;y&=o.pendingLanes,f|=y,u.lanes=f,qi(o,f)}}function Am(o,u){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var A=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var N={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};_===null?A=_=N:_=_.next=N,f=f.next}while(f!==null);_===null?A=_=u:_=_.next=u}else A=_=u;f={baseState:y.baseState,firstBaseUpdate:A,lastBaseUpdate:_,shared:y.shared,callbacks:y.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=u}var Tm=!1;function Ec(){if(Tm){var o=el;if(o!==null)throw o}}function Sc(o,u,f,y){Tm=!1;var A=o.updateQueue;Rs=!1;var _=A.firstBaseUpdate,N=A.lastBaseUpdate,j=A.shared.pending;if(j!==null){A.shared.pending=null;var ne=j,pe=ne.next;ne.next=null,N===null?_=pe:N.next=pe,N=ne;var Ae=o.alternate;Ae!==null&&(Ae=Ae.updateQueue,j=Ae.lastBaseUpdate,j!==N&&(j===null?Ae.firstBaseUpdate=pe:j.next=pe,Ae.lastBaseUpdate=ne))}if(_!==null){var Se=A.baseState;N=0,Ae=pe=ne=null,j=_;do{var ye=j.lane&-536870913,De=ye!==j.lane;if(De?(yt&ye)===ye:(y&ye)===ye){ye!==0&&ye===Jo&&(Tm=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var We=o,Ze=j;ye=u;var It=f;switch(Ze.tag){case 1:if(We=Ze.payload,typeof We=="function"){Se=We.call(It,Se,ye);break e}Se=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ze.payload,ye=typeof We=="function"?We.call(It,Se,ye):We,ye==null)break e;Se=p({},Se,ye);break e;case 2:Rs=!0}}ye=j.callback,ye!==null&&(o.flags|=64,De&&(o.flags|=8192),De=A.callbacks,De===null?A.callbacks=[ye]:De.push(ye))}else De={lane:ye,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Ae===null?(pe=Ae=De,ne=Se):Ae=Ae.next=De,N|=ye;if(j=j.next,j===null){if(j=A.shared.pending,j===null)break;De=j,j=De.next,De.next=null,A.lastBaseUpdate=De,A.shared.pending=null}}while(!0);Ae===null&&(ne=Se),A.baseState=ne,A.firstBaseUpdate=pe,A.lastBaseUpdate=Ae,_===null&&(A.shared.lanes=0),Ps|=N,o.lanes=N,o.memoizedState=Se}}function Wx(o,u){if(typeof o!="function")throw Error(n(191,o));o.call(u)}function jx(o,u){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)Wx(f[o],u)}var il=L(null),Hd=L(0);function Hx(o,u){o=as,G(Hd,o),G(il,u),as=o|u.baseLanes}function _m(){G(Hd,as),G(il,il.current)}function Em(){as=Hd.current,H(il),H(Hd)}var Oi=L(null),Qi=null;function Fs(o){var u=o.alternate;G(un,un.current&1),G(Oi,o),Qi===null&&(u===null||il.current!==null||u.memoizedState!==null)&&(Qi=o)}function Sm(o){G(un,un.current),G(Oi,o),Qi===null&&(Qi=o)}function qx(o){o.tag===22?(G(un,un.current),G(Oi,o),Qi===null&&(Qi=o)):Bs()}function Bs(){G(un,un.current),G(Oi,Oi.current)}function Ni(o){H(Oi),Qi===o&&(Qi=null),H(un)}var un=L(0);function qd(o){for(var u=o;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Oy(f)||Ny(f)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Qr=0,ot=null,Bt=null,mn=null,Vd=!1,rl=!1,Ga=!1,Gd=0,Cc=0,sl=null,GO=0;function nn(){throw Error(n(321))}function Cm(o,u){if(u===null)return!1;for(var f=0;f<u.length&&f<o.length;f++)if(!Mi(o[f],u[f]))return!1;return!0}function km(o,u,f,y,A,_){return Qr=_,ot=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,B.H=o===null||o.memoizedState===null?SD:qm,Ga=!1,_=f(y,A),Ga=!1,rl&&(_=Gx(u,f,y,A)),Vx(o),_}function Vx(o){B.H=Mc;var u=Bt!==null&&Bt.next!==null;if(Qr=0,mn=Bt=ot=null,Vd=!1,Cc=0,sl=null,u)throw Error(n(300));o===null||yn||(o=o.dependencies,o!==null&&Bd(o)&&(yn=!0))}function Gx(o,u,f,y){ot=o;var A=0;do{if(rl&&(sl=null),Cc=0,rl=!1,25<=A)throw Error(n(301));if(A+=1,mn=Bt=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}B.H=CD,_=u(f,y)}while(rl);return _}function XO(){var o=B.H,u=o.useState()[0];return u=typeof u.then=="function"?kc(u):u,o=o.useState()[0],(Bt!==null?Bt.memoizedState:null)!==o&&(ot.flags|=1024),u}function Um(){var o=Gd!==0;return Gd=0,o}function Mm(o,u,f){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~f}function Rm(o){if(Vd){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Vd=!1}Qr=0,mn=Bt=ot=null,rl=!1,Cc=Gd=0,sl=null}function ni(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?ot.memoizedState=mn=o:mn=mn.next=o,mn}function dn(){if(Bt===null){var o=ot.alternate;o=o!==null?o.memoizedState:null}else o=Bt.next;var u=mn===null?ot.memoizedState:mn.next;if(u!==null)mn=u,Bt=o;else{if(o===null)throw ot.alternate===null?Error(n(467)):Error(n(310));Bt=o,o={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},mn===null?ot.memoizedState=mn=o:mn=mn.next=o}return mn}function Xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(o){var u=Cc;return Cc+=1,sl===null&&(sl=[]),o=Bx(sl,o,u),u=ot,(mn===null?u.memoizedState:mn.next)===null&&(u=u.alternate,B.H=u===null||u.memoizedState===null?SD:qm),o}function $d(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return kc(o);if(o.$$typeof===T)return In(o)}throw Error(n(438,String(o)))}function Om(o){var u=null,f=ot.updateQueue;if(f!==null&&(u=f.memoCache),u==null){var y=ot.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(A){return A.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),f===null&&(f=Xd(),ot.updateQueue=f),f.memoCache=u,f=u.data[u.index],f===void 0)for(f=u.data[u.index]=Array(o),y=0;y<o;y++)f[y]=z;return u.index++,f}function Jr(o,u){return typeof u=="function"?u(o):u}function Yd(o){var u=dn();return Nm(u,Bt,o)}function Nm(o,u,f){var y=o.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=f;var A=o.baseQueue,_=y.pending;if(_!==null){if(A!==null){var N=A.next;A.next=_.next,_.next=N}u.baseQueue=A=_,y.pending=null}if(_=o.baseState,A===null)o.memoizedState=_;else{u=A.next;var j=N=null,ne=null,pe=u,Ae=!1;do{var Se=pe.lane&-536870913;if(Se!==pe.lane?(yt&Se)===Se:(Qr&Se)===Se){var ye=pe.revertLane;if(ye===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Se===Jo&&(Ae=!0);else if((Qr&ye)===ye){pe=pe.next,ye===Jo&&(Ae=!0);continue}else Se={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ne===null?(j=ne=Se,N=_):ne=ne.next=Se,ot.lanes|=ye,Ps|=ye;Se=pe.action,Ga&&f(_,Se),_=pe.hasEagerState?pe.eagerState:f(_,Se)}else ye={lane:Se,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ne===null?(j=ne=ye,N=_):ne=ne.next=ye,ot.lanes|=Se,Ps|=Se;pe=pe.next}while(pe!==null&&pe!==u);if(ne===null?N=_:ne.next=j,!Mi(_,o.memoizedState)&&(yn=!0,Ae&&(f=el,f!==null)))throw f;o.memoizedState=_,o.baseState=N,o.baseQueue=ne,y.lastRenderedState=_}return A===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function Fm(o){var u=dn(),f=u.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=f.dispatch,A=f.pending,_=u.memoizedState;if(A!==null){f.pending=null;var N=A=A.next;do _=o(_,N.action),N=N.next;while(N!==A);Mi(_,u.memoizedState)||(yn=!0),u.memoizedState=_,u.baseQueue===null&&(u.baseState=_),f.lastRenderedState=_}return[_,y]}function Xx(o,u,f){var y=ot,A=dn(),_=xt;if(_){if(f===void 0)throw Error(n(407));f=f()}else f=u();var N=!Mi((Bt||A).memoizedState,f);if(N&&(A.memoizedState=f,yn=!0),A=A.queue,Im(Kx.bind(null,y,A,o),[o]),A.getSnapshot!==u||N||mn!==null&&mn.memoizedState.tag&1){if(y.flags|=2048,al(9,{destroy:void 0},Yx.bind(null,y,A,f,u),null),zt===null)throw Error(n(349));_||(Qr&127)!==0||$x(y,u,f)}return f}function $x(o,u,f){o.flags|=16384,o={getSnapshot:u,value:f},u=ot.updateQueue,u===null?(u=Xd(),ot.updateQueue=u,u.stores=[o]):(f=u.stores,f===null?u.stores=[o]:f.push(o))}function Yx(o,u,f,y){u.value=f,u.getSnapshot=y,Zx(u)&&Qx(o)}function Kx(o,u,f){return f(function(){Zx(u)&&Qx(o)})}function Zx(o){var u=o.getSnapshot;o=o.value;try{var f=u();return!Mi(o,f)}catch{return!0}}function Qx(o){var u=La(o,2);u!==null&&bi(u,o,2)}function Bm(o){var u=ni();if(typeof o=="function"){var f=o;if(o=f(),Ga){Ne(!0);try{f()}finally{Ne(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:o},u}function Jx(o,u,f,y){return o.baseState=f,Nm(o,Bt,typeof y=="function"?y:Jr)}function $O(o,u,f,y,A){if(Qd(o))throw Error(n(485));if(o=u.action,o!==null){var _={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};B.T!==null?f(!0):_.isTransition=!1,y(_),f=u.pending,f===null?(_.next=u.pending=_,eD(u,_)):(_.next=f.next,u.pending=f.next=_)}}function eD(o,u){var f=u.action,y=u.payload,A=o.state;if(u.isTransition){var _=B.T,N={};B.T=N;try{var j=f(A,y),ne=B.S;ne!==null&&ne(N,j),tD(o,u,j)}catch(pe){Lm(o,u,pe)}finally{_!==null&&N.types!==null&&(_.types=N.types),B.T=_}}else try{_=f(A,y),tD(o,u,_)}catch(pe){Lm(o,u,pe)}}function tD(o,u,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(y){nD(o,u,y)},function(y){return Lm(o,u,y)}):nD(o,u,f)}function nD(o,u,f){u.status="fulfilled",u.value=f,iD(u),o.state=f,u=o.pending,u!==null&&(f=u.next,f===u?o.pending=null:(f=f.next,u.next=f,eD(o,f)))}function Lm(o,u,f){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=f,iD(u),u=u.next;while(u!==y)}o.action=null}function iD(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function rD(o,u){return u}function sD(o,u){if(xt){var f=zt.formState;if(f!==null){e:{var y=ot;if(xt){if(Vt){t:{for(var A=Vt,_=Zi;A.nodeType!==8;){if(!_){A=null;break t}if(A=Ji(A.nextSibling),A===null){A=null;break t}}_=A.data,A=_==="F!"||_==="F"?A:null}if(A){Vt=Ji(A.nextSibling),y=A.data==="F!";break e}}Us(y)}y=!1}y&&(u=f[0])}}return f=ni(),f.memoizedState=f.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rD,lastRenderedState:u},f.queue=y,f=TD.bind(null,ot,y),y.dispatch=f,y=Bm(!1),_=Hm.bind(null,ot,!1,y.queue),y=ni(),A={state:u,dispatch:null,action:o,pending:null},y.queue=A,f=$O.bind(null,ot,A,_,f),A.dispatch=f,y.memoizedState=o,[u,f,!1]}function aD(o){var u=dn();return oD(u,Bt,o)}function oD(o,u,f){if(u=Nm(o,u,rD)[0],o=Yd(Jr)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=kc(u)}catch(N){throw N===tl?Pd:N}else y=u;u=dn();var A=u.queue,_=A.dispatch;return f!==u.memoizedState&&(ot.flags|=2048,al(9,{destroy:void 0},YO.bind(null,A,f),null)),[y,_,o]}function YO(o,u){o.action=u}function lD(o){var u=dn(),f=Bt;if(f!==null)return oD(u,f,o);dn(),u=u.memoizedState,f=dn();var y=f.queue.dispatch;return f.memoizedState=o,[u,y,!1]}function al(o,u,f,y){return o={tag:o,create:f,deps:y,inst:u,next:null},u=ot.updateQueue,u===null&&(u=Xd(),ot.updateQueue=u),f=u.lastEffect,f===null?u.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,u.lastEffect=o),o}function cD(){return dn().memoizedState}function Kd(o,u,f,y){var A=ni();ot.flags|=o,A.memoizedState=al(1|u,{destroy:void 0},f,y===void 0?null:y)}function Zd(o,u,f,y){var A=dn();y=y===void 0?null:y;var _=A.memoizedState.inst;Bt!==null&&y!==null&&Cm(y,Bt.memoizedState.deps)?A.memoizedState=al(u,_,f,y):(ot.flags|=o,A.memoizedState=al(1|u,_,f,y))}function uD(o,u){Kd(8390656,8,o,u)}function Im(o,u){Zd(2048,8,o,u)}function KO(o){ot.flags|=4;var u=ot.updateQueue;if(u===null)u=Xd(),ot.updateQueue=u,u.events=[o];else{var f=u.events;f===null?u.events=[o]:f.push(o)}}function dD(o){var u=dn().memoizedState;return KO({ref:u,nextImpl:o}),function(){if((St&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function hD(o,u){return Zd(4,2,o,u)}function fD(o,u){return Zd(4,4,o,u)}function pD(o,u){if(typeof u=="function"){o=o();var f=u(o);return function(){typeof f=="function"?f():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function gD(o,u,f){f=f!=null?f.concat([o]):null,Zd(4,4,pD.bind(null,u,o),f)}function Pm(){}function mD(o,u){var f=dn();u=u===void 0?null:u;var y=f.memoizedState;return u!==null&&Cm(u,y[1])?y[0]:(f.memoizedState=[o,u],o)}function yD(o,u){var f=dn();u=u===void 0?null:u;var y=f.memoizedState;if(u!==null&&Cm(u,y[1]))return y[0];if(y=o(),Ga){Ne(!0);try{o()}finally{Ne(!1)}}return f.memoizedState=[y,u],y}function zm(o,u,f){return f===void 0||(Qr&1073741824)!==0&&(yt&261930)===0?o.memoizedState=u:(o.memoizedState=f,o=bw(),ot.lanes|=o,Ps|=o,f)}function bD(o,u,f,y){return Mi(f,u)?f:il.current!==null?(o=zm(o,f,y),Mi(o,u)||(yn=!0),o):(Qr&42)===0||(Qr&1073741824)!==0&&(yt&261930)===0?(yn=!0,o.memoizedState=f):(o=bw(),ot.lanes|=o,Ps|=o,u)}function vD(o,u,f,y,A){var _=I.p;I.p=_!==0&&8>_?_:8;var N=B.T,j={};B.T=j,Hm(o,!1,u,f);try{var ne=A(),pe=B.S;if(pe!==null&&pe(j,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ae=VO(ne,y);Uc(o,u,Ae,Li(o))}else Uc(o,u,y,Li(o))}catch(Se){Uc(o,u,{then:function(){},status:"rejected",reason:Se},Li())}finally{I.p=_,N!==null&&j.types!==null&&(N.types=j.types),B.T=N}}function ZO(){}function Wm(o,u,f,y){if(o.tag!==5)throw Error(n(476));var A=xD(o).queue;vD(o,A,u,V,f===null?ZO:function(){return DD(o),f(y)})}function xD(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:V},next:null};var f={};return u.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:f},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function DD(o){var u=xD(o);u.next===null&&(u=o.alternate.memoizedState),Uc(o,u.next.queue,{},Li())}function jm(){return In(Xc)}function wD(){return dn().memoizedState}function AD(){return dn().memoizedState}function QO(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var f=Li();o=Os(f);var y=Ns(u,o,f);y!==null&&(bi(y,u,f),_c(y,u,f)),u={cache:ym()},o.payload=u;return}u=u.return}}function JO(o,u,f){var y=Li();f={lane:y,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Qd(o)?_D(u,f):(f=am(o,u,f,y),f!==null&&(bi(f,o,y),ED(f,u,y)))}function TD(o,u,f){var y=Li();Uc(o,u,f,y)}function Uc(o,u,f,y){var A={lane:y,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Qd(o))_D(u,A);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=u.lastRenderedReducer,_!==null))try{var N=u.lastRenderedState,j=_(N,f);if(A.hasEagerState=!0,A.eagerState=j,Mi(j,N))return Rd(o,u,A,0),zt===null&&Md(),!1}catch{}finally{}if(f=am(o,u,A,y),f!==null)return bi(f,o,y),ED(f,u,y),!0}return!1}function Hm(o,u,f,y){if(y={lane:2,revertLane:Dy(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Qd(o)){if(u)throw Error(n(479))}else u=am(o,f,y,2),u!==null&&bi(u,o,2)}function Qd(o){var u=o.alternate;return o===ot||u!==null&&u===ot}function _D(o,u){rl=Vd=!0;var f=o.pending;f===null?u.next=u:(u.next=f.next,f.next=u),o.pending=u}function ED(o,u,f){if((f&4194048)!==0){var y=u.lanes;y&=o.pendingLanes,f|=y,u.lanes=f,qi(o,f)}}var Mc={readContext:In,use:$d,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Mc.useEffectEvent=nn;var SD={readContext:In,use:$d,useCallback:function(o,u){return ni().memoizedState=[o,u===void 0?null:u],o},useContext:In,useEffect:uD,useImperativeHandle:function(o,u,f){f=f!=null?f.concat([o]):null,Kd(4194308,4,pD.bind(null,u,o),f)},useLayoutEffect:function(o,u){return Kd(4194308,4,o,u)},useInsertionEffect:function(o,u){Kd(4,2,o,u)},useMemo:function(o,u){var f=ni();u=u===void 0?null:u;var y=o();if(Ga){Ne(!0);try{o()}finally{Ne(!1)}}return f.memoizedState=[y,u],y},useReducer:function(o,u,f){var y=ni();if(f!==void 0){var A=f(u);if(Ga){Ne(!0);try{f(u)}finally{Ne(!1)}}}else A=u;return y.memoizedState=y.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},y.queue=o,o=o.dispatch=JO.bind(null,ot,o),[y.memoizedState,o]},useRef:function(o){var u=ni();return o={current:o},u.memoizedState=o},useState:function(o){o=Bm(o);var u=o.queue,f=TD.bind(null,ot,u);return u.dispatch=f,[o.memoizedState,f]},useDebugValue:Pm,useDeferredValue:function(o,u){var f=ni();return zm(f,o,u)},useTransition:function(){var o=Bm(!1);return o=vD.bind(null,ot,o.queue,!0,!1),ni().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,f){var y=ot,A=ni();if(xt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=u(),zt===null)throw Error(n(349));(yt&127)!==0||$x(y,u,f)}A.memoizedState=f;var _={value:f,getSnapshot:u};return A.queue=_,uD(Kx.bind(null,y,_,o),[o]),y.flags|=2048,al(9,{destroy:void 0},Yx.bind(null,y,_,f,u),null),f},useId:function(){var o=ni(),u=zt.identifierPrefix;if(xt){var f=kr,y=Cr;f=(y&~(1<<32-Be(y)-1)).toString(32)+f,u="_"+u+"R_"+f,f=Gd++,0<f&&(u+="H"+f.toString(32)),u+="_"}else f=GO++,u="_"+u+"r_"+f.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:jm,useFormState:sD,useActionState:sD,useOptimistic:function(o){var u=ni();u.memoizedState=u.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=f,u=Hm.bind(null,ot,!0,f),f.dispatch=u,[o,u]},useMemoCache:Om,useCacheRefresh:function(){return ni().memoizedState=QO.bind(null,ot)},useEffectEvent:function(o){var u=ni(),f={impl:o};return u.memoizedState=f,function(){if((St&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}},qm={readContext:In,use:$d,useCallback:mD,useContext:In,useEffect:Im,useImperativeHandle:gD,useInsertionEffect:hD,useLayoutEffect:fD,useMemo:yD,useReducer:Yd,useRef:cD,useState:function(){return Yd(Jr)},useDebugValue:Pm,useDeferredValue:function(o,u){var f=dn();return bD(f,Bt.memoizedState,o,u)},useTransition:function(){var o=Yd(Jr)[0],u=dn().memoizedState;return[typeof o=="boolean"?o:kc(o),u]},useSyncExternalStore:Xx,useId:wD,useHostTransitionStatus:jm,useFormState:aD,useActionState:aD,useOptimistic:function(o,u){var f=dn();return Jx(f,Bt,o,u)},useMemoCache:Om,useCacheRefresh:AD};qm.useEffectEvent=dD;var CD={readContext:In,use:$d,useCallback:mD,useContext:In,useEffect:Im,useImperativeHandle:gD,useInsertionEffect:hD,useLayoutEffect:fD,useMemo:yD,useReducer:Fm,useRef:cD,useState:function(){return Fm(Jr)},useDebugValue:Pm,useDeferredValue:function(o,u){var f=dn();return Bt===null?zm(f,o,u):bD(f,Bt.memoizedState,o,u)},useTransition:function(){var o=Fm(Jr)[0],u=dn().memoizedState;return[typeof o=="boolean"?o:kc(o),u]},useSyncExternalStore:Xx,useId:wD,useHostTransitionStatus:jm,useFormState:lD,useActionState:lD,useOptimistic:function(o,u){var f=dn();return Bt!==null?Jx(f,Bt,o,u):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Om,useCacheRefresh:AD};CD.useEffectEvent=dD;function Vm(o,u,f,y){u=o.memoizedState,f=f(y,u),f=f==null?u:p({},u,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Gm={enqueueSetState:function(o,u,f){o=o._reactInternals;var y=Li(),A=Os(y);A.payload=u,f!=null&&(A.callback=f),u=Ns(o,A,y),u!==null&&(bi(u,o,y),_c(u,o,y))},enqueueReplaceState:function(o,u,f){o=o._reactInternals;var y=Li(),A=Os(y);A.tag=1,A.payload=u,f!=null&&(A.callback=f),u=Ns(o,A,y),u!==null&&(bi(u,o,y),_c(u,o,y))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var f=Li(),y=Os(f);y.tag=2,u!=null&&(y.callback=u),u=Ns(o,y,f),u!==null&&(bi(u,o,f),_c(u,o,f))}};function kD(o,u,f,y,A,_,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,_,N):u.prototype&&u.prototype.isPureReactComponent?!yc(f,y)||!yc(A,_):!0}function UD(o,u,f,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,y),u.state!==o&&Gm.enqueueReplaceState(u,u.state,null)}function Xa(o,u){var f=u;if("ref"in u){f={};for(var y in u)y!=="ref"&&(f[y]=u[y])}if(o=o.defaultProps){f===u&&(f=p({},f));for(var A in o)f[A]===void 0&&(f[A]=o[A])}return f}function MD(o){Ud(o)}function RD(o){console.error(o)}function OD(o){Ud(o)}function Jd(o,u){try{var f=o.onUncaughtError;f(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function ND(o,u,f){try{var y=o.onCaughtError;y(f.value,{componentStack:f.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Xm(o,u,f){return f=Os(f),f.tag=3,f.payload={element:null},f.callback=function(){Jd(o,u)},f}function FD(o){return o=Os(o),o.tag=3,o}function BD(o,u,f,y){var A=f.type.getDerivedStateFromError;if(typeof A=="function"){var _=y.value;o.payload=function(){return A(_)},o.callback=function(){ND(u,f,y)}}var N=f.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){ND(u,f,y),typeof A!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var j=y.stack;this.componentDidCatch(y.value,{componentStack:j!==null?j:""})})}function eN(o,u,f,y,A){if(f.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=f.alternate,u!==null&&Qo(u,f,A,!0),f=Oi.current,f!==null){switch(f.tag){case 31:case 13:return Qi===null?dh():f.alternate===null&&rn===0&&(rn=3),f.flags&=-257,f.flags|=65536,f.lanes=A,y===zd?f.flags|=16384:(u=f.updateQueue,u===null?f.updateQueue=new Set([y]):u.add(y),by(o,y,A)),!1;case 22:return f.flags|=65536,y===zd?f.flags|=16384:(u=f.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},f.updateQueue=u):(f=u.retryQueue,f===null?u.retryQueue=new Set([y]):f.add(y)),by(o,y,A)),!1}throw Error(n(435,f.tag))}return by(o,y,A),dh(),!1}if(xt)return u=Oi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=A,y!==hm&&(o=Error(n(422),{cause:y}),xc($i(o,f)))):(y!==hm&&(u=Error(n(423),{cause:y}),xc($i(u,f))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,y=$i(y,f),A=Xm(o.stateNode,y,A),Am(o,A),rn!==4&&(rn=2)),!1;var _=Error(n(520),{cause:y});if(_=$i(_,f),Pc===null?Pc=[_]:Pc.push(_),rn!==4&&(rn=2),u===null)return!0;y=$i(y,f),f=u;do{switch(f.tag){case 3:return f.flags|=65536,o=A&-A,f.lanes|=o,o=Xm(f.stateNode,y,o),Am(f,o),!1;case 1:if(u=f.type,_=f.stateNode,(f.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(zs===null||!zs.has(_))))return f.flags|=65536,A&=-A,f.lanes|=A,A=FD(A),BD(A,o,f,y),Am(f,A),!1}f=f.return}while(f!==null);return!1}var $m=Error(n(461)),yn=!1;function Pn(o,u,f,y){u.child=o===null?zx(u,null,f,y):Va(u,o.child,f,y)}function LD(o,u,f,y,A){f=f.render;var _=u.ref;if("ref"in y){var N={};for(var j in y)j!=="ref"&&(N[j]=y[j])}else N=y;return Wa(u),y=km(o,u,f,N,_,A),j=Um(),o!==null&&!yn?(Mm(o,u,A),es(o,u,A)):(xt&&j&&um(u),u.flags|=1,Pn(o,u,y,A),u.child)}function ID(o,u,f,y,A){if(o===null){var _=f.type;return typeof _=="function"&&!om(_)&&_.defaultProps===void 0&&f.compare===null?(u.tag=15,u.type=_,PD(o,u,_,y,A)):(o=Nd(f.type,null,y,u,u.mode,A),o.ref=u.ref,o.return=u,u.child=o)}if(_=o.child,!ny(o,A)){var N=_.memoizedProps;if(f=f.compare,f=f!==null?f:yc,f(N,y)&&o.ref===u.ref)return es(o,u,A)}return u.flags|=1,o=$r(_,y),o.ref=u.ref,o.return=u,u.child=o}function PD(o,u,f,y,A){if(o!==null){var _=o.memoizedProps;if(yc(_,y)&&o.ref===u.ref)if(yn=!1,u.pendingProps=y=_,ny(o,A))(o.flags&131072)!==0&&(yn=!0);else return u.lanes=o.lanes,es(o,u,A)}return Ym(o,u,f,y,A)}function zD(o,u,f,y){var A=y.children,_=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((u.flags&128)!==0){if(_=_!==null?_.baseLanes|f:f,o!==null){for(y=u.child=o.child,A=0;y!==null;)A=A|y.lanes|y.childLanes,y=y.sibling;y=A&~_}else y=0,u.child=null;return WD(o,u,_,f,y)}if((f&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Id(u,_!==null?_.cachePool:null),_!==null?Hx(u,_):_m(),qx(u);else return y=u.lanes=536870912,WD(o,u,_!==null?_.baseLanes|f:f,f,y)}else _!==null?(Id(u,_.cachePool),Hx(u,_),Bs(),u.memoizedState=null):(o!==null&&Id(u,null),_m(),Bs());return Pn(o,u,A,f),u.child}function Rc(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function WD(o,u,f,y,A){var _=vm();return _=_===null?null:{parent:gn._currentValue,pool:_},u.memoizedState={baseLanes:f,cachePool:_},o!==null&&Id(u,null),_m(),qx(u),o!==null&&Qo(o,u,y,!0),u.childLanes=A,null}function eh(o,u){return u=nh({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function jD(o,u,f){return Va(u,o.child,null,f),o=eh(u,u.pendingProps),o.flags|=2,Ni(u),u.memoizedState=null,o}function tN(o,u,f){var y=u.pendingProps,A=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(xt){if(y.mode==="hidden")return o=eh(u,y),u.lanes=536870912,Rc(null,o);if(Sm(u),(o=Vt)?(o=eA(o,Zi),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Cs!==null?{id:Cr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},f=_x(o),f.return=u,u.child=f,Ln=u,Vt=null)):o=null,o===null)throw Us(u);return u.lanes=536870912,null}return eh(u,y)}var _=o.memoizedState;if(_!==null){var N=_.dehydrated;if(Sm(u),A)if(u.flags&256)u.flags&=-257,u=jD(o,u,f);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(n(558));else if(yn||Qo(o,u,f,!1),A=(f&o.childLanes)!==0,yn||A){if(y=zt,y!==null&&(N=Er(y,f),N!==0&&N!==_.retryLane))throw _.retryLane=N,La(o,N),bi(y,o,N),$m;dh(),u=jD(o,u,f)}else o=_.treeContext,Vt=Ji(N.nextSibling),Ln=u,xt=!0,ks=null,Zi=!1,o!==null&&Cx(u,o),u=eh(u,y),u.flags|=4096;return u}return o=$r(o.child,{mode:y.mode,children:y.children}),o.ref=u.ref,u.child=o,o.return=u,o}function th(o,u){var f=u.ref;if(f===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(o===null||o.ref!==f)&&(u.flags|=4194816)}}function Ym(o,u,f,y,A){return Wa(u),f=km(o,u,f,y,void 0,A),y=Um(),o!==null&&!yn?(Mm(o,u,A),es(o,u,A)):(xt&&y&&um(u),u.flags|=1,Pn(o,u,f,A),u.child)}function HD(o,u,f,y,A,_){return Wa(u),u.updateQueue=null,f=Gx(u,y,f,A),Vx(o),y=Um(),o!==null&&!yn?(Mm(o,u,_),es(o,u,_)):(xt&&y&&um(u),u.flags|=1,Pn(o,u,f,_),u.child)}function qD(o,u,f,y,A){if(Wa(u),u.stateNode===null){var _=$o,N=f.contextType;typeof N=="object"&&N!==null&&(_=In(N)),_=new f(y,_),u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Gm,u.stateNode=_,_._reactInternals=u,_=u.stateNode,_.props=y,_.state=u.memoizedState,_.refs={},Dm(u),N=f.contextType,_.context=typeof N=="object"&&N!==null?In(N):$o,_.state=u.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(Vm(u,f,N,y),_.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&Gm.enqueueReplaceState(_,_.state,null),Sc(u,y,_,A),Ec(),_.state=u.memoizedState),typeof _.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(o===null){_=u.stateNode;var j=u.memoizedProps,ne=Xa(f,j);_.props=ne;var pe=_.context,Ae=f.contextType;N=$o,typeof Ae=="object"&&Ae!==null&&(N=In(Ae));var Se=f.getDerivedStateFromProps;Ae=typeof Se=="function"||typeof _.getSnapshotBeforeUpdate=="function",j=u.pendingProps!==j,Ae||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j||pe!==N)&&UD(u,_,y,N),Rs=!1;var ye=u.memoizedState;_.state=ye,Sc(u,y,_,A),Ec(),pe=u.memoizedState,j||ye!==pe||Rs?(typeof Se=="function"&&(Vm(u,f,Se,y),pe=u.memoizedState),(ne=Rs||kD(u,f,ne,y,ye,pe,N))?(Ae||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(u.flags|=4194308)):(typeof _.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=pe),_.props=y,_.state=pe,_.context=N,y=ne):(typeof _.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{_=u.stateNode,wm(o,u),N=u.memoizedProps,Ae=Xa(f,N),_.props=Ae,Se=u.pendingProps,ye=_.context,pe=f.contextType,ne=$o,typeof pe=="object"&&pe!==null&&(ne=In(pe)),j=f.getDerivedStateFromProps,(pe=typeof j=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==Se||ye!==ne)&&UD(u,_,y,ne),Rs=!1,ye=u.memoizedState,_.state=ye,Sc(u,y,_,A),Ec();var De=u.memoizedState;N!==Se||ye!==De||Rs||o!==null&&o.dependencies!==null&&Bd(o.dependencies)?(typeof j=="function"&&(Vm(u,f,j,y),De=u.memoizedState),(Ae=Rs||kD(u,f,Ae,y,ye,De,ne)||o!==null&&o.dependencies!==null&&Bd(o.dependencies))?(pe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(y,De,ne),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(y,De,ne)),typeof _.componentDidUpdate=="function"&&(u.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===o.memoizedProps&&ye===o.memoizedState||(u.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ye===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=De),_.props=y,_.state=De,_.context=ne,y=Ae):(typeof _.componentDidUpdate!="function"||N===o.memoizedProps&&ye===o.memoizedState||(u.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ye===o.memoizedState||(u.flags|=1024),y=!1)}return _=y,th(o,u),y=(u.flags&128)!==0,_||y?(_=u.stateNode,f=y&&typeof f.getDerivedStateFromError!="function"?null:_.render(),u.flags|=1,o!==null&&y?(u.child=Va(u,o.child,null,A),u.child=Va(u,null,f,A)):Pn(o,u,f,A),u.memoizedState=_.state,o=u.child):o=es(o,u,A),o}function VD(o,u,f,y){return Pa(),u.flags|=256,Pn(o,u,f,y),u.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(o){return{baseLanes:o,cachePool:Nx()}}function Qm(o,u,f){return o=o!==null?o.childLanes&~f:0,u&&(o|=Bi),o}function GD(o,u,f){var y=u.pendingProps,A=!1,_=(u.flags&128)!==0,N;if((N=_)||(N=o!==null&&o.memoizedState===null?!1:(un.current&2)!==0),N&&(A=!0,u.flags&=-129),N=(u.flags&32)!==0,u.flags&=-33,o===null){if(xt){if(A?Fs(u):Bs(),(o=Vt)?(o=eA(o,Zi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Cs!==null?{id:Cr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},f=_x(o),f.return=u,u.child=f,Ln=u,Vt=null)):o=null,o===null)throw Us(u);return Ny(o)?u.lanes=32:u.lanes=536870912,null}var j=y.children;return y=y.fallback,A?(Bs(),A=u.mode,j=nh({mode:"hidden",children:j},A),y=Ia(y,A,f,null),j.return=u,y.return=u,j.sibling=y,u.child=j,y=u.child,y.memoizedState=Zm(f),y.childLanes=Qm(o,N,f),u.memoizedState=Km,Rc(null,y)):(Fs(u),Jm(u,j))}var ne=o.memoizedState;if(ne!==null&&(j=ne.dehydrated,j!==null)){if(_)u.flags&256?(Fs(u),u.flags&=-257,u=ey(o,u,f)):u.memoizedState!==null?(Bs(),u.child=o.child,u.flags|=128,u=null):(Bs(),j=y.fallback,A=u.mode,y=nh({mode:"visible",children:y.children},A),j=Ia(j,A,f,null),j.flags|=2,y.return=u,j.return=u,y.sibling=j,u.child=y,Va(u,o.child,null,f),y=u.child,y.memoizedState=Zm(f),y.childLanes=Qm(o,N,f),u.memoizedState=Km,u=Rc(null,y));else if(Fs(u),Ny(j)){if(N=j.nextSibling&&j.nextSibling.dataset,N)var pe=N.dgst;N=pe,y=Error(n(419)),y.stack="",y.digest=N,xc({value:y,source:null,stack:null}),u=ey(o,u,f)}else if(yn||Qo(o,u,f,!1),N=(f&o.childLanes)!==0,yn||N){if(N=zt,N!==null&&(y=Er(N,f),y!==0&&y!==ne.retryLane))throw ne.retryLane=y,La(o,y),bi(N,o,y),$m;Oy(j)||dh(),u=ey(o,u,f)}else Oy(j)?(u.flags|=192,u.child=o.child,u=null):(o=ne.treeContext,Vt=Ji(j.nextSibling),Ln=u,xt=!0,ks=null,Zi=!1,o!==null&&Cx(u,o),u=Jm(u,y.children),u.flags|=4096);return u}return A?(Bs(),j=y.fallback,A=u.mode,ne=o.child,pe=ne.sibling,y=$r(ne,{mode:"hidden",children:y.children}),y.subtreeFlags=ne.subtreeFlags&65011712,pe!==null?j=$r(pe,j):(j=Ia(j,A,f,null),j.flags|=2),j.return=u,y.return=u,y.sibling=j,u.child=y,Rc(null,y),y=u.child,j=o.child.memoizedState,j===null?j=Zm(f):(A=j.cachePool,A!==null?(ne=gn._currentValue,A=A.parent!==ne?{parent:ne,pool:ne}:A):A=Nx(),j={baseLanes:j.baseLanes|f,cachePool:A}),y.memoizedState=j,y.childLanes=Qm(o,N,f),u.memoizedState=Km,Rc(o.child,y)):(Fs(u),f=o.child,o=f.sibling,f=$r(f,{mode:"visible",children:y.children}),f.return=u,f.sibling=null,o!==null&&(N=u.deletions,N===null?(u.deletions=[o],u.flags|=16):N.push(o)),u.child=f,u.memoizedState=null,f)}function Jm(o,u){return u=nh({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function nh(o,u){return o=Ri(22,o,null,u),o.lanes=0,o}function ey(o,u,f){return Va(u,o.child,null,f),o=Jm(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function XD(o,u,f){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),gm(o.return,u,f)}function ty(o,u,f,y,A,_){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:A,treeForkCount:_}:(N.isBackwards=u,N.rendering=null,N.renderingStartTime=0,N.last=y,N.tail=f,N.tailMode=A,N.treeForkCount=_)}function $D(o,u,f){var y=u.pendingProps,A=y.revealOrder,_=y.tail;y=y.children;var N=un.current,j=(N&2)!==0;if(j?(N=N&1|2,u.flags|=128):N&=1,G(un,N),Pn(o,u,y,f),y=xt?vc:0,!j&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&XD(o,f,u);else if(o.tag===19)XD(o,f,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(A){case"forwards":for(f=u.child,A=null;f!==null;)o=f.alternate,o!==null&&qd(o)===null&&(A=f),f=f.sibling;f=A,f===null?(A=u.child,u.child=null):(A=f.sibling,f.sibling=null),ty(u,!1,A,f,_,y);break;case"backwards":case"unstable_legacy-backwards":for(f=null,A=u.child,u.child=null;A!==null;){if(o=A.alternate,o!==null&&qd(o)===null){u.child=A;break}o=A.sibling,A.sibling=f,f=A,A=o}ty(u,!0,f,null,_,y);break;case"together":ty(u,!1,null,null,void 0,y);break;default:u.memoizedState=null}return u.child}function es(o,u,f){if(o!==null&&(u.dependencies=o.dependencies),Ps|=u.lanes,(f&u.childLanes)===0)if(o!==null){if(Qo(o,u,f,!1),(f&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,f=$r(o,o.pendingProps),u.child=f,f.return=u;o.sibling!==null;)o=o.sibling,f=f.sibling=$r(o,o.pendingProps),f.return=u;f.sibling=null}return u.child}function ny(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Bd(o)))}function nN(o,u,f){switch(u.tag){case 3:Ce(u,u.stateNode.containerInfo),Ms(u,gn,o.memoizedState.cache),Pa();break;case 27:case 5:Fe(u);break;case 4:Ce(u,u.stateNode.containerInfo);break;case 10:Ms(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Sm(u),null;break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(Fs(u),u.flags|=128,null):(f&u.child.childLanes)!==0?GD(o,u,f):(Fs(u),o=es(o,u,f),o!==null?o.sibling:null);Fs(u);break;case 19:var A=(o.flags&128)!==0;if(y=(f&u.childLanes)!==0,y||(Qo(o,u,f,!1),y=(f&u.childLanes)!==0),A){if(y)return $D(o,u,f);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),G(un,un.current),y)break;return null;case 22:return u.lanes=0,zD(o,u,f,u.pendingProps);case 24:Ms(u,gn,o.memoizedState.cache)}return es(o,u,f)}function YD(o,u,f){if(o!==null)if(o.memoizedProps!==u.pendingProps)yn=!0;else{if(!ny(o,f)&&(u.flags&128)===0)return yn=!1,nN(o,u,f);yn=(o.flags&131072)!==0}else yn=!1,xt&&(u.flags&1048576)!==0&&Sx(u,vc,u.index);switch(u.lanes=0,u.tag){case 16:e:{var y=u.pendingProps;if(o=Ha(u.elementType),u.type=o,typeof o=="function")om(o)?(y=Xa(o,y),u.tag=1,u=qD(null,u,o,y,f)):(u.tag=0,u=Ym(null,u,o,y,f));else{if(o!=null){var A=o.$$typeof;if(A===C){u.tag=11,u=LD(null,u,o,y,f);break e}else if(A===k){u.tag=14,u=ID(null,u,o,y,f);break e}}throw u=M(o)||o,Error(n(306,u,""))}}return u;case 0:return Ym(o,u,u.type,u.pendingProps,f);case 1:return y=u.type,A=Xa(y,u.pendingProps),qD(o,u,y,A,f);case 3:e:{if(Ce(u,u.stateNode.containerInfo),o===null)throw Error(n(387));y=u.pendingProps;var _=u.memoizedState;A=_.element,wm(o,u),Sc(u,y,null,f);var N=u.memoizedState;if(y=N.cache,Ms(u,gn,y),y!==_.cache&&mm(u,[gn],f,!0),Ec(),y=N.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:N.cache},u.updateQueue.baseState=_,u.memoizedState=_,u.flags&256){u=VD(o,u,y,f);break e}else if(y!==A){A=$i(Error(n(424)),u),xc(A),u=VD(o,u,y,f);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Vt=Ji(o.firstChild),Ln=u,xt=!0,ks=null,Zi=!0,f=zx(u,null,y,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Pa(),y===A){u=es(o,u,f);break e}Pn(o,u,y,f)}u=u.child}return u;case 26:return th(o,u),o===null?(f=aA(u.type,null,u.pendingProps,null))?u.memoizedState=f:xt||(f=u.type,o=u.pendingProps,y=bh(we.current).createElement(f),y[At]=u,y[Bn]=o,zn(y,f,o),Cn(y),u.stateNode=y):u.memoizedState=aA(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Fe(u),o===null&&xt&&(y=u.stateNode=iA(u.type,u.pendingProps,we.current),Ln=u,Zi=!0,A=Vt,qs(u.type)?(Fy=A,Vt=Ji(y.firstChild)):Vt=A),Pn(o,u,u.pendingProps.children,f),th(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&xt&&((A=y=Vt)&&(y=RN(y,u.type,u.pendingProps,Zi),y!==null?(u.stateNode=y,Ln=u,Vt=Ji(y.firstChild),Zi=!1,A=!0):A=!1),A||Us(u)),Fe(u),A=u.type,_=u.pendingProps,N=o!==null?o.memoizedProps:null,y=_.children,Uy(A,_)?y=null:N!==null&&Uy(A,N)&&(u.flags|=32),u.memoizedState!==null&&(A=km(o,u,XO,null,null,f),Xc._currentValue=A),th(o,u),Pn(o,u,y,f),u.child;case 6:return o===null&&xt&&((o=f=Vt)&&(f=ON(f,u.pendingProps,Zi),f!==null?(u.stateNode=f,Ln=u,Vt=null,o=!0):o=!1),o||Us(u)),null;case 13:return GD(o,u,f);case 4:return Ce(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=Va(u,null,y,f):Pn(o,u,y,f),u.child;case 11:return LD(o,u,u.type,u.pendingProps,f);case 7:return Pn(o,u,u.pendingProps,f),u.child;case 8:return Pn(o,u,u.pendingProps.children,f),u.child;case 12:return Pn(o,u,u.pendingProps.children,f),u.child;case 10:return y=u.pendingProps,Ms(u,u.type,y.value),Pn(o,u,y.children,f),u.child;case 9:return A=u.type._context,y=u.pendingProps.children,Wa(u),A=In(A),y=y(A),u.flags|=1,Pn(o,u,y,f),u.child;case 14:return ID(o,u,u.type,u.pendingProps,f);case 15:return PD(o,u,u.type,u.pendingProps,f);case 19:return $D(o,u,f);case 31:return tN(o,u,f);case 22:return zD(o,u,f,u.pendingProps);case 24:return Wa(u),y=In(gn),o===null?(A=vm(),A===null&&(A=zt,_=ym(),A.pooledCache=_,_.refCount++,_!==null&&(A.pooledCacheLanes|=f),A=_),u.memoizedState={parent:y,cache:A},Dm(u),Ms(u,gn,A)):((o.lanes&f)!==0&&(wm(o,u),Sc(u,null,null,f),Ec()),A=o.memoizedState,_=u.memoizedState,A.parent!==y?(A={parent:y,cache:y},u.memoizedState=A,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=A),Ms(u,gn,y)):(y=_.cache,Ms(u,gn,y),y!==A.cache&&mm(u,[gn],f,!0))),Pn(o,u,u.pendingProps.children,f),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function ts(o){o.flags|=4}function iy(o,u,f,y,A){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(A&335544128)===A)if(o.stateNode.complete)o.flags|=8192;else if(ww())o.flags|=8192;else throw qa=zd,xm}else o.flags&=-16777217}function KD(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!dA(u))if(ww())o.flags|=8192;else throw qa=zd,xm}function ih(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Je():536870912,o.lanes|=u,ul|=u)}function Oc(o,u){if(!xt)switch(o.tailMode){case"hidden":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Gt(o){var u=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(u)for(var A=o.child;A!==null;)f|=A.lanes|A.childLanes,y|=A.subtreeFlags&65011712,y|=A.flags&65011712,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)f|=A.lanes|A.childLanes,y|=A.subtreeFlags,y|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=y,o.childLanes=f,u}function iN(o,u,f){var y=u.pendingProps;switch(dm(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(u),null;case 1:return Gt(u),null;case 3:return f=u.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),Zr(gn),Ue(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Zo(u)?ts(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,fm())),Gt(u),null;case 26:var A=u.type,_=u.memoizedState;return o===null?(ts(u),_!==null?(Gt(u),KD(u,_)):(Gt(u),iy(u,A,null,y,f))):_?_!==o.memoizedState?(ts(u),Gt(u),KD(u,_)):(Gt(u),u.flags&=-16777217):(o=o.memoizedProps,o!==y&&ts(u),Gt(u),iy(u,A,o,y,f)),null;case 27:if(Pe(u),f=we.current,A=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&ts(u);else{if(!y){if(u.stateNode===null)throw Error(n(166));return Gt(u),null}o=te.current,Zo(u)?kx(u):(o=iA(A,y,f),u.stateNode=o,ts(u))}return Gt(u),null;case 5:if(Pe(u),A=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&ts(u);else{if(!y){if(u.stateNode===null)throw Error(n(166));return Gt(u),null}if(_=te.current,Zo(u))kx(u);else{var N=bh(we.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof y.is=="string"?N.createElement("select",{is:y.is}):N.createElement("select"),y.multiple?_.multiple=!0:y.size&&(_.size=y.size);break;default:_=typeof y.is=="string"?N.createElement(A,{is:y.is}):N.createElement(A)}}_[At]=u,_[Bn]=y;e:for(N=u.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===u)break e;for(;N.sibling===null;){if(N.return===null||N.return===u)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}u.stateNode=_;e:switch(zn(_,A,y),A){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&ts(u)}}return Gt(u),iy(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,f),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==y&&ts(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(n(166));if(o=we.current,Zo(u)){if(o=u.stateNode,f=u.memoizedProps,y=null,A=Ln,A!==null)switch(A.tag){case 27:case 5:y=A.memoizedProps}o[At]=u,o=!!(o.nodeValue===f||y!==null&&y.suppressHydrationWarning===!0||Gw(o.nodeValue,f)),o||Us(u,!0)}else o=bh(o).createTextNode(y),o[At]=u,u.stateNode=o}return Gt(u),null;case 31:if(f=u.memoizedState,o===null||o.memoizedState!==null){if(y=Zo(u),f!==null){if(o===null){if(!y)throw Error(n(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[At]=u}else Pa(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gt(u),o=!1}else f=fm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return u.flags&256?(Ni(u),u):(Ni(u),null);if((u.flags&128)!==0)throw Error(n(558))}return Gt(u),null;case 13:if(y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=Zo(u),y!==null&&y.dehydrated!==null){if(o===null){if(!A)throw Error(n(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[At]=u}else Pa(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gt(u),A=!1}else A=fm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=A),A=!0;if(!A)return u.flags&256?(Ni(u),u):(Ni(u),null)}return Ni(u),(u.flags&128)!==0?(u.lanes=f,u):(f=y!==null,o=o!==null&&o.memoizedState!==null,f&&(y=u.child,A=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(A=y.alternate.memoizedState.cachePool.pool),_=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(_=y.memoizedState.cachePool.pool),_!==A&&(y.flags|=2048)),f!==o&&f&&(u.child.flags|=8192),ih(u,u.updateQueue),Gt(u),null);case 4:return Ue(),o===null&&_y(u.stateNode.containerInfo),Gt(u),null;case 10:return Zr(u.type),Gt(u),null;case 19:if(H(un),y=u.memoizedState,y===null)return Gt(u),null;if(A=(u.flags&128)!==0,_=y.rendering,_===null)if(A)Oc(y,!1);else{if(rn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(_=qd(o),_!==null){for(u.flags|=128,Oc(y,!1),o=_.updateQueue,u.updateQueue=o,ih(u,o),u.subtreeFlags=0,o=f,f=u.child;f!==null;)Tx(f,o),f=f.sibling;return G(un,un.current&1|2),xt&&Yr(u,y.treeForkCount),u.child}o=o.sibling}y.tail!==null&&J()>lh&&(u.flags|=128,A=!0,Oc(y,!1),u.lanes=4194304)}else{if(!A)if(o=qd(_),o!==null){if(u.flags|=128,A=!0,o=o.updateQueue,u.updateQueue=o,ih(u,o),Oc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!xt)return Gt(u),null}else 2*J()-y.renderingStartTime>lh&&f!==536870912&&(u.flags|=128,A=!0,Oc(y,!1),u.lanes=4194304);y.isBackwards?(_.sibling=u.child,u.child=_):(o=y.last,o!==null?o.sibling=_:u.child=_,y.last=_)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=J(),o.sibling=null,f=un.current,G(un,A?f&1|2:f&1),xt&&Yr(u,y.treeForkCount),o):(Gt(u),null);case 22:case 23:return Ni(u),Em(),y=u.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(f&536870912)!==0&&(u.flags&128)===0&&(Gt(u),u.subtreeFlags&6&&(u.flags|=8192)):Gt(u),f=u.updateQueue,f!==null&&ih(u,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==f&&(u.flags|=2048),o!==null&&H(ja),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),u.memoizedState.cache!==f&&(u.flags|=2048),Zr(gn),Gt(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function rN(o,u){switch(dm(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Zr(gn),Ue(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Pe(u),null;case 31:if(u.memoizedState!==null){if(Ni(u),u.alternate===null)throw Error(n(340));Pa()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(Ni(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Pa()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return H(un),null;case 4:return Ue(),null;case 10:return Zr(u.type),null;case 22:case 23:return Ni(u),Em(),o!==null&&H(ja),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Zr(gn),null;case 25:return null;default:return null}}function ZD(o,u){switch(dm(u),u.tag){case 3:Zr(gn),Ue();break;case 26:case 27:case 5:Pe(u);break;case 4:Ue();break;case 31:u.memoizedState!==null&&Ni(u);break;case 13:Ni(u);break;case 19:H(un);break;case 10:Zr(u.type);break;case 22:case 23:Ni(u),Em(),o!==null&&H(ja);break;case 24:Zr(gn)}}function Nc(o,u){try{var f=u.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var A=y.next;f=A;do{if((f.tag&o)===o){y=void 0;var _=f.create,N=f.inst;y=_(),N.destroy=y}f=f.next}while(f!==A)}}catch(j){Nt(u,u.return,j)}}function Ls(o,u,f){try{var y=u.updateQueue,A=y!==null?y.lastEffect:null;if(A!==null){var _=A.next;y=_;do{if((y.tag&o)===o){var N=y.inst,j=N.destroy;if(j!==void 0){N.destroy=void 0,A=u;var ne=f,pe=j;try{pe()}catch(Ae){Nt(A,ne,Ae)}}}y=y.next}while(y!==_)}}catch(Ae){Nt(u,u.return,Ae)}}function QD(o){var u=o.updateQueue;if(u!==null){var f=o.stateNode;try{jx(u,f)}catch(y){Nt(o,o.return,y)}}}function JD(o,u,f){f.props=Xa(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(y){Nt(o,u,y)}}function Fc(o,u){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof f=="function"?o.refCleanup=f(y):f.current=y}}catch(A){Nt(o,u,A)}}function Ur(o,u){var f=o.ref,y=o.refCleanup;if(f!==null)if(typeof y=="function")try{y()}catch(A){Nt(o,u,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(A){Nt(o,u,A)}else f.current=null}function ew(o){var u=o.type,f=o.memoizedProps,y=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":f.autoFocus&&y.focus();break e;case"img":f.src?y.src=f.src:f.srcSet&&(y.srcset=f.srcSet)}}catch(A){Nt(o,o.return,A)}}function ry(o,u,f){try{var y=o.stateNode;EN(y,o.type,f,u),y[Bn]=u}catch(A){Nt(o,o.return,A)}}function tw(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&qs(o.type)||o.tag===4}function sy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||tw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&qs(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ay(o,u,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,u):(u=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,u.appendChild(o),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=Gr));else if(y!==4&&(y===27&&qs(o.type)&&(f=o.stateNode,u=null),o=o.child,o!==null))for(ay(o,u,f),o=o.sibling;o!==null;)ay(o,u,f),o=o.sibling}function rh(o,u,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?f.insertBefore(o,u):f.appendChild(o);else if(y!==4&&(y===27&&qs(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(rh(o,u,f),o=o.sibling;o!==null;)rh(o,u,f),o=o.sibling}function nw(o){var u=o.stateNode,f=o.memoizedProps;try{for(var y=o.type,A=u.attributes;A.length;)u.removeAttributeNode(A[0]);zn(u,y,f),u[At]=o,u[Bn]=f}catch(_){Nt(o,o.return,_)}}var ns=!1,bn=!1,oy=!1,iw=typeof WeakSet=="function"?WeakSet:Set,kn=null;function sN(o,u){if(o=o.containerInfo,Cy=_h,o=gx(o),em(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var A=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var N=0,j=-1,ne=-1,pe=0,Ae=0,Se=o,ye=null;t:for(;;){for(var De;Se!==f||A!==0&&Se.nodeType!==3||(j=N+A),Se!==_||y!==0&&Se.nodeType!==3||(ne=N+y),Se.nodeType===3&&(N+=Se.nodeValue.length),(De=Se.firstChild)!==null;)ye=Se,Se=De;for(;;){if(Se===o)break t;if(ye===f&&++pe===A&&(j=N),ye===_&&++Ae===y&&(ne=N),(De=Se.nextSibling)!==null)break;Se=ye,ye=Se.parentNode}Se=De}f=j===-1||ne===-1?null:{start:j,end:ne}}else f=null}f=f||{start:0,end:0}}else f=null;for(ky={focusedElem:o,selectionRange:f},_h=!1,kn=u;kn!==null;)if(u=kn,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,kn=o;else for(;kn!==null;){switch(u=kn,_=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)A=o[f],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,f=u,A=_.memoizedProps,_=_.memoizedState,y=f.stateNode;try{var We=Xa(f.type,A);o=y.getSnapshotBeforeUpdate(We,_),y.__reactInternalSnapshotBeforeUpdate=o}catch(Ze){Nt(f,f.return,Ze)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,f=o.nodeType,f===9)Ry(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Ry(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=u.sibling,o!==null){o.return=u.return,kn=o;break}kn=u.return}}function rw(o,u,f){var y=f.flags;switch(f.tag){case 0:case 11:case 15:rs(o,f),y&4&&Nc(5,f);break;case 1:if(rs(o,f),y&4)if(o=f.stateNode,u===null)try{o.componentDidMount()}catch(N){Nt(f,f.return,N)}else{var A=Xa(f.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(A,u,o.__reactInternalSnapshotBeforeUpdate)}catch(N){Nt(f,f.return,N)}}y&64&&QD(f),y&512&&Fc(f,f.return);break;case 3:if(rs(o,f),y&64&&(o=f.updateQueue,o!==null)){if(u=null,f.child!==null)switch(f.child.tag){case 27:case 5:u=f.child.stateNode;break;case 1:u=f.child.stateNode}try{jx(o,u)}catch(N){Nt(f,f.return,N)}}break;case 27:u===null&&y&4&&nw(f);case 26:case 5:rs(o,f),u===null&&y&4&&ew(f),y&512&&Fc(f,f.return);break;case 12:rs(o,f);break;case 31:rs(o,f),y&4&&ow(o,f);break;case 13:rs(o,f),y&4&&lw(o,f),y&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=pN.bind(null,f),NN(o,f))));break;case 22:if(y=f.memoizedState!==null||ns,!y){u=u!==null&&u.memoizedState!==null||bn,A=ns;var _=bn;ns=y,(bn=u)&&!_?ss(o,f,(f.subtreeFlags&8772)!==0):rs(o,f),ns=A,bn=_}break;case 30:break;default:rs(o,f)}}function sw(o){var u=o.alternate;u!==null&&(o.alternate=null,sw(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Lg(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var $t=null,pi=!1;function is(o,u,f){for(f=f.child;f!==null;)aw(o,u,f),f=f.sibling}function aw(o,u,f){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(ue,f)}catch{}switch(f.tag){case 26:bn||Ur(f,u),is(o,u,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:bn||Ur(f,u);var y=$t,A=pi;qs(f.type)&&($t=f.stateNode,pi=!1),is(o,u,f),qc(f.stateNode),$t=y,pi=A;break;case 5:bn||Ur(f,u);case 6:if(y=$t,A=pi,$t=null,is(o,u,f),$t=y,pi=A,$t!==null)if(pi)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(f.stateNode)}catch(_){Nt(f,u,_)}else try{$t.removeChild(f.stateNode)}catch(_){Nt(f,u,_)}break;case 18:$t!==null&&(pi?(o=$t,Qw(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),bl(o)):Qw($t,f.stateNode));break;case 4:y=$t,A=pi,$t=f.stateNode.containerInfo,pi=!0,is(o,u,f),$t=y,pi=A;break;case 0:case 11:case 14:case 15:Ls(2,f,u),bn||Ls(4,f,u),is(o,u,f);break;case 1:bn||(Ur(f,u),y=f.stateNode,typeof y.componentWillUnmount=="function"&&JD(f,u,y)),is(o,u,f);break;case 21:is(o,u,f);break;case 22:bn=(y=bn)||f.memoizedState!==null,is(o,u,f),bn=y;break;default:is(o,u,f)}}function ow(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{bl(o)}catch(f){Nt(u,u.return,f)}}}function lw(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{bl(o)}catch(f){Nt(u,u.return,f)}}function aN(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new iw),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new iw),u;default:throw Error(n(435,o.tag))}}function sh(o,u){var f=aN(o);u.forEach(function(y){if(!f.has(y)){f.add(y);var A=gN.bind(null,o,y);y.then(A,A)}})}function gi(o,u){var f=u.deletions;if(f!==null)for(var y=0;y<f.length;y++){var A=f[y],_=o,N=u,j=N;e:for(;j!==null;){switch(j.tag){case 27:if(qs(j.type)){$t=j.stateNode,pi=!1;break e}break;case 5:$t=j.stateNode,pi=!1;break e;case 3:case 4:$t=j.stateNode.containerInfo,pi=!0;break e}j=j.return}if($t===null)throw Error(n(160));aw(_,N,A),$t=null,pi=!1,_=A.alternate,_!==null&&(_.return=null),A.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)cw(u,o),u=u.sibling}var br=null;function cw(o,u){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:gi(u,o),mi(o),y&4&&(Ls(3,o,o.return),Nc(3,o),Ls(5,o,o.return));break;case 1:gi(u,o),mi(o),y&512&&(bn||f===null||Ur(f,f.return)),y&64&&ns&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?y:f.concat(y))));break;case 26:var A=br;if(gi(u,o),mi(o),y&512&&(bn||f===null||Ur(f,f.return)),y&4){var _=f!==null?f.memoizedState:null;if(y=o.memoizedState,f===null)if(y===null)if(o.stateNode===null){e:{y=o.type,f=o.memoizedProps,A=A.ownerDocument||A;t:switch(y){case"title":_=A.getElementsByTagName("title")[0],(!_||_[lc]||_[At]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=A.createElement(y),A.head.insertBefore(_,A.querySelector("head > title"))),zn(_,y,f),_[At]=o,Cn(_),y=_;break e;case"link":var N=cA("link","href",A).get(y+(f.href||""));if(N){for(var j=0;j<N.length;j++)if(_=N[j],_.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&_.getAttribute("rel")===(f.rel==null?null:f.rel)&&_.getAttribute("title")===(f.title==null?null:f.title)&&_.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){N.splice(j,1);break t}}_=A.createElement(y),zn(_,y,f),A.head.appendChild(_);break;case"meta":if(N=cA("meta","content",A).get(y+(f.content||""))){for(j=0;j<N.length;j++)if(_=N[j],_.getAttribute("content")===(f.content==null?null:""+f.content)&&_.getAttribute("name")===(f.name==null?null:f.name)&&_.getAttribute("property")===(f.property==null?null:f.property)&&_.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&_.getAttribute("charset")===(f.charSet==null?null:f.charSet)){N.splice(j,1);break t}}_=A.createElement(y),zn(_,y,f),A.head.appendChild(_);break;default:throw Error(n(468,y))}_[At]=o,Cn(_),y=_}o.stateNode=y}else uA(A,o.type,o.stateNode);else o.stateNode=lA(A,y,o.memoizedProps);else _!==y?(_===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):_.count--,y===null?uA(A,o.type,o.stateNode):lA(A,y,o.memoizedProps)):y===null&&o.stateNode!==null&&ry(o,o.memoizedProps,f.memoizedProps)}break;case 27:gi(u,o),mi(o),y&512&&(bn||f===null||Ur(f,f.return)),f!==null&&y&4&&ry(o,o.memoizedProps,f.memoizedProps);break;case 5:if(gi(u,o),mi(o),y&512&&(bn||f===null||Ur(f,f.return)),o.flags&32){A=o.stateNode;try{Wo(A,"")}catch(We){Nt(o,o.return,We)}}y&4&&o.stateNode!=null&&(A=o.memoizedProps,ry(o,A,f!==null?f.memoizedProps:A)),y&1024&&(oy=!0);break;case 6:if(gi(u,o),mi(o),y&4){if(o.stateNode===null)throw Error(n(162));y=o.memoizedProps,f=o.stateNode;try{f.nodeValue=y}catch(We){Nt(o,o.return,We)}}break;case 3:if(Dh=null,A=br,br=vh(u.containerInfo),gi(u,o),br=A,mi(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{bl(u.containerInfo)}catch(We){Nt(o,o.return,We)}oy&&(oy=!1,uw(o));break;case 4:y=br,br=vh(o.stateNode.containerInfo),gi(u,o),mi(o),br=y;break;case 12:gi(u,o),mi(o);break;case 31:gi(u,o),mi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,sh(o,y)));break;case 13:gi(u,o),mi(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(oh=J()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,sh(o,y)));break;case 22:A=o.memoizedState!==null;var ne=f!==null&&f.memoizedState!==null,pe=ns,Ae=bn;if(ns=pe||A,bn=Ae||ne,gi(u,o),bn=Ae,ns=pe,mi(o),y&8192)e:for(u=o.stateNode,u._visibility=A?u._visibility&-2:u._visibility|1,A&&(f===null||ne||ns||bn||$a(o)),f=null,u=o;;){if(u.tag===5||u.tag===26){if(f===null){ne=f=u;try{if(_=ne.stateNode,A)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{j=ne.stateNode;var Se=ne.memoizedProps.style,ye=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;j.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(We){Nt(ne,ne.return,We)}}}else if(u.tag===6){if(f===null){ne=u;try{ne.stateNode.nodeValue=A?"":ne.memoizedProps}catch(We){Nt(ne,ne.return,We)}}}else if(u.tag===18){if(f===null){ne=u;try{var De=ne.stateNode;A?Jw(De,!0):Jw(ne.stateNode,!1)}catch(We){Nt(ne,ne.return,We)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=o.updateQueue,y!==null&&(f=y.retryQueue,f!==null&&(y.retryQueue=null,sh(o,f))));break;case 19:gi(u,o),mi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,sh(o,y)));break;case 30:break;case 21:break;default:gi(u,o),mi(o)}}function mi(o){var u=o.flags;if(u&2){try{for(var f,y=o.return;y!==null;){if(tw(y)){f=y;break}y=y.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var A=f.stateNode,_=sy(o);rh(o,_,A);break;case 5:var N=f.stateNode;f.flags&32&&(Wo(N,""),f.flags&=-33);var j=sy(o);rh(o,j,N);break;case 3:case 4:var ne=f.stateNode.containerInfo,pe=sy(o);ay(o,pe,ne);break;default:throw Error(n(161))}}catch(Ae){Nt(o,o.return,Ae)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function uw(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;uw(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function rs(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)rw(o,u.alternate,u),u=u.sibling}function $a(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Ls(4,u,u.return),$a(u);break;case 1:Ur(u,u.return);var f=u.stateNode;typeof f.componentWillUnmount=="function"&&JD(u,u.return,f),$a(u);break;case 27:qc(u.stateNode);case 26:case 5:Ur(u,u.return),$a(u);break;case 22:u.memoizedState===null&&$a(u);break;case 30:$a(u);break;default:$a(u)}o=o.sibling}}function ss(o,u,f){for(f=f&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,A=o,_=u,N=_.flags;switch(_.tag){case 0:case 11:case 15:ss(A,_,f),Nc(4,_);break;case 1:if(ss(A,_,f),y=_,A=y.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(pe){Nt(y,y.return,pe)}if(y=_,A=y.updateQueue,A!==null){var j=y.stateNode;try{var ne=A.shared.hiddenCallbacks;if(ne!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ne.length;A++)Wx(ne[A],j)}catch(pe){Nt(y,y.return,pe)}}f&&N&64&&QD(_),Fc(_,_.return);break;case 27:nw(_);case 26:case 5:ss(A,_,f),f&&y===null&&N&4&&ew(_),Fc(_,_.return);break;case 12:ss(A,_,f);break;case 31:ss(A,_,f),f&&N&4&&ow(A,_);break;case 13:ss(A,_,f),f&&N&4&&lw(A,_);break;case 22:_.memoizedState===null&&ss(A,_,f),Fc(_,_.return);break;case 30:break;default:ss(A,_,f)}u=u.sibling}}function ly(o,u){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Dc(f))}function cy(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Dc(o))}function vr(o,u,f,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)dw(o,u,f,y),u=u.sibling}function dw(o,u,f,y){var A=u.flags;switch(u.tag){case 0:case 11:case 15:vr(o,u,f,y),A&2048&&Nc(9,u);break;case 1:vr(o,u,f,y);break;case 3:vr(o,u,f,y),A&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Dc(o)));break;case 12:if(A&2048){vr(o,u,f,y),o=u.stateNode;try{var _=u.memoizedProps,N=_.id,j=_.onPostCommit;typeof j=="function"&&j(N,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ne){Nt(u,u.return,ne)}}else vr(o,u,f,y);break;case 31:vr(o,u,f,y);break;case 13:vr(o,u,f,y);break;case 23:break;case 22:_=u.stateNode,N=u.alternate,u.memoizedState!==null?_._visibility&2?vr(o,u,f,y):Bc(o,u):_._visibility&2?vr(o,u,f,y):(_._visibility|=2,ol(o,u,f,y,(u.subtreeFlags&10256)!==0||!1)),A&2048&&ly(N,u);break;case 24:vr(o,u,f,y),A&2048&&cy(u.alternate,u);break;default:vr(o,u,f,y)}}function ol(o,u,f,y,A){for(A=A&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var _=o,N=u,j=f,ne=y,pe=N.flags;switch(N.tag){case 0:case 11:case 15:ol(_,N,j,ne,A),Nc(8,N);break;case 23:break;case 22:var Ae=N.stateNode;N.memoizedState!==null?Ae._visibility&2?ol(_,N,j,ne,A):Bc(_,N):(Ae._visibility|=2,ol(_,N,j,ne,A)),A&&pe&2048&&ly(N.alternate,N);break;case 24:ol(_,N,j,ne,A),A&&pe&2048&&cy(N.alternate,N);break;default:ol(_,N,j,ne,A)}u=u.sibling}}function Bc(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var f=o,y=u,A=y.flags;switch(y.tag){case 22:Bc(f,y),A&2048&&ly(y.alternate,y);break;case 24:Bc(f,y),A&2048&&cy(y.alternate,y);break;default:Bc(f,y)}u=u.sibling}}var Lc=8192;function ll(o,u,f){if(o.subtreeFlags&Lc)for(o=o.child;o!==null;)hw(o,u,f),o=o.sibling}function hw(o,u,f){switch(o.tag){case 26:ll(o,u,f),o.flags&Lc&&o.memoizedState!==null&&GN(f,br,o.memoizedState,o.memoizedProps);break;case 5:ll(o,u,f);break;case 3:case 4:var y=br;br=vh(o.stateNode.containerInfo),ll(o,u,f),br=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=Lc,Lc=16777216,ll(o,u,f),Lc=y):ll(o,u,f));break;default:ll(o,u,f)}}function fw(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Ic(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var y=u[f];kn=y,gw(y,o)}fw(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pw(o),o=o.sibling}function pw(o){switch(o.tag){case 0:case 11:case 15:Ic(o),o.flags&2048&&Ls(9,o,o.return);break;case 3:Ic(o);break;case 12:Ic(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,ah(o)):Ic(o);break;default:Ic(o)}}function ah(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var y=u[f];kn=y,gw(y,o)}fw(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Ls(8,u,u.return),ah(u);break;case 22:f=u.stateNode,f._visibility&2&&(f._visibility&=-3,ah(u));break;default:ah(u)}o=o.sibling}}function gw(o,u){for(;kn!==null;){var f=kn;switch(f.tag){case 0:case 11:case 15:Ls(8,f,u);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var y=f.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Dc(f.memoizedState.cache)}if(y=f.child,y!==null)y.return=f,kn=y;else e:for(f=o;kn!==null;){y=kn;var A=y.sibling,_=y.return;if(sw(y),y===f){kn=null;break e}if(A!==null){A.return=_,kn=A;break e}kn=_}}}var oN={getCacheForType:function(o){var u=In(gn),f=u.data.get(o);return f===void 0&&(f=o(),u.data.set(o,f)),f},cacheSignal:function(){return In(gn).controller.signal}},lN=typeof WeakMap=="function"?WeakMap:Map,St=0,zt=null,gt=null,yt=0,Ot=0,Fi=null,Is=!1,cl=!1,uy=!1,as=0,rn=0,Ps=0,Ya=0,dy=0,Bi=0,ul=0,Pc=null,yi=null,hy=!1,oh=0,mw=0,lh=1/0,ch=null,zs=null,Tn=0,Ws=null,dl=null,ls=0,fy=0,py=null,yw=null,zc=0,gy=null;function Li(){return(St&2)!==0&&yt!==0?yt&-yt:B.T!==null?Dy():ki()}function bw(){if(Bi===0)if((yt&536870912)===0||xt){var o=ti;ti<<=1,(ti&3932160)===0&&(ti=262144),Bi=o}else Bi=536870912;return o=Oi.current,o!==null&&(o.flags|=32),Bi}function bi(o,u,f){(o===zt&&(Ot===2||Ot===9)||o.cancelPendingCommit!==null)&&(hl(o,0),js(o,yt,Bi,!1)),pn(o,f),((St&2)===0||o!==zt)&&(o===zt&&((St&2)===0&&(Ya|=f),rn===4&&js(o,yt,Bi,!1)),Mr(o))}function vw(o,u,f){if((St&6)!==0)throw Error(n(327));var y=!f&&(u&127)===0&&(u&o.expiredLanes)===0||me(o,u),A=y?dN(o,u):yy(o,u,!0),_=y;do{if(A===0){cl&&!y&&js(o,u,0,!1);break}else{if(f=o.current.alternate,_&&!cN(f)){A=yy(o,u,!1),_=!1;continue}if(A===2){if(_=u,o.errorRecoveryDisabledLanes&_)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){u=N;e:{var j=o;A=Pc;var ne=j.current.memoizedState.isDehydrated;if(ne&&(hl(j,N).flags|=256),N=yy(j,N,!1),N!==2){if(uy&&!ne){j.errorRecoveryDisabledLanes|=_,Ya|=_,A=4;break e}_=yi,yi=A,_!==null&&(yi===null?yi=_:yi.push.apply(yi,_))}A=N}if(_=!1,A!==2)continue}}if(A===1){hl(o,0),js(o,u,0,!0);break}e:{switch(y=o,_=A,_){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:js(y,u,Bi,!Is);break e;case 2:yi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(A=oh+300-J(),10<A)){if(js(y,u,Bi,!Is),ee(y,0,!0)!==0)break e;ls=u,y.timeoutHandle=Kw(xw.bind(null,y,f,yi,ch,hy,u,Bi,Ya,ul,Is,_,"Throttled",-0,0),A);break e}xw(y,f,yi,ch,hy,u,Bi,Ya,ul,Is,_,null,-0,0)}}break}while(!0);Mr(o)}function xw(o,u,f,y,A,_,N,j,ne,pe,Ae,Se,ye,De){if(o.timeoutHandle=-1,Se=u.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gr},hw(u,_,Se);var We=(_&62914560)===_?oh-J():(_&4194048)===_?mw-J():0;if(We=XN(Se,We),We!==null){ls=_,o.cancelPendingCommit=We(Cw.bind(null,o,u,_,f,y,A,N,j,ne,Ae,Se,null,ye,De)),js(o,_,N,!pe);return}}Cw(o,u,_,f,y,A,N,j,ne)}function cN(o){for(var u=o;;){var f=u.tag;if((f===0||f===11||f===15)&&u.flags&16384&&(f=u.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var y=0;y<f.length;y++){var A=f[y],_=A.getSnapshot;A=A.value;try{if(!Mi(_(),A))return!1}catch{return!1}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function js(o,u,f,y){u&=~dy,u&=~Ya,o.suspendedLanes|=u,o.pingedLanes&=~u,y&&(o.warmLanes|=u),y=o.expirationTimes;for(var A=u;0<A;){var _=31-Be(A),N=1<<_;y[_]=-1,A&=~N}f!==0&&pr(o,f,u)}function uh(){return(St&6)===0?(Wc(0),!1):!0}function my(){if(gt!==null){if(Ot===0)var o=gt.return;else o=gt,Kr=za=null,Rm(o),nl=null,Ac=0,o=gt;for(;o!==null;)ZD(o.alternate,o),o=o.return;gt=null}}function hl(o,u){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,kN(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),ls=0,my(),zt=o,gt=f=$r(o.current,null),yt=u,Ot=0,Fi=null,Is=!1,cl=me(o,u),uy=!1,ul=Bi=dy=Ya=Ps=rn=0,yi=Pc=null,hy=!1,(u&8)!==0&&(u|=u&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=u;0<y;){var A=31-Be(y),_=1<<A;u|=o[A],y&=~_}return as=u,Md(),f}function Dw(o,u){ot=null,B.H=Mc,u===tl||u===Pd?(u=Lx(),Ot=3):u===xm?(u=Lx(),Ot=4):Ot=u===$m?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Fi=u,gt===null&&(rn=1,Jd(o,$i(u,o.current)))}function ww(){var o=Oi.current;return o===null?!0:(yt&4194048)===yt?Qi===null:(yt&62914560)===yt||(yt&536870912)!==0?o===Qi:!1}function Aw(){var o=B.H;return B.H=Mc,o===null?Mc:o}function Tw(){var o=B.A;return B.A=oN,o}function dh(){rn=4,Is||(yt&4194048)!==yt&&Oi.current!==null||(cl=!0),(Ps&134217727)===0&&(Ya&134217727)===0||zt===null||js(zt,yt,Bi,!1)}function yy(o,u,f){var y=St;St|=2;var A=Aw(),_=Tw();(zt!==o||yt!==u)&&(ch=null,hl(o,u)),u=!1;var N=rn;e:do try{if(Ot!==0&&gt!==null){var j=gt,ne=Fi;switch(Ot){case 8:my(),N=6;break e;case 3:case 2:case 9:case 6:Oi.current===null&&(u=!0);var pe=Ot;if(Ot=0,Fi=null,fl(o,j,ne,pe),f&&cl){N=0;break e}break;default:pe=Ot,Ot=0,Fi=null,fl(o,j,ne,pe)}}uN(),N=rn;break}catch(Ae){Dw(o,Ae)}while(!0);return u&&o.shellSuspendCounter++,Kr=za=null,St=y,B.H=A,B.A=_,gt===null&&(zt=null,yt=0,Md()),N}function uN(){for(;gt!==null;)_w(gt)}function dN(o,u){var f=St;St|=2;var y=Aw(),A=Tw();zt!==o||yt!==u?(ch=null,lh=J()+500,hl(o,u)):cl=me(o,u);e:do try{if(Ot!==0&&gt!==null){u=gt;var _=Fi;t:switch(Ot){case 1:Ot=0,Fi=null,fl(o,u,_,1);break;case 2:case 9:if(Fx(_)){Ot=0,Fi=null,Ew(u);break}u=function(){Ot!==2&&Ot!==9||zt!==o||(Ot=7),Mr(o)},_.then(u,u);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:Fx(_)?(Ot=0,Fi=null,Ew(u)):(Ot=0,Fi=null,fl(o,u,_,7));break;case 5:var N=null;switch(gt.tag){case 26:N=gt.memoizedState;case 5:case 27:var j=gt;if(N?dA(N):j.stateNode.complete){Ot=0,Fi=null;var ne=j.sibling;if(ne!==null)gt=ne;else{var pe=j.return;pe!==null?(gt=pe,hh(pe)):gt=null}break t}}Ot=0,Fi=null,fl(o,u,_,5);break;case 6:Ot=0,Fi=null,fl(o,u,_,6);break;case 8:my(),rn=6;break e;default:throw Error(n(462))}}hN();break}catch(Ae){Dw(o,Ae)}while(!0);return Kr=za=null,B.H=y,B.A=A,St=f,gt!==null?0:(zt=null,yt=0,Md(),rn)}function hN(){for(;gt!==null&&!se();)_w(gt)}function _w(o){var u=YD(o.alternate,o,as);o.memoizedProps=o.pendingProps,u===null?hh(o):gt=u}function Ew(o){var u=o,f=u.alternate;switch(u.tag){case 15:case 0:u=HD(f,u,u.pendingProps,u.type,void 0,yt);break;case 11:u=HD(f,u,u.pendingProps,u.type.render,u.ref,yt);break;case 5:Rm(u);default:ZD(f,u),u=gt=Tx(u,as),u=YD(f,u,as)}o.memoizedProps=o.pendingProps,u===null?hh(o):gt=u}function fl(o,u,f,y){Kr=za=null,Rm(u),nl=null,Ac=0;var A=u.return;try{if(eN(o,A,u,f,yt)){rn=1,Jd(o,$i(f,o.current)),gt=null;return}}catch(_){if(A!==null)throw gt=A,_;rn=1,Jd(o,$i(f,o.current)),gt=null;return}u.flags&32768?(xt||y===1?o=!0:cl||(yt&536870912)!==0?o=!1:(Is=o=!0,(y===2||y===9||y===3||y===6)&&(y=Oi.current,y!==null&&y.tag===13&&(y.flags|=16384))),Sw(u,o)):hh(u)}function hh(o){var u=o;do{if((u.flags&32768)!==0){Sw(u,Is);return}o=u.return;var f=iN(u.alternate,u,as);if(f!==null){gt=f;return}if(u=u.sibling,u!==null){gt=u;return}gt=u=o}while(u!==null);rn===0&&(rn=5)}function Sw(o,u){do{var f=rN(o.alternate,o);if(f!==null){f.flags&=32767,gt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!u&&(o=o.sibling,o!==null)){gt=o;return}gt=o=f}while(o!==null);rn=6,gt=null}function Cw(o,u,f,y,A,_,N,j,ne){o.cancelPendingCommit=null;do fh();while(Tn!==0);if((St&6)!==0)throw Error(n(327));if(u!==null){if(u===o.current)throw Error(n(177));if(_=u.lanes|u.childLanes,_|=sm,Ci(o,f,_,N,j,ne),o===zt&&(gt=zt=null,yt=0),dl=u,Ws=o,ls=f,fy=_,py=A,yw=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,mN(Ie,function(){return Ow(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=B.T,B.T=null,A=I.p,I.p=2,N=St,St|=4;try{sN(o,u,f)}finally{St=N,I.p=A,B.T=y}}Tn=1,kw(),Uw(),Mw()}}function kw(){if(Tn===1){Tn=0;var o=Ws,u=dl,f=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||f){f=B.T,B.T=null;var y=I.p;I.p=2;var A=St;St|=4;try{cw(u,o);var _=ky,N=gx(o.containerInfo),j=_.focusedElem,ne=_.selectionRange;if(N!==j&&j&&j.ownerDocument&&px(j.ownerDocument.documentElement,j)){if(ne!==null&&em(j)){var pe=ne.start,Ae=ne.end;if(Ae===void 0&&(Ae=pe),"selectionStart"in j)j.selectionStart=pe,j.selectionEnd=Math.min(Ae,j.value.length);else{var Se=j.ownerDocument||document,ye=Se&&Se.defaultView||window;if(ye.getSelection){var De=ye.getSelection(),We=j.textContent.length,Ze=Math.min(ne.start,We),It=ne.end===void 0?Ze:Math.min(ne.end,We);!De.extend&&Ze>It&&(N=It,It=Ze,Ze=N);var he=fx(j,Ze),oe=fx(j,It);if(he&&oe&&(De.rangeCount!==1||De.anchorNode!==he.node||De.anchorOffset!==he.offset||De.focusNode!==oe.node||De.focusOffset!==oe.offset)){var fe=Se.createRange();fe.setStart(he.node,he.offset),De.removeAllRanges(),Ze>It?(De.addRange(fe),De.extend(oe.node,oe.offset)):(fe.setEnd(oe.node,oe.offset),De.addRange(fe))}}}}for(Se=[],De=j;De=De.parentNode;)De.nodeType===1&&Se.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Se.length;j++){var Ee=Se[j];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}_h=!!Cy,ky=Cy=null}finally{St=A,I.p=y,B.T=f}}o.current=u,Tn=2}}function Uw(){if(Tn===2){Tn=0;var o=Ws,u=dl,f=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||f){f=B.T,B.T=null;var y=I.p;I.p=2;var A=St;St|=4;try{rw(o,u.alternate,u)}finally{St=A,I.p=y,B.T=f}}Tn=3}}function Mw(){if(Tn===4||Tn===3){Tn=0,Q();var o=Ws,u=dl,f=ls,y=yw;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Tn=5:(Tn=0,dl=Ws=null,Rw(o,o.pendingLanes));var A=o.pendingLanes;if(A===0&&(zs=null),mr(f),u=u.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(ue,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=B.T,A=I.p,I.p=2,B.T=null;try{for(var _=o.onRecoverableError,N=0;N<y.length;N++){var j=y[N];_(j.value,{componentStack:j.stack})}}finally{B.T=u,I.p=A}}(ls&3)!==0&&fh(),Mr(o),A=o.pendingLanes,(f&261930)!==0&&(A&42)!==0?o===gy?zc++:(zc=0,gy=o):zc=0,Wc(0)}}function Rw(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Dc(u)))}function fh(){return kw(),Uw(),Mw(),Ow()}function Ow(){if(Tn!==5)return!1;var o=Ws,u=fy;fy=0;var f=mr(ls),y=B.T,A=I.p;try{I.p=32>f?32:f,B.T=null,f=py,py=null;var _=Ws,N=ls;if(Tn=0,dl=Ws=null,ls=0,(St&6)!==0)throw Error(n(331));var j=St;if(St|=4,pw(_.current),dw(_,_.current,N,f),St=j,Wc(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(ue,_)}catch{}return!0}finally{I.p=A,B.T=y,Rw(o,u)}}function Nw(o,u,f){u=$i(f,u),u=Xm(o.stateNode,u,2),o=Ns(o,u,2),o!==null&&(pn(o,2),Mr(o))}function Nt(o,u,f){if(o.tag===3)Nw(o,o,f);else for(;u!==null;){if(u.tag===3){Nw(u,o,f);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(zs===null||!zs.has(y))){o=$i(f,o),f=FD(2),y=Ns(u,f,2),y!==null&&(BD(f,y,u,o),pn(y,2),Mr(y));break}}u=u.return}}function by(o,u,f){var y=o.pingCache;if(y===null){y=o.pingCache=new lN;var A=new Set;y.set(u,A)}else A=y.get(u),A===void 0&&(A=new Set,y.set(u,A));A.has(f)||(uy=!0,A.add(f),o=fN.bind(null,o,u,f),u.then(o,o))}function fN(o,u,f){var y=o.pingCache;y!==null&&y.delete(u),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,zt===o&&(yt&f)===f&&(rn===4||rn===3&&(yt&62914560)===yt&&300>J()-oh?(St&2)===0&&hl(o,0):dy|=f,ul===yt&&(ul=0)),Mr(o)}function Fw(o,u){u===0&&(u=Je()),o=La(o,u),o!==null&&(pn(o,u),Mr(o))}function pN(o){var u=o.memoizedState,f=0;u!==null&&(f=u.retryLane),Fw(o,f)}function gN(o,u){var f=0;switch(o.tag){case 31:case 13:var y=o.stateNode,A=o.memoizedState;A!==null&&(f=A.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(u),Fw(o,f)}function mN(o,u){return ve(o,u)}var ph=null,pl=null,vy=!1,gh=!1,xy=!1,Hs=0;function Mr(o){o!==pl&&o.next===null&&(pl===null?ph=pl=o:pl=pl.next=o),gh=!0,vy||(vy=!0,bN())}function Wc(o,u){if(!xy&&gh){xy=!0;do for(var f=!1,y=ph;y!==null;){if(o!==0){var A=y.pendingLanes;if(A===0)var _=0;else{var N=y.suspendedLanes,j=y.pingedLanes;_=(1<<31-Be(42|o)+1)-1,_&=A&~(N&~j),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(f=!0,Pw(y,_))}else _=yt,_=ee(y,y===zt?_:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(_&3)===0||me(y,_)||(f=!0,Pw(y,_));y=y.next}while(f);xy=!1}}function yN(){Bw()}function Bw(){gh=vy=!1;var o=0;Hs!==0&&CN()&&(o=Hs);for(var u=J(),f=null,y=ph;y!==null;){var A=y.next,_=Lw(y,u);_===0?(y.next=null,f===null?ph=A:f.next=A,A===null&&(pl=f)):(f=y,(o!==0||(_&3)!==0)&&(gh=!0)),y=A}Tn!==0&&Tn!==5||Wc(o),Hs!==0&&(Hs=0)}function Lw(o,u){for(var f=o.suspendedLanes,y=o.pingedLanes,A=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var N=31-Be(_),j=1<<N,ne=A[N];ne===-1?((j&f)===0||(j&y)!==0)&&(A[N]=Oe(j,u)):ne<=u&&(o.expiredLanes|=j),_&=~j}if(u=zt,f=yt,f=ee(o,o===u?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,f===0||o===u&&(Ot===2||Ot===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&xe(y),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||me(o,f)){if(u=f&-f,u===o.callbackPriority)return u;switch(y!==null&&xe(y),mr(f)){case 2:case 8:f=Re;break;case 32:f=Ie;break;case 268435456:f=Ge;break;default:f=Ie}return y=Iw.bind(null,o),f=ve(f,y),o.callbackPriority=u,o.callbackNode=f,u}return y!==null&&y!==null&&xe(y),o.callbackPriority=2,o.callbackNode=null,2}function Iw(o,u){if(Tn!==0&&Tn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(fh()&&o.callbackNode!==f)return null;var y=yt;return y=ee(o,o===zt?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(vw(o,y,u),Lw(o,J()),o.callbackNode!=null&&o.callbackNode===f?Iw.bind(null,o):null)}function Pw(o,u){if(fh())return null;vw(o,u,!0)}function bN(){UN(function(){(St&6)!==0?ve(be,yN):Bw()})}function Dy(){if(Hs===0){var o=Jo;o===0&&(o=cn,cn<<=1,(cn&261888)===0&&(cn=256)),Hs=o}return Hs}function zw(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ad(""+o)}function Ww(o,u){var f=u.ownerDocument.createElement("input");return f.name=u.name,f.value=u.value,o.id&&f.setAttribute("form",o.id),u.parentNode.insertBefore(f,u),o=new FormData(o),f.parentNode.removeChild(f),o}function vN(o,u,f,y,A){if(u==="submit"&&f&&f.stateNode===A){var _=zw((A[Bn]||null).action),N=y.submitter;N&&(u=(u=N[Bn]||null)?zw(u.formAction):N.getAttribute("formAction"),u!==null&&(_=u,N=null));var j=new Sd("action","action",null,y,A);o.push({event:j,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Hs!==0){var ne=N?Ww(A,N):new FormData(A);Wm(f,{pending:!0,data:ne,method:A.method,action:_},null,ne)}}else typeof _=="function"&&(j.preventDefault(),ne=N?Ww(A,N):new FormData(A),Wm(f,{pending:!0,data:ne,method:A.method,action:_},_,ne))},currentTarget:A}]})}}for(var wy=0;wy<rm.length;wy++){var Ay=rm[wy],xN=Ay.toLowerCase(),DN=Ay[0].toUpperCase()+Ay.slice(1);yr(xN,"on"+DN)}yr(bx,"onAnimationEnd"),yr(vx,"onAnimationIteration"),yr(xx,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(LO,"onTransitionRun"),yr(IO,"onTransitionStart"),yr(PO,"onTransitionCancel"),yr(Dx,"onTransitionEnd"),Po("onMouseEnter",["mouseout","mouseover"]),Po("onMouseLeave",["mouseout","mouseover"]),Po("onPointerEnter",["pointerout","pointerover"]),Po("onPointerLeave",["pointerout","pointerover"]),Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function jw(o,u){u=(u&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],A=y.event;y=y.listeners;e:{var _=void 0;if(u)for(var N=y.length-1;0<=N;N--){var j=y[N],ne=j.instance,pe=j.currentTarget;if(j=j.listener,ne!==_&&A.isPropagationStopped())break e;_=j,A.currentTarget=pe;try{_(A)}catch(Ae){Ud(Ae)}A.currentTarget=null,_=ne}else for(N=0;N<y.length;N++){if(j=y[N],ne=j.instance,pe=j.currentTarget,j=j.listener,ne!==_&&A.isPropagationStopped())break e;_=j,A.currentTarget=pe;try{_(A)}catch(Ae){Ud(Ae)}A.currentTarget=null,_=ne}}}}function mt(o,u){var f=u[Fo];f===void 0&&(f=u[Fo]=new Set);var y=o+"__bubble";f.has(y)||(Hw(u,o,2,!1),f.add(y))}function Ty(o,u,f){var y=0;u&&(y|=4),Hw(f,o,y,u)}var mh="_reactListening"+Math.random().toString(36).slice(2);function _y(o){if(!o[mh]){o[mh]=!0,B2.forEach(function(f){f!=="selectionchange"&&(wN.has(f)||Ty(f,!1,o),Ty(f,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[mh]||(u[mh]=!0,Ty("selectionchange",!1,u))}}function Hw(o,u,f,y){switch(bA(u)){case 2:var A=KN;break;case 8:A=ZN;break;default:A=zy}f=A.bind(null,u,f,o),A=void 0,!Vg||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),y?A!==void 0?o.addEventListener(u,f,{capture:!0,passive:A}):o.addEventListener(u,f,!0):A!==void 0?o.addEventListener(u,f,{passive:A}):o.addEventListener(u,f,!1)}function Ey(o,u,f,y,A){var _=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var N=y.tag;if(N===3||N===4){var j=y.stateNode.containerInfo;if(j===A)break;if(N===4)for(N=y.return;N!==null;){var ne=N.tag;if((ne===3||ne===4)&&N.stateNode.containerInfo===A)return;N=N.return}for(;j!==null;){if(N=Bo(j),N===null)return;if(ne=N.tag,ne===5||ne===6||ne===26||ne===27){y=_=N;continue e}j=j.parentNode}}y=y.return}$2(function(){var pe=_,Ae=Hg(f),Se=[];e:{var ye=wx.get(o);if(ye!==void 0){var De=Sd,We=o;switch(o){case"keypress":if(_d(f)===0)break e;case"keydown":case"keyup":De=gO;break;case"focusin":We="focus",De=Yg;break;case"focusout":We="blur",De=Yg;break;case"beforeblur":case"afterblur":De=Yg;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Z2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=iO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=bO;break;case bx:case vx:case xx:De=aO;break;case Dx:De=xO;break;case"scroll":case"scrollend":De=tO;break;case"wheel":De=wO;break;case"copy":case"cut":case"paste":De=lO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=J2;break;case"toggle":case"beforetoggle":De=TO}var Ze=(u&4)!==0,It=!Ze&&(o==="scroll"||o==="scrollend"),he=Ze?ye!==null?ye+"Capture":null:ye;Ze=[];for(var oe=pe,fe;oe!==null;){var Ee=oe;if(fe=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||fe===null||he===null||(Ee=uc(oe,he),Ee!=null&&Ze.push(Hc(oe,Ee,fe))),It)break;oe=oe.return}0<Ze.length&&(ye=new De(ye,We,null,f,Ae),Se.push({event:ye,listeners:Ze}))}}if((u&7)===0){e:{if(ye=o==="mouseover"||o==="pointerover",De=o==="mouseout"||o==="pointerout",ye&&f!==jg&&(We=f.relatedTarget||f.fromElement)&&(Bo(We)||We[Ui]))break e;if((De||ye)&&(ye=Ae.window===Ae?Ae:(ye=Ae.ownerDocument)?ye.defaultView||ye.parentWindow:window,De?(We=f.relatedTarget||f.toElement,De=pe,We=We?Bo(We):null,We!==null&&(It=s(We),Ze=We.tag,We!==It||Ze!==5&&Ze!==27&&Ze!==6)&&(We=null)):(De=null,We=pe),De!==We)){if(Ze=Z2,Ee="onMouseLeave",he="onMouseEnter",oe="mouse",(o==="pointerout"||o==="pointerover")&&(Ze=J2,Ee="onPointerLeave",he="onPointerEnter",oe="pointer"),It=De==null?ye:cc(De),fe=We==null?ye:cc(We),ye=new Ze(Ee,oe+"leave",De,f,Ae),ye.target=It,ye.relatedTarget=fe,Ee=null,Bo(Ae)===pe&&(Ze=new Ze(he,oe+"enter",We,f,Ae),Ze.target=fe,Ze.relatedTarget=It,Ee=Ze),It=Ee,De&&We)t:{for(Ze=AN,he=De,oe=We,fe=0,Ee=he;Ee;Ee=Ze(Ee))fe++;Ee=0;for(var Xe=oe;Xe;Xe=Ze(Xe))Ee++;for(;0<fe-Ee;)he=Ze(he),fe--;for(;0<Ee-fe;)oe=Ze(oe),Ee--;for(;fe--;){if(he===oe||oe!==null&&he===oe.alternate){Ze=he;break t}he=Ze(he),oe=Ze(oe)}Ze=null}else Ze=null;De!==null&&qw(Se,ye,De,Ze,!1),We!==null&&It!==null&&qw(Se,It,We,Ze,!0)}}e:{if(ye=pe?cc(pe):window,De=ye.nodeName&&ye.nodeName.toLowerCase(),De==="select"||De==="input"&&ye.type==="file")var _t=ox;else if(sx(ye))if(lx)_t=NO;else{_t=RO;var Ve=MO}else De=ye.nodeName,!De||De.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?pe&&Wg(pe.elementType)&&(_t=ox):_t=OO;if(_t&&(_t=_t(o,pe))){ax(Se,_t,f,Ae);break e}Ve&&Ve(o,ye,pe),o==="focusout"&&pe&&ye.type==="number"&&pe.memoizedProps.value!=null&&zg(ye,"number",ye.value)}switch(Ve=pe?cc(pe):window,o){case"focusin":(sx(Ve)||Ve.contentEditable==="true")&&(Vo=Ve,tm=pe,bc=null);break;case"focusout":bc=tm=Vo=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,mx(Se,f,Ae);break;case"selectionchange":if(BO)break;case"keydown":case"keyup":mx(Se,f,Ae)}var ct;if(Zg)e:{switch(o){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else qo?ix(o,f)&&(bt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(bt="onCompositionStart");bt&&(ex&&f.locale!=="ko"&&(qo||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&qo&&(ct=Y2()):(Ss=Ae,Gg="value"in Ss?Ss.value:Ss.textContent,qo=!0)),Ve=yh(pe,bt),0<Ve.length&&(bt=new Q2(bt,o,null,f,Ae),Se.push({event:bt,listeners:Ve}),ct?bt.data=ct:(ct=rx(f),ct!==null&&(bt.data=ct)))),(ct=EO?SO(o,f):CO(o,f))&&(bt=yh(pe,"onBeforeInput"),0<bt.length&&(Ve=new Q2("onBeforeInput","beforeinput",null,f,Ae),Se.push({event:Ve,listeners:bt}),Ve.data=ct)),vN(Se,o,pe,f,Ae)}jw(Se,u)})}function Hc(o,u,f){return{instance:o,listener:u,currentTarget:f}}function yh(o,u){for(var f=u+"Capture",y=[];o!==null;){var A=o,_=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||_===null||(A=uc(o,f),A!=null&&y.unshift(Hc(o,A,_)),A=uc(o,u),A!=null&&y.push(Hc(o,A,_))),o.tag===3)return y;o=o.return}return[]}function AN(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function qw(o,u,f,y,A){for(var _=u._reactName,N=[];f!==null&&f!==y;){var j=f,ne=j.alternate,pe=j.stateNode;if(j=j.tag,ne!==null&&ne===y)break;j!==5&&j!==26&&j!==27||pe===null||(ne=pe,A?(pe=uc(f,_),pe!=null&&N.unshift(Hc(f,pe,ne))):A||(pe=uc(f,_),pe!=null&&N.push(Hc(f,pe,ne)))),f=f.return}N.length!==0&&o.push({event:u,listeners:N})}var TN=/\r\n?/g,_N=/\u0000|\uFFFD/g;function Vw(o){return(typeof o=="string"?o:""+o).replace(TN,`
`).replace(_N,"")}function Gw(o,u){return u=Vw(u),Vw(o)===u}function Lt(o,u,f,y,A,_){switch(f){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||Wo(o,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&Wo(o,""+y);break;case"className":Dd(o,"class",y);break;case"tabIndex":Dd(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Dd(o,f,y);break;case"style":G2(o,y,_);break;case"data":if(u!=="object"){Dd(o,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||f!=="href")){o.removeAttribute(f);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(f);break}y=Ad(""+y),o.setAttribute(f,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(f==="formAction"?(u!=="input"&&Lt(o,u,"name",A.name,A,null),Lt(o,u,"formEncType",A.formEncType,A,null),Lt(o,u,"formMethod",A.formMethod,A,null),Lt(o,u,"formTarget",A.formTarget,A,null)):(Lt(o,u,"encType",A.encType,A,null),Lt(o,u,"method",A.method,A,null),Lt(o,u,"target",A.target,A,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(f);break}y=Ad(""+y),o.setAttribute(f,y);break;case"onClick":y!=null&&(o.onclick=Gr);break;case"onScroll":y!=null&&mt("scroll",o);break;case"onScrollEnd":y!=null&&mt("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(f=y.__html,f!=null){if(A.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}f=Ad(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(f,""+y):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":y===!0?o.setAttribute(f,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(f,y):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(f,y):o.removeAttribute(f);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(f):o.setAttribute(f,y);break;case"popover":mt("beforetoggle",o),mt("toggle",o),xd(o,"popover",y);break;case"xlinkActuate":Vr(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Vr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Vr(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Vr(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Vr(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Vr(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Vr(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Vr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Vr(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":xd(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=JR.get(f)||f,xd(o,f,y))}}function Sy(o,u,f,y,A,_){switch(f){case"style":G2(o,y,_);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(f=y.__html,f!=null){if(A.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"children":typeof y=="string"?Wo(o,y):(typeof y=="number"||typeof y=="bigint")&&Wo(o,""+y);break;case"onScroll":y!=null&&mt("scroll",o);break;case"onScrollEnd":y!=null&&mt("scrollend",o);break;case"onClick":y!=null&&(o.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!L2.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(A=f.endsWith("Capture"),u=f.slice(2,A?f.length-7:void 0),_=o[Bn]||null,_=_!=null?_[f]:null,typeof _=="function"&&o.removeEventListener(u,_,A),typeof y=="function")){typeof _!="function"&&_!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(u,y,A);break e}f in o?o[f]=y:y===!0?o.setAttribute(f,""):xd(o,f,y)}}}function zn(o,u,f){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",o),mt("load",o);var y=!1,A=!1,_;for(_ in f)if(f.hasOwnProperty(_)){var N=f[_];if(N!=null)switch(_){case"src":y=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Lt(o,u,_,N,f,null)}}A&&Lt(o,u,"srcSet",f.srcSet,f,null),y&&Lt(o,u,"src",f.src,f,null);return;case"input":mt("invalid",o);var j=_=N=A=null,ne=null,pe=null;for(y in f)if(f.hasOwnProperty(y)){var Ae=f[y];if(Ae!=null)switch(y){case"name":A=Ae;break;case"type":N=Ae;break;case"checked":ne=Ae;break;case"defaultChecked":pe=Ae;break;case"value":_=Ae;break;case"defaultValue":j=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(n(137,u));break;default:Lt(o,u,y,Ae,f,null)}}j2(o,_,j,ne,pe,N,A,!1);return;case"select":mt("invalid",o),y=N=_=null;for(A in f)if(f.hasOwnProperty(A)&&(j=f[A],j!=null))switch(A){case"value":_=j;break;case"defaultValue":N=j;break;case"multiple":y=j;default:Lt(o,u,A,j,f,null)}u=_,f=N,o.multiple=!!y,u!=null?zo(o,!!y,u,!1):f!=null&&zo(o,!!y,f,!0);return;case"textarea":mt("invalid",o),_=A=y=null;for(N in f)if(f.hasOwnProperty(N)&&(j=f[N],j!=null))switch(N){case"value":y=j;break;case"defaultValue":A=j;break;case"children":_=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:Lt(o,u,N,j,f,null)}q2(o,y,A,_);return;case"option":for(ne in f)if(f.hasOwnProperty(ne)&&(y=f[ne],y!=null))switch(ne){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Lt(o,u,ne,y,f,null)}return;case"dialog":mt("beforetoggle",o),mt("toggle",o),mt("cancel",o),mt("close",o);break;case"iframe":case"object":mt("load",o);break;case"video":case"audio":for(y=0;y<jc.length;y++)mt(jc[y],o);break;case"image":mt("error",o),mt("load",o);break;case"details":mt("toggle",o);break;case"embed":case"source":case"link":mt("error",o),mt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in f)if(f.hasOwnProperty(pe)&&(y=f[pe],y!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Lt(o,u,pe,y,f,null)}return;default:if(Wg(u)){for(Ae in f)f.hasOwnProperty(Ae)&&(y=f[Ae],y!==void 0&&Sy(o,u,Ae,y,f,void 0));return}}for(j in f)f.hasOwnProperty(j)&&(y=f[j],y!=null&&Lt(o,u,j,y,f,null))}function EN(o,u,f,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,_=null,N=null,j=null,ne=null,pe=null,Ae=null;for(De in f){var Se=f[De];if(f.hasOwnProperty(De)&&Se!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":ne=Se;default:y.hasOwnProperty(De)||Lt(o,u,De,null,y,Se)}}for(var ye in y){var De=y[ye];if(Se=f[ye],y.hasOwnProperty(ye)&&(De!=null||Se!=null))switch(ye){case"type":_=De;break;case"name":A=De;break;case"checked":pe=De;break;case"defaultChecked":Ae=De;break;case"value":N=De;break;case"defaultValue":j=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,u));break;default:De!==Se&&Lt(o,u,ye,De,y,Se)}}Pg(o,N,j,ne,pe,Ae,_,A);return;case"select":De=N=j=ye=null;for(_ in f)if(ne=f[_],f.hasOwnProperty(_)&&ne!=null)switch(_){case"value":break;case"multiple":De=ne;default:y.hasOwnProperty(_)||Lt(o,u,_,null,y,ne)}for(A in y)if(_=y[A],ne=f[A],y.hasOwnProperty(A)&&(_!=null||ne!=null))switch(A){case"value":ye=_;break;case"defaultValue":j=_;break;case"multiple":N=_;default:_!==ne&&Lt(o,u,A,_,y,ne)}u=j,f=N,y=De,ye!=null?zo(o,!!f,ye,!1):!!y!=!!f&&(u!=null?zo(o,!!f,u,!0):zo(o,!!f,f?[]:"",!1));return;case"textarea":De=ye=null;for(j in f)if(A=f[j],f.hasOwnProperty(j)&&A!=null&&!y.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Lt(o,u,j,null,y,A)}for(N in y)if(A=y[N],_=f[N],y.hasOwnProperty(N)&&(A!=null||_!=null))switch(N){case"value":ye=A;break;case"defaultValue":De=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==_&&Lt(o,u,N,A,y,_)}H2(o,ye,De);return;case"option":for(var We in f)if(ye=f[We],f.hasOwnProperty(We)&&ye!=null&&!y.hasOwnProperty(We))switch(We){case"selected":o.selected=!1;break;default:Lt(o,u,We,null,y,ye)}for(ne in y)if(ye=y[ne],De=f[ne],y.hasOwnProperty(ne)&&ye!==De&&(ye!=null||De!=null))switch(ne){case"selected":o.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Lt(o,u,ne,ye,y,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in f)ye=f[Ze],f.hasOwnProperty(Ze)&&ye!=null&&!y.hasOwnProperty(Ze)&&Lt(o,u,Ze,null,y,ye);for(pe in y)if(ye=y[pe],De=f[pe],y.hasOwnProperty(pe)&&ye!==De&&(ye!=null||De!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,u));break;default:Lt(o,u,pe,ye,y,De)}return;default:if(Wg(u)){for(var It in f)ye=f[It],f.hasOwnProperty(It)&&ye!==void 0&&!y.hasOwnProperty(It)&&Sy(o,u,It,void 0,y,ye);for(Ae in y)ye=y[Ae],De=f[Ae],!y.hasOwnProperty(Ae)||ye===De||ye===void 0&&De===void 0||Sy(o,u,Ae,ye,y,De);return}}for(var he in f)ye=f[he],f.hasOwnProperty(he)&&ye!=null&&!y.hasOwnProperty(he)&&Lt(o,u,he,null,y,ye);for(Se in y)ye=y[Se],De=f[Se],!y.hasOwnProperty(Se)||ye===De||ye==null&&De==null||Lt(o,u,Se,ye,y,De)}function Xw(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SN(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,f=performance.getEntriesByType("resource"),y=0;y<f.length;y++){var A=f[y],_=A.transferSize,N=A.initiatorType,j=A.duration;if(_&&j&&Xw(N)){for(N=0,j=A.responseEnd,y+=1;y<f.length;y++){var ne=f[y],pe=ne.startTime;if(pe>j)break;var Ae=ne.transferSize,Se=ne.initiatorType;Ae&&Xw(Se)&&(ne=ne.responseEnd,N+=Ae*(ne<j?1:(j-pe)/(ne-pe)))}if(--y,u+=8*(_+N)/(A.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Cy=null,ky=null;function bh(o){return o.nodeType===9?o:o.ownerDocument}function $w(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yw(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function Uy(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var My=null;function CN(){var o=window.event;return o&&o.type==="popstate"?o===My?!1:(My=o,!0):(My=null,!1)}var Kw=typeof setTimeout=="function"?setTimeout:void 0,kN=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,UN=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw<"u"?function(o){return Zw.resolve(null).then(o).catch(MN)}:Kw;function MN(o){setTimeout(function(){throw o})}function qs(o){return o==="head"}function Qw(o,u){var f=u,y=0;do{var A=f.nextSibling;if(o.removeChild(f),A&&A.nodeType===8)if(f=A.data,f==="/$"||f==="/&"){if(y===0){o.removeChild(A),bl(u);return}y--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")y++;else if(f==="html")qc(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,qc(f);for(var _=f.firstChild;_;){var N=_.nextSibling,j=_.nodeName;_[lc]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&_.rel.toLowerCase()==="stylesheet"||f.removeChild(_),_=N}}else f==="body"&&qc(o.ownerDocument.body);f=A}while(f);bl(u)}function Jw(o,u){var f=o;o=0;do{var y=f.nextSibling;if(f.nodeType===1?u?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(u?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),y&&y.nodeType===8)if(f=y.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=y}while(f)}function Ry(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var f=u;switch(u=u.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Ry(f),Lg(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function RN(o,u,f,y){for(;o.nodeType===1;){var A=f;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[lc])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==A.rel||o.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var _=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=Ji(o.nextSibling),o===null)break}return null}function ON(o,u,f){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Ji(o.nextSibling),o===null))return null;return o}function eA(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Ji(o.nextSibling),o===null))return null;return o}function Oy(o){return o.data==="$?"||o.data==="$~"}function Ny(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function NN(o,u){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||f.readyState!=="loading")u();else{var y=function(){u(),f.removeEventListener("DOMContentLoaded",y)};f.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function Ji(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var Fy=null;function tA(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(u===0)return Ji(o.nextSibling);u--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||u++}o=o.nextSibling}return null}function nA(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(u===0)return o;u--}else f!=="/$"&&f!=="/&"||u++}o=o.previousSibling}return null}function iA(o,u,f){switch(u=bh(f),o){case"html":if(o=u.documentElement,!o)throw Error(n(452));return o;case"head":if(o=u.head,!o)throw Error(n(453));return o;case"body":if(o=u.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function qc(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Lg(o)}var er=new Map,rA=new Set;function vh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var cs=I.d;I.d={f:FN,r:BN,D:LN,C:IN,L:PN,m:zN,X:jN,S:WN,M:HN};function FN(){var o=cs.f(),u=uh();return o||u}function BN(o){var u=Lo(o);u!==null&&u.tag===5&&u.type==="form"?DD(u):cs.r(o)}var gl=typeof document>"u"?null:document;function sA(o,u,f){var y=gl;if(y&&typeof u=="string"&&u){var A=Gi(u);A='link[rel="'+o+'"][href="'+A+'"]',typeof f=="string"&&(A+='[crossorigin="'+f+'"]'),rA.has(A)||(rA.add(A),o={rel:o,crossOrigin:f,href:u},y.querySelector(A)===null&&(u=y.createElement("link"),zn(u,"link",o),Cn(u),y.head.appendChild(u)))}}function LN(o){cs.D(o),sA("dns-prefetch",o,null)}function IN(o,u){cs.C(o,u),sA("preconnect",o,u)}function PN(o,u,f){cs.L(o,u,f);var y=gl;if(y&&o&&u){var A='link[rel="preload"][as="'+Gi(u)+'"]';u==="image"&&f&&f.imageSrcSet?(A+='[imagesrcset="'+Gi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(A+='[imagesizes="'+Gi(f.imageSizes)+'"]')):A+='[href="'+Gi(o)+'"]';var _=A;switch(u){case"style":_=ml(o);break;case"script":_=yl(o)}er.has(_)||(o=p({rel:"preload",href:u==="image"&&f&&f.imageSrcSet?void 0:o,as:u},f),er.set(_,o),y.querySelector(A)!==null||u==="style"&&y.querySelector(Vc(_))||u==="script"&&y.querySelector(Gc(_))||(u=y.createElement("link"),zn(u,"link",o),Cn(u),y.head.appendChild(u)))}}function zN(o,u){cs.m(o,u);var f=gl;if(f&&o){var y=u&&typeof u.as=="string"?u.as:"script",A='link[rel="modulepreload"][as="'+Gi(y)+'"][href="'+Gi(o)+'"]',_=A;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=yl(o)}if(!er.has(_)&&(o=p({rel:"modulepreload",href:o},u),er.set(_,o),f.querySelector(A)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Gc(_)))return}y=f.createElement("link"),zn(y,"link",o),Cn(y),f.head.appendChild(y)}}}function WN(o,u,f){cs.S(o,u,f);var y=gl;if(y&&o){var A=Io(y).hoistableStyles,_=ml(o);u=u||"default";var N=A.get(_);if(!N){var j={loading:0,preload:null};if(N=y.querySelector(Vc(_)))j.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},f),(f=er.get(_))&&By(o,f);var ne=N=y.createElement("link");Cn(ne),zn(ne,"link",o),ne._p=new Promise(function(pe,Ae){ne.onload=pe,ne.onerror=Ae}),ne.addEventListener("load",function(){j.loading|=1}),ne.addEventListener("error",function(){j.loading|=2}),j.loading|=4,xh(N,u,y)}N={type:"stylesheet",instance:N,count:1,state:j},A.set(_,N)}}}function jN(o,u){cs.X(o,u);var f=gl;if(f&&o){var y=Io(f).hoistableScripts,A=yl(o),_=y.get(A);_||(_=f.querySelector(Gc(A)),_||(o=p({src:o,async:!0},u),(u=er.get(A))&&Ly(o,u),_=f.createElement("script"),Cn(_),zn(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(A,_))}}function HN(o,u){cs.M(o,u);var f=gl;if(f&&o){var y=Io(f).hoistableScripts,A=yl(o),_=y.get(A);_||(_=f.querySelector(Gc(A)),_||(o=p({src:o,async:!0,type:"module"},u),(u=er.get(A))&&Ly(o,u),_=f.createElement("script"),Cn(_),zn(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(A,_))}}function aA(o,u,f,y){var A=(A=we.current)?vh(A):null;if(!A)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(u=ml(f.href),f=Io(A).hoistableStyles,y=f.get(u),y||(y={type:"style",instance:null,count:0,state:null},f.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=ml(f.href);var _=Io(A).hoistableStyles,N=_.get(o);if(N||(A=A.ownerDocument||A,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,N),(_=A.querySelector(Vc(o)))&&!_._p&&(N.instance=_,N.state.loading=5),er.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},er.set(o,f),_||qN(A,o,f,N.state))),u&&y===null)throw Error(n(528,""));return N}if(u&&y!==null)throw Error(n(529,""));return null;case"script":return u=f.async,f=f.src,typeof f=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=yl(f),f=Io(A).hoistableScripts,y=f.get(u),y||(y={type:"script",instance:null,count:0,state:null},f.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function ml(o){return'href="'+Gi(o)+'"'}function Vc(o){return'link[rel="stylesheet"]['+o+"]"}function oA(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function qN(o,u,f,y){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=o.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),zn(u,"link",f),Cn(u),o.head.appendChild(u))}function yl(o){return'[src="'+Gi(o)+'"]'}function Gc(o){return"script[async]"+o}function lA(o,u,f){if(u.count++,u.instance===null)switch(u.type){case"style":var y=o.querySelector('style[data-href~="'+Gi(f.href)+'"]');if(y)return u.instance=y,Cn(y),y;var A=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),Cn(y),zn(y,"style",A),xh(y,f.precedence,o),u.instance=y;case"stylesheet":A=ml(f.href);var _=o.querySelector(Vc(A));if(_)return u.state.loading|=4,u.instance=_,Cn(_),_;y=oA(f),(A=er.get(A))&&By(y,A),_=(o.ownerDocument||o).createElement("link"),Cn(_);var N=_;return N._p=new Promise(function(j,ne){N.onload=j,N.onerror=ne}),zn(_,"link",y),u.state.loading|=4,xh(_,f.precedence,o),u.instance=_;case"script":return _=yl(f.src),(A=o.querySelector(Gc(_)))?(u.instance=A,Cn(A),A):(y=f,(A=er.get(_))&&(y=p({},f),Ly(y,A)),o=o.ownerDocument||o,A=o.createElement("script"),Cn(A),zn(A,"link",y),o.head.appendChild(A),u.instance=A);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,xh(y,f.precedence,o));return u.instance}function xh(o,u,f){for(var y=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=y.length?y[y.length-1]:null,_=A,N=0;N<y.length;N++){var j=y[N];if(j.dataset.precedence===u)_=j;else if(_!==A)break}_?_.parentNode.insertBefore(o,_.nextSibling):(u=f.nodeType===9?f.head:f,u.insertBefore(o,u.firstChild))}function By(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function Ly(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Dh=null;function cA(o,u,f){if(Dh===null){var y=new Map,A=Dh=new Map;A.set(f,y)}else A=Dh,y=A.get(f),y||(y=new Map,A.set(f,y));if(y.has(o))return y;for(y.set(o,null),f=f.getElementsByTagName(o),A=0;A<f.length;A++){var _=f[A];if(!(_[lc]||_[At]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(u)||"";N=o+N;var j=y.get(N);j?j.push(_):y.set(N,[_])}}return y}function uA(o,u,f){o=o.ownerDocument||o,o.head.insertBefore(f,u==="title"?o.querySelector("head > title"):null)}function VN(o,u,f){if(f===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function dA(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function GN(o,u,f,y){if(f.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var A=ml(y.href),_=u.querySelector(Vc(A));if(_){u=_._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=wh.bind(o),u.then(o,o)),f.state.loading|=4,f.instance=_,Cn(_);return}_=u.ownerDocument||u,y=oA(y),(A=er.get(A))&&By(y,A),_=_.createElement("link"),Cn(_);var N=_;N._p=new Promise(function(j,ne){N.onload=j,N.onerror=ne}),zn(_,"link",y),f.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,u),(u=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=wh.bind(o),u.addEventListener("load",f),u.addEventListener("error",f))}}var Iy=0;function XN(o,u){return o.stylesheets&&o.count===0&&Th(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var y=setTimeout(function(){if(o.stylesheets&&Th(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+u);0<o.imgBytes&&Iy===0&&(Iy=62500*SN());var A=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Th(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>Iy?50:800)+u);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(A)}}:null}function wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Th(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Ah=null;function Th(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Ah=new Map,u.forEach($N,o),Ah=null,wh.call(o))}function $N(o,u){if(!(u.state.loading&4)){var f=Ah.get(o);if(f)var y=f.get(null);else{f=new Map,Ah.set(o,f);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<A.length;_++){var N=A[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(f.set(N.dataset.precedence,N),y=N)}y&&f.set(null,y)}A=u.instance,N=A.getAttribute("data-precedence"),_=f.get(N)||y,_===y&&f.set(null,A),f.set(N,A),this.count++,y=wh.bind(this),A.addEventListener("load",y),A.addEventListener("error",y),_?_.parentNode.insertBefore(A,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),u.state.loading|=4}}var Xc={$$typeof:T,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function YN(o,u,f,y,A,_,N,j,ne){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.hiddenUpdates=Rt(null),this.identifierPrefix=y,this.onUncaughtError=A,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function hA(o,u,f,y,A,_,N,j,ne,pe,Ae,Se){return o=new YN(o,u,f,N,ne,pe,Ae,Se,j),u=1,_===!0&&(u|=24),_=Ri(3,null,null,u),o.current=_,_.stateNode=o,u=ym(),u.refCount++,o.pooledCache=u,u.refCount++,_.memoizedState={element:y,isDehydrated:f,cache:u},Dm(_),o}function fA(o){return o?(o=$o,o):$o}function pA(o,u,f,y,A,_){A=fA(A),y.context===null?y.context=A:y.pendingContext=A,y=Os(u),y.payload={element:f},_=_===void 0?null:_,_!==null&&(y.callback=_),f=Ns(o,y,u),f!==null&&(bi(f,o,u),_c(f,o,u))}function gA(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<u?f:u}}function Py(o,u){gA(o,u),(o=o.alternate)&&gA(o,u)}function mA(o){if(o.tag===13||o.tag===31){var u=La(o,67108864);u!==null&&bi(u,o,67108864),Py(o,67108864)}}function yA(o){if(o.tag===13||o.tag===31){var u=Li();u=gr(u);var f=La(o,u);f!==null&&bi(f,o,u),Py(o,u)}}var _h=!0;function KN(o,u,f,y){var A=B.T;B.T=null;var _=I.p;try{I.p=2,zy(o,u,f,y)}finally{I.p=_,B.T=A}}function ZN(o,u,f,y){var A=B.T;B.T=null;var _=I.p;try{I.p=8,zy(o,u,f,y)}finally{I.p=_,B.T=A}}function zy(o,u,f,y){if(_h){var A=Wy(y);if(A===null)Ey(o,u,y,Eh,f),vA(o,y);else if(JN(A,o,u,f,y))y.stopPropagation();else if(vA(o,y),u&4&&-1<QN.indexOf(o)){for(;A!==null;){var _=Lo(A);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=q(_.pendingLanes);if(N!==0){var j=_;for(j.pendingLanes|=2,j.entangledLanes|=2;N;){var ne=1<<31-Be(N);j.entanglements[1]|=ne,N&=~ne}Mr(_),(St&6)===0&&(lh=J()+500,Wc(0))}}break;case 31:case 13:j=La(_,2),j!==null&&bi(j,_,2),uh(),Py(_,2)}if(_=Wy(y),_===null&&Ey(o,u,y,Eh,f),_===A)break;A=_}A!==null&&y.stopPropagation()}else Ey(o,u,y,null,f)}}function Wy(o){return o=Hg(o),jy(o)}var Eh=null;function jy(o){if(Eh=null,o=Bo(o),o!==null){var u=s(o);if(u===null)o=null;else{var f=u.tag;if(f===13){if(o=a(u),o!==null)return o;o=null}else if(f===31){if(o=l(u),o!==null)return o;o=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Eh=o,null}function bA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case be:return 2;case Re:return 8;case Ie:case et:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var Hy=!1,Vs=null,Gs=null,Xs=null,$c=new Map,Yc=new Map,$s=[],QN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vA(o,u){switch(o){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":$c.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(u.pointerId)}}function Kc(o,u,f,y,A,_){return o===null||o.nativeEvent!==_?(o={blockedOn:u,domEventName:f,eventSystemFlags:y,nativeEvent:_,targetContainers:[A]},u!==null&&(u=Lo(u),u!==null&&mA(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),o)}function JN(o,u,f,y,A){switch(u){case"focusin":return Vs=Kc(Vs,o,u,f,y,A),!0;case"dragenter":return Gs=Kc(Gs,o,u,f,y,A),!0;case"mouseover":return Xs=Kc(Xs,o,u,f,y,A),!0;case"pointerover":var _=A.pointerId;return $c.set(_,Kc($c.get(_)||null,o,u,f,y,A)),!0;case"gotpointercapture":return _=A.pointerId,Yc.set(_,Kc(Yc.get(_)||null,o,u,f,y,A)),!0}return!1}function xA(o){var u=Bo(o.target);if(u!==null){var f=s(u);if(f!==null){if(u=f.tag,u===13){if(u=a(f),u!==null){o.blockedOn=u,Sr(o.priority,function(){yA(f)});return}}else if(u===31){if(u=l(f),u!==null){o.blockedOn=u,Sr(o.priority,function(){yA(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Sh(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var f=Wy(o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);jg=y,f.target.dispatchEvent(y),jg=null}else return u=Lo(f),u!==null&&mA(u),o.blockedOn=f,!1;u.shift()}return!0}function DA(o,u,f){Sh(o)&&f.delete(u)}function e5(){Hy=!1,Vs!==null&&Sh(Vs)&&(Vs=null),Gs!==null&&Sh(Gs)&&(Gs=null),Xs!==null&&Sh(Xs)&&(Xs=null),$c.forEach(DA),Yc.forEach(DA)}function Ch(o,u){o.blockedOn===u&&(o.blockedOn=null,Hy||(Hy=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,e5)))}var kh=null;function wA(o){kh!==o&&(kh=o,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){kh===o&&(kh=null);for(var u=0;u<o.length;u+=3){var f=o[u],y=o[u+1],A=o[u+2];if(typeof y!="function"){if(jy(y||f)===null)continue;break}var _=Lo(f);_!==null&&(o.splice(u,3),u-=3,Wm(_,{pending:!0,data:A,method:f.method,action:y},y,A))}}))}function bl(o){function u(ne){return Ch(ne,o)}Vs!==null&&Ch(Vs,o),Gs!==null&&Ch(Gs,o),Xs!==null&&Ch(Xs,o),$c.forEach(u),Yc.forEach(u);for(var f=0;f<$s.length;f++){var y=$s[f];y.blockedOn===o&&(y.blockedOn=null)}for(;0<$s.length&&(f=$s[0],f.blockedOn===null);)xA(f),f.blockedOn===null&&$s.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(y=0;y<f.length;y+=3){var A=f[y],_=f[y+1],N=A[Bn]||null;if(typeof _=="function")N||wA(f);else if(N){var j=null;if(_&&_.hasAttribute("formAction")){if(A=_,N=_[Bn]||null)j=N.formAction;else if(jy(A)!==null)continue}else j=N.action;typeof j=="function"?f[y+1]=j:(f.splice(y,3),y-=3),wA(f)}}}function AA(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return A=N})},focusReset:"manual",scroll:"manual"})}function u(){A!==null&&(A(),A=null),y||setTimeout(f,20)}function f(){if(!y&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,A=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(f,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),A!==null&&(A(),A=null)}}}function qy(o){this._internalRoot=o}Uh.prototype.render=qy.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));var f=u.current,y=Li();pA(f,y,o,u,null,null)},Uh.prototype.unmount=qy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;pA(o.current,2,null,o,null,null),uh(),u[Ui]=null}};function Uh(o){this._internalRoot=o}Uh.prototype.unstable_scheduleHydration=function(o){if(o){var u=ki();o={blockedOn:null,target:o,priority:u};for(var f=0;f<$s.length&&u!==0&&u<$s[f].priority;f++);$s.splice(f,0,o),f===0&&xA(o)}};var TA=e.version;if(TA!=="19.2.0")throw Error(n(527,TA,"19.2.0"));I.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=d(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var t5={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{ue=Mh.inject(t5),_e=Mh}catch{}}return Qc.createRoot=function(o,u){if(!r(o))throw Error(n(299));var f=!1,y="",A=MD,_=RD,N=OD;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(A=u.onUncaughtError),u.onCaughtError!==void 0&&(_=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),u=hA(o,1,!1,null,null,f,y,null,A,_,N,AA),o[Ui]=u.current,_y(o),new qy(u)},Qc.hydrateRoot=function(o,u,f){if(!r(o))throw Error(n(299));var y=!1,A="",_=MD,N=RD,j=OD,ne=null;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(j=f.onRecoverableError),f.formState!==void 0&&(ne=f.formState)),u=hA(o,1,!0,u,f??null,y,A,ne,_,N,j,AA),u.context=fA(null),f=u.current,y=Li(),y=gr(y),A=Os(y),A.callback=null,Ns(f,A,y),f=y,u.current.lanes=f,pn(u,f),Mr(u),o[Ui]=u.current,_y(o),new Uh(u)},Qc.version="19.2.0",Qc}var BA;function d5(){if(BA)return $y.exports;BA=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$y.exports=u5(),$y.exports}var h5=d5();const ri=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),X0=[.001,0,0,.001,0,0],Qy=1.35,Ii={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},aa={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Fu="pdfjs_internal_editor_",at={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},f5={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},$0={TRIANGLES:1,LATTICE:2},Wn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},pf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},xn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Sl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},qp={ERRORS:0,WARNINGS:1,INFOS:5},Bu={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Jc={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},p5={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Vp=qp.WARNINGS;function g5(i){Number.isInteger(i)&&(Vp=i)}function m5(){return Vp}function Gp(i){Vp>=qp.INFOS&&console.info(`Info: ${i}`)}function st(i){Vp>=qp.WARNINGS&&console.warn(`Warning: ${i}`)}function jt(i){throw new Error(i)}function wt(i,e){i||jt(e)}function y5(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function CC(i,e=null,t=null){if(!i)return null;if(t&&typeof i=="string"&&(t.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),t.tryConvertEncoding))try{i=w5(i)}catch{}const n=e?URL.parse(i,e):URL.parse(i);return y5(n)?n:null}function kC(i,e,t=!1){const n=URL.parse(i);return n?(n.hash=e,n.href):t&&CC(i,"http://example.com")?i.split("#",1)[0]+`${e?`#${e}`:""}`:""}function lt(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const So=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class LA extends So{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Jy extends So{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Y0 extends So{constructor(e){super(e,"InvalidPDFException")}}class Vf extends So{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class b5 extends So{constructor(e){super(e,"FormatError")}}class xa extends So{constructor(e){super(e,"AbortException")}}function UC(i){(typeof i!="object"||i?.length===void 0)&&jt("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=i.subarray(r,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function sd(i){typeof i!="string"&&jt("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function v5(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function x5(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function D5(){try{return new Function(""),!0}catch{return!1}}class Xn{static get isLittleEndian(){return lt(this,"isLittleEndian",x5())}static get isEvalSupported(){return lt(this,"isEvalSupported",D5())}static get isOffscreenCanvasSupported(){return lt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return lt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return lt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return lt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return lt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return lt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const eb=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class je{static makeHexColor(e,t,n){return`#${eb[e]}${eb[t]}${eb[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const r=e[n],s=e[n+1];e[n]=r*t[0]+s*t[2]+t[4],e[n+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const r=t[0],s=t[1],a=t[2],l=t[3],c=t[4],d=t[5];for(let h=0;h<6;h+=2){const p=e[n+h],g=e[n+h+1];e[n+h]=p*r+g*a+c,e[n+h+1]=p*s+g*l+d}}static applyInverseTransform(e,t){const n=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const r=t[0],s=t[1],a=t[2],l=t[3],c=t[4],d=t[5],h=e[0],p=e[1],g=e[2],m=e[3];let v=r*h+c,b=v,x=r*g+c,D=x,w=l*p+d,T=w,C=l*m+d,E=C;if(s!==0||a!==0){const S=s*h,k=s*g,O=a*p,R=a*m;v+=O,D+=O,x+=R,b+=R,w+=S,E+=S,C+=k,T+=k}n[0]=Math.min(n[0],v,x,b,D),n[1]=Math.min(n[1],w,C,T,E),n[2]=Math.max(n[2],v,x,b,D),n[3]=Math.max(n[3],w,C,T,E)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],s=e[2],a=e[3],l=n**2+r**2,c=n*s+r*a,d=s**2+a**2,h=(l+d)/2,p=Math.sqrt(h**2-(l*d-c**2));t[0]=Math.sqrt(h+p||1),t[1]=Math.sqrt(h-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,r,a]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,r)}static#e(e,t,n,r,s,a,l,c,d,h){if(d<=0||d>=1)return;const p=1-d,g=d*d,m=g*d,v=p*(p*(p*e+3*d*t)+3*g*n)+m*r,b=p*(p*(p*s+3*d*a)+3*g*l)+m*c;h[0]=Math.min(h[0],v),h[1]=Math.min(h[1],b),h[2]=Math.max(h[2],v),h[3]=Math.max(h[3],b)}static#t(e,t,n,r,s,a,l,c,d,h,p,g){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&this.#e(e,t,n,r,s,a,l,c,-p/h,g);return}const m=h**2-4*p*d;if(m<0)return;const v=Math.sqrt(m),b=2*d;this.#e(e,t,n,r,s,a,l,c,(-h+v)/b,g),this.#e(e,t,n,r,s,a,l,c,(-h-v)/b,g)}static bezierBoundingBox(e,t,n,r,s,a,l,c,d){d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],t,c),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],t,c),this.#t(e,n,s,l,t,r,a,c,3*(-e+3*(n-s)+l),6*(e-2*n+s),3*(n-e),d),this.#t(e,n,s,l,t,r,a,c,3*(-t+3*(r-a)+c),6*(t-2*r+a),3*(r-t),d)}}function w5(i){return decodeURIComponent(escape(i))}let tb=null,IA=null;function A5(i){return tb||(tb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,IA=new Map([["","t"]])),i.replaceAll(tb,(e,t,n)=>t?t.normalize("NFKC"):IA.get(n))}function MC(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),UC(i)}const Nl="pdfjs_internal_id_";function T5(i,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,r,...s]=t;if(!i(n)&&!Number.isInteger(n)||!e(r))return!1;const a=s.length;let l=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;l=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function si(i,e,t){return Math.min(Math.max(i,e),t)}function RC(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(UC(i))}function _5(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):sd(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...e){return new Promise(t=>{t(i(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((e,t)=>e+t,0)});class Lu{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(s){if(!s)return;let a=null;const l=s.name;if(l==="#text")a=s.value;else if(Lu.shouldBuildText(l))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const c of s.children)r(c)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class OC{static setupStorage(e,t,n,r,s){const a=r.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{r.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const l of n.children)l.attributes.value===a.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:s}){const{attributes:a}=t,l=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[c,d]of Object.entries(a))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}l&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:n});const l=s!=="richText",c=e.div;if(c.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}l&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);a.append(p),l&&Lu.shouldBuildText(r.name)&&d.push(p)}return{textDivs:d}}const h=[[r,-1,a]];for(;h.length>0;){const[p,g,m]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const v=p.children[++h.at(-1)[1]];if(v===null)continue;const{name:b}=v;if(b==="#text"){const D=document.createTextNode(v.value);d.push(D),m.append(D);continue}const x=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,b):document.createElement(b);if(m.append(x),v.attributes&&this.setAttributes({html:x,element:v,storage:t,intent:s,linkService:n}),v.children?.length>0)h.push([v,-1,x]);else if(v.value){const D=document.createTextNode(v.value);l&&Lu.shouldBuildText(b)&&d.push(D),x.append(D)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const ms="http://www.w3.org/2000/svg";class Xl{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function ad(i,e="text"){if(yu(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class od{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=a,n*=t;const c=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let h,p,g,m;switch(r%=360,r<0&&(r+=360),r){case 180:h=-1,p=0,g=0,m=1;break;case 90:h=0,p=1,g=1,m=0;break;case 270:h=0,p=-1,g=-1,m=0;break;case 0:h=1,p=0,g=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(g=-g,m=-m);let v,b,x,D;h===0?(v=Math.abs(d-e[1])*n+s,b=Math.abs(c-e[0])*n+a,x=(e[3]-e[1])*n,D=(e[2]-e[0])*n):(v=Math.abs(c-e[0])*n+s,b=Math.abs(d-e[1])*n+a,x=(e[2]-e[0])*n,D=(e[3]-e[1])*n),this.transform=[h*n,p*n,g*n,m*n,v-h*n*c-g*n*d,b-p*n*c-m*n*d],this.width=x,this.height=D}get rawDims(){const e=this.viewBox;return lt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new od({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return je.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];je.applyTransform(t,this.transform);const n=[e[2],e[3]];return je.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return je.applyInverseTransform(n,this.transform),n}}class j1 extends So{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Xp(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function H1(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function E5(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function S5(i,e="document.pdf"){if(typeof i!="string")return e;if(Xp(i))return st('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return e;const r=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return r(a);if(n.searchParams.size>0){const l=Array.from(n.searchParams.values()).reverse();for(const d of l)if(s.test(d))return r(d);const c=Array.from(n.searchParams.keys()).reverse();for(const d of c)if(s.test(d))return r(d)}if(n.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(c)return r(c[0])}return e}class PA{started=Object.create(null);times=[];time(e){e in this.started&&st(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||st(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-r}ms
`);return e.join("")}}function yu(i,e){const t=e?URL.parse(i,e):URL.parse(i);return t?.protocol==="http:"||t?.protocol==="https:"}function fr(i){i.preventDefault()}function an(i){i.preventDefault(),i.stopPropagation()}function C5(i){console.log("Deprecated API usage: "+i)}class K0{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const d=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(a+=h,l+=p):d==="+"&&(a-=h,l-=p),new Date(Date.UTC(n,r,s,a,l,c))}}function k5(i,{scale:e=1,rotation:t=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new od({viewBox:s,userUnit:1,scale:e,rotation:t})}function ld(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(st(`Not a valid color format: "${i}"`),[0,0,0])}function U5(i){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,ld(n))}e.remove()}function Zt(i){const{a:e,b:t,c:n,d:r,e:s,f:a}=i.getTransform();return[e,t,n,r,s,a]}function Nr(i){const{a:e,b:t,c:n,d:r,e:s,f:a}=i.getTransform().invertSelf();return[e,t,n,r,s,a]}function bo(i,e,t=!1,n=!0){if(e instanceof od){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=i,l=Xn.isCSSRoundSupported,c=`var(--total-scale-factor) * ${r}px`,d=`var(--total-scale-factor) * ${s}px`,h=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,p=l?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!t||e.rotation%180===0?(a.width=h,a.height=p):(a.width=p,a.height=h)}n&&i.setAttribute("data-main-rotation",e.rotation)}class jr{constructor(){const{pixelRatio:e}=jr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r,s=-1){let a=1/0,l=1/0,c=1/0;n=jr.capPixels(n,s),n>0&&(a=Math.sqrt(n/(e*t))),r!==-1&&(l=r/e,c=r/t);const d=Math.min(a,l,c);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const Z0=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class M5{static get isDarkMode(){return lt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class R5{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),lt(this,"commentForegroundColor",ld(n))}}function O5(i,e,t,n){n=Math.min(Math.max(n??1,0),1);const r=255*(1-n);return i=Math.round(i*n+r),e=Math.round(e*n+r),t=Math.round(t*n+r),[i,e,t]}function zA(i,e){const t=i[0]/255,n=i[1]/255,r=i[2]/255,s=Math.max(t,n,r),a=Math.min(t,n,r),l=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const c=s-a;switch(e[1]=l<.5?c/(s+a):c/(2-s-a),s){case t:e[0]=((n-r)/c+(n<r?6:0))*60;break;case n:e[0]=((r-t)/c+2)*60;break;case r:e[0]=((t-n)/c+4)*60;break}}e[2]=l}function Q0(i,e){const t=i[0],n=i[1],r=i[2],s=(1-Math.abs(2*r-1))*n,a=s*(1-Math.abs(t/60%2-1)),l=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+l,e[1]=a+l,e[2]=l;break;case 1:e[0]=a+l,e[1]=s+l,e[2]=l;break;case 2:e[0]=l,e[1]=s+l,e[2]=a+l;break;case 3:e[0]=l,e[1]=a+l,e[2]=s+l;break;case 4:e[0]=a+l,e[1]=l,e[2]=s+l;break;case 5:case 6:e[0]=s+l,e[1]=l,e[2]=a+l;break}}function WA(i){return i<=.03928?i/12.92:((i+.055)/1.055)**2.4}function jA(i,e,t){Q0(i,t),t.map(WA);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];Q0(e,t),t.map(WA);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const HA=new Map;function N5(i,e){const t=i[0]+i[1]*256+i[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=HA.get(t);if(n)return n;const r=new Float32Array(9),s=r.subarray(0,3),a=r.subarray(3,6);zA(i,a);const l=r.subarray(6,9);zA(e,l);const c=l[2]<.5,d=c?12:4.5;if(a[2]=c?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),jA(a,l,s)<d){let h,p;c?(h=a[2],p=1):(h=0,p=a[2]);const g=.005;for(;p-h>g;){const m=a[2]=(h+p)/2;c===jA(a,l,s)<d?h=m:p=m}a[2]=c?p:h}return Q0(a,s),n=je.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),HA.set(t,n),n}function NC({html:i,dir:e,className:t},n){const r=document.createDocumentFragment();if(typeof i=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=i.split(/(?:\r\n?|\n)/);for(let l=0,c=a.length;l<c;++l){const d=a[l];s.append(document.createTextNode(d)),l<c-1&&s.append(document.createElement("br"))}r.append(s)}else OC.render({xfaHtml:i,div:r,intent:"richText"});r.firstChild.classList.add("richText",t),n.append(r)}function FC(i){const e=new Path2D;if(!i)return e;for(let t=0,n=i.length;t<n;)switch(i[t++]){case Jc.moveTo:e.moveTo(i[t++],i[t++]);break;case Jc.lineTo:e.lineTo(i[t++],i[t++]);break;case Jc.curveTo:e.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);break;case Jc.quadraticCurveTo:e.quadraticCurveTo(i[t++],i[t++],i[t++],i[t++]);break;case Jc.closePath:e.closePath();break;default:st(`Unrecognized drawing path operator: ${i[t-1]}`);break}return e}let F5=class gf{#e=null;#t=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(e){this.#i=e,gf.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#i._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",fr,{signal:t}),e.addEventListener("pointerdown",gf.#l,{signal:t}));const n=this.#n=document.createElement("div");n.className="buttons",e.append(n);const r=this.#i.toolbarPosition;if(r){const{style:s}=e,a=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#i._focusEventsAllowed=!1,an(e)}#d(e){this.#i._focusEventsAllowed=!0,an(e)}#f(e){const t=this.#i._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",fr,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",gf.#c[e]),this.#f(n)&&n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#n.append(n)}get#m(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#n.append(t,this.#m),this.#a=e}addComment(e,t=null){if(this.#s)return;const n=e.renderForToolbar();if(!n)return;this.#f(n);const r=this.#r=this.#m;t?(this.#n.insertBefore(n,t),this.#n.insertBefore(r,t)):this.#n.append(n,r),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#n.append(t,this.#m)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#i);this.#f(t),this.#n.append(t,this.#m)}removeButton(e){switch(e){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null;break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,n){if(!t&&e==="comment")return;const r=this.#n.querySelector(n);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}};class B5{#e=null;#t=null;#i;constructor(e){this.#i=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#i._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",fr,{signal:t});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),e}#a(e,t){let n=0,r=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const l=s.x+(t?s.width:0);if(a>n){r=l,n=a;continue}t?l>r&&(r=l):l<r&&(r=l)}return[t?1-r:r,n]}show(e,t,n){const[r,s]=this.#a(t,n),{style:a}=this.#t||=this.#n();e.append(this.#t),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,t,n,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const l=this.#i._signal;l instanceof AbortSignal&&!l.aborted&&(s.addEventListener("contextmenu",fr,{signal:l}),s.addEventListener("click",r,{signal:l})),this.#e.append(s)}}function BC(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}class Ut{static#e=NaN;static#t=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(e){(Ut.#t||=new Set).add(e)}static setPointer(e,t){Ut.#e||=t,Ut.#n??=e}static setTimeStamp(e){Ut.#i=e}static isSamePointerId(e){return Ut.#e===e}static isSamePointerIdOrRemove(e){return Ut.#e===e?!0:(Ut.#t?.delete(e),!1)}static isSamePointerType(e){return Ut.#n===e}static isInitializedAndDifferentPointerType(e){return Ut.#n!==null&&!Ut.isSamePointerType(e)}static isSameTimeStamp(e){return Ut.#i===e}static isUsingMultiplePointers(){return Ut.#t?.size>=1}static clearPointerType(){Ut.#n=null}static clearPointerIds(){Ut.#e=NaN,Ut.#t=null}static clearTimeStamp(){Ut.#i=NaN}}class L5{#e=0;get id(){return`${Fu}${this.#e++}`}}class q1{#e=MC();#t=0;#i=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return lt(this,"_isSVGFittingCanvas",s)}async#n(e,t){this.#i||=new Map;let n=this.#i.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof t=="string"?(n.url=t,r=await ad(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=q1._isSVGFittingCanvas,a=new FileReader,l=new Image,c=new Promise((d,h)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,d()},a.onload=async()=>{const p=n.svgUrl=a.result;l.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=a.onerror=h});a.readAsDataURL(r),await c}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){st(r),n=null}return this.#i.set(e,n),n&&this.#i.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:r,type:s}=e;return this.#n(`${t}_${n}_${r}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const n=await t;return this.#n(e,n)}async getFromId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#i||=new Map;let n=this.#i.get(e);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#i.set(e,n),this.#i.set(n.id,n),n}getSvgUrl(e){const t=this.#i.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=r.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}let I5=class{#e=[];#t=!1;#i;#n=-1;constructor(e=128){this.#i=e}add({cmd:e,undo:t,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:l=!1}){if(r&&e(),this.#t)return;const c={cmd:e,undo:t,post:n,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(c);return}if(a&&this.#e[this.#n].type===s){l&&(c.undo=this.#e[this.#n].undo),this.#e[this.#n]=c;return}const d=this.#n+1;d===this.#i?this.#e.splice(0,1):(this.#n=d,d<this.#e.length&&this.#e.splice(d)),this.#e.push(c)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}};class cd{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Xn.platform;for(const[n,r,s={}]of e)for(const a of n){const l=a.startsWith("mac+");t&&l?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!l&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:l=null}}=n;l&&!l(e,t)||(r.bind(e,...a,t)(),s||an(t))}}class V1{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return U5(e),lt(this,"_colors",e)}convert(e){const t=ld(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((s,a)=>s===t[a]))return V1._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?je.makeHexColor(...t):e}}class Da{#e=new AbortController;#t=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new I5;#l=null;#h=null;#d=null;#f=0;#m=new Set;#g=null;#u=null;#p=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#_=null;#A=null;#D=null;#S=null;#x=!1;#T=null;#U=new L5;#C=!1;#k=!1;#L=!1;#R=null;#N=null;#I=null;#F=null;#q=null;#E=at.NONE;#w=new Set;#O=null;#P=null;#W=null;#X=null;#G=null;#$={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#j=[0,0];#B=null;#V=null;#Q=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Da.prototype,t=a=>a.#V.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return lt(this,"_keyboardManager",new cd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#V.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#V.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,r,s,a,l,c,d,h,p,g,m,v,b,x){const D=this._signal=this.#e.signal;this.#V=e,this.#Q=t,this.#J=n,this.#s=r,this.#l=s,this.#P=a,this.#G=c,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:D}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:D}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:D}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:D}),l._on("setpreference",this.onSetPreference.bind(this),{signal:D}),l._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:D}),window.addEventListener("pointerdown",()=>{this.#k=!0},{capture:!0,signal:D}),window.addEventListener("pointerup",()=>{this.#k=!1},{capture:!0,signal:D}),this.#ae(),this.#he(),this.#te(),this.#r=c.annotationStorage,this.#_=c.filterFactory,this.#W=d,this.#S=h||null,this.#y=p,this.#v=g,this.#b=m,this.#q=v||null,this.viewParameters={realScale:Xl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=x!==!1,s?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#F?.clear(),this.#t=null,this.#w.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#P?.destroy(),this.#T?.hide(),this.#T=null,this.#I?.destroy(),this.#I=null,this.#i=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return lt(this,"hcmFilter",this.#W?this.#_.addHCMFilter(this.#W.foreground,this.#W.background):"none")}get direction(){return lt(this,"direction",getComputedStyle(this.#V).direction)}get _highlightColors(){return lt(this,"_highlightColors",this.#S?new Map(this.#S.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return lt(this,"highlightColors",null);const t=new Map,n=!!this.#W;for(const[r,s]of e){const a=r.endsWith("_HCM");if(n&&a){t.set(r.replace("_HCM",""),s);continue}!n&&!a&&t.set(r,s)}return lt(this,"highlightColors",t)}get highlightColorNames(){return lt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#I=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,n,r){this.#l?.showDialog(this,e,t,n,r)}selectComment(e,t){this.#a.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,n=void 0){this.#l?.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await n}getSignature(e){this.#P?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#P}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#b=t;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#V.focus()}findParent(e,t){for(const n of this.#a.values()){const{x:r,y:s,width:a,height:l}=n.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+l)return n}return null}disableUserSelect(e=!1){this.#Q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Xl.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#a.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:l}=n,c=n.toString(),h=this.#Z(n).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;n.empty();const g=this.#ee(h),m=this.#E===at.NONE,v=()=>{const b=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:l,text:c});m&&this.showAllEditors("highlight",!0,!0),t&&b?.editComment()};if(m){this.switchToMode(at.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}#re(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#Z(e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#T||=new B5(this),this.#T.show(n,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#r)return null;const t=`${Fu}${e}`,n=this.#r.getRawValue(t);return n&&this.#r.remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#O&&(this.#T?.hide(),this.#O=null,this.#M({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#O)return;const r=this.#Z(e).closest(".textLayer");if(!r){this.#O&&(this.#T?.hide(),this.#O=null,this.#M({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#O=t,this.#M({hasSelectedText:!0}),!(this.#E!==at.HIGHLIGHT&&this.#E!==at.NONE)&&(this.#E===at.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#E===at.HIGHLIGHT?this.#ee(r):null;if(s?.toggleDrawing(),this.#k){const a=new AbortController,l=this.combinedSignal(a),c=d=>{d.type==="pointerup"&&d.button!==0||(a.abort(),s?.toggleDrawing(!0),d.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}else s?.toggleDrawing(!0),this.#Y("main_toolbar")}}#Y(e=""){this.#E===at.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#re()}#ae(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#oe(){if(this.#D)return;this.#D=new AbortController;const e=this.combinedSignal(this.#D);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#D?.abort(),this.#D=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#w)if(t.div.contains(e)){this.#N=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[e,t]=this.#N;this.#N=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#R)return;this.#R=new AbortController;const e=this.combinedSignal(this.#R);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#R?.abort(),this.#R=null}#ue(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#w){const r=n.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of this.#u)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){st(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const c of n){const d=await r.deserialize(c);if(!d)return;s.push(d)}const a=()=>{for(const c of s)this.#ne(c);this.#ie(s)},l=()=>{for(const c of s)c.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(s){st(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==at.NONE&&!this.isEditorHandlingKeyboard&&Da._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#Y("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#M(e){Object.entries(e).some(([n,r])=>this.#$[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#$,e)}),this.#E===at.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#H([[Dt.HIGHLIGHT_FREE,!0]]))}#H(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#M({isEditing:this.#E!==at.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#H(t.defaultPropertiesToUpdate)}}getId(){return this.#U.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#a.set(e.pageIndex,e),this.#C?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,r=!1,s=!1){if(this.#E!==e&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#E===at.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#E=e,e===at.NONE){this.setEditingState(!1),this.#pe();for(const a of this.#n.values())a.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const a of this.#n.values())a.addStandaloneCommentButton();e===at.SIGNATURE&&await this.#P?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const a of this.#a.values())a.updateMode(e);if(e===at.POPUP){this.#i||=await this.#G.getAnnotationsByType(new Set(this.#u.map(c=>c._editorType)));const a=new Set,l=[];for(const c of this.#n.values()){const{annotationElementId:d,hasComment:h,deleted:p}=c;d&&a.add(d),h&&!p&&l.push(c.getData())}for(const c of this.#i){const{id:d,popupRef:h,contentsObj:p}=c;h&&p?.str&&!a.has(d)&&!this.#m.has(d)&&l.push(c)}this.#l?.showSidebar(l)}if(!t){n&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const a of this.#n.values())a.uid===t?(this.setSelected(a),s?a.editComment():r?a.enterInEditMode():a.focus()):a.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case Dt.CREATE:this.currentLayer.addNewEditor(t);return;case Dt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of this.#w)n.updateParams(e,t);else for(const n of this.#u)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const s of this.#n.values())s.editorType===e&&s.show(t);(this.#X?.get(Dt.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#H([[Dt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#L!==e){this.#L=e;for(const t of this.#a.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#C){this.#C=!0;const e=[];for(const t of this.#a.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#C){this.#C=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#F?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#m.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#m.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#m.has(e)}removeDeletedAnnotationElement(e){this.#m.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const t=this.#a.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#H(e.propertiesToUpdate))}get#ge(){let e=null;for(e of this.#w);return e}updateUI(e){this.#ge===e&&this.#H(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#H(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#w.has(e)){this.#w.delete(e),e.unselect(),this.#M({hasSelectedEditor:this.hasSelection});return}this.#w.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const t of this.#w)t!==e&&t.unselect();this.#w.clear(),this.#w.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(e){return this.#w.has(e)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(e){e.unselect(),this.#w.delete(e),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#M({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#c.add(e),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(e){this.#c.cleanType(e)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#w],n=()=>{this._editorUndoBar?.show(r,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},r=()=>{for(const s of t)this.#ne(s)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ie(e){for(const t of this.#w)t.unselect();this.#w.clear();for(const t of e)t.isEmpty()||(this.#w.add(t),t.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#w)e.commit();this.#ie(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==at.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#w)e.unselect();this.#w.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#j[0]+=e,this.#j[1]+=t;const[r,s]=this.#j,a=[...this.#w],l=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#j[0]=this.#j[1]=0,this.addCommands({cmd:()=>{for(const c of a)this.#n.has(c.id)&&(c.translateInPage(r,s),c.translationDone())},undo:()=>{for(const c of a)this.#n.has(c.id)&&(c.translateInPage(-r,-s),c.translationDone())},mustExec:!1})},l);for(const c of a)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const e of this.#w)this.#g.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const e=this.#g;this.#g=null;let t=!1;for(const[{x:r,y:s,pageIndex:a},l]of e)l.newX=r,l.newY=s,l.newPageIndex=a,t||=r!==l.savedX||s!==l.savedY||a!==l.savedPageIndex;if(!t)return!1;const n=(r,s,a,l)=>{if(this.#n.has(r.id)){const c=this.#a.get(l);c?r._setParentAndPosition(c,s,a):(r.pageIndex=l,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:l}]of e)n(r,s,a,l)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:l}]of e)n(r,s,a,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#g)for(const n of this.#g.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}isEditingMode(){return this.#E!==at.NONE}get imageManager(){return lt(this,"imageManager",new q1)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,h=t.rangeCount;d<h;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:a}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,h,p,g)=>({x:(h-r)/a,y:1-(d+p-n)/s,width:g/a,height:p/s});break;case"180":l=(d,h,p,g)=>({x:1-(d+p-n)/s,y:1-(h+g-r)/a,width:p/s,height:g/a});break;case"270":l=(d,h,p,g)=>({x:1-(h+g-r)/a,y:(d-n)/s,width:g/a,height:p/s});break;default:l=(d,h,p,g)=>({x:(d-n)/s,y:(h-r)/a,width:p/s,height:g/a});break}const c=[];for(let d=0,h=t.rangeCount;d<h;d++){const p=t.getRangeAt(d);if(!p.collapsed)for(const{x:g,y:m,width:v,height:b}of p.getClientRects())v===0||b===0||c.push(l(g,m,v,b))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#r.getRawValue(t);n&&(this.#E===at.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const r=this.#F?.get(e);r&&(r.setCanvas(t,n),this.#F.delete(e))}addMissingCanvas(e,t){(this.#F||=new Map).set(e,t)}}class Wr{#e=null;#t=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,Wr.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Wr._l10n??=e}async render(){const e=this.#i=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",Wr.#f.missing),t.setAttribute("data-l10n-id",Wr.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;e.addEventListener("contextmenu",fr,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,r(s))},{signal:n}),await this.#g(),e}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await Wr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#g())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:s=!1}){n&&(this.#l=n,this.#h=r),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#g())}toggle(e=!1){this.#i&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#g(){const e=this.#i;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Wr.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",Wr.#f[`${this.#m}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const r=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Rh{#e=null;#t=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(n.backgroundColor=r)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:n}=this.#e.getBoundingClientRect(),{x:r,y:s,width:a,height:l}=this.#n.parent.boundingClientRect;return[(e-r)/a,(t+n-s)/l]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#h(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",fr,{signal:n}),t&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,an(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,an(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,r(s))},{signal:n}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),e}edit(e){const t=this.commentPopupPositionInLayer;let n,r;if(t)[n,r]=t;else{[n,r]=this.#n.commentButtonPosition;const{width:h,height:p,x:g,y:m}=this.#n;n=g+n*h,r=m+r*p}const s=this.#n.parent.boundingClientRect,{x:a,y:l,width:c,height:d}=s;this.#n._uiManager.editComment(this.#n,a+n*c,l+r*d,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#r&&(this.#s=null),e===null){this.#r="",this.#c=!0;return}this.#r=e,this.#o=new Date,this.#c=!1}setInitialText(e,t=null){this.#a=e,this.data=e,this.#o=null,this.#s=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class $p{#e;#t=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:l}){this.#e=e,this.#i=n,this.#n=t,this.#a=r,this.#s=s,this.#r=a,this.#h=new AbortController,this.#c=AbortSignal.any([l,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/jr.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,s=AbortSignal.any([this.#c,r.signal]),a=this.#e,l={capture:!0,signal:s,passive:!1},c=d=>{d.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(an(d),c(d))},l),a.addEventListener("pointerup",c,l),a.addEventListener("pointercancel",c,l);return}if(!this.#d){this.#d=new AbortController;const r=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,a={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#m.bind(this),a);const l=this.#g.bind(this);s.addEventListener("touchend",l,a),s.addEventListener("touchcancel",l,a),a.capture=!0,s.addEventListener("pointerdown",an,a),s.addEventListener("pointermove",an,a),s.addEventListener("pointercancel",an,a),s.addEventListener("pointerup",an,a),this.#a?.()}if(an(e),e.touches.length!==2||this.#i?.()){this.#l=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(e){if(!this.#l||e.touches.length!==2)return;an(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:s}=t,{screenX:a,screenY:l}=n,c=this.#l,{touch0X:d,touch0Y:h,touch1X:p,touch1Y:g}=c,m=p-d,v=g-h,b=a-r,x=l-s,D=Math.hypot(b,x)||1,w=Math.hypot(m,v)||1;if(!this.#t&&Math.abs(w-D)<=$p.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=s,c.touch1X=a,c.touch1Y=l,!this.#t){this.#t=!0;return}const T=[(r+a)/2,(s+l)/2];this.#s?.(T,w,D)}#g(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#r?.()),this.#l&&(an(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class $e{#e=null;#t=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#m="";#g=!1;#u=null;#p=!1;#y=!1;#v=!1;#b=null;#_=0;#A=0;#D=null;#S=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#T=$e._zIndex++;static _borderLineWidth=-1;static _colorManager=new V1;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=$e.prototype._resizeWithKeyboard,t=Da.TRANSLATE_SMALL,n=Da.TRANSLATE_BIG;return lt(this,"_resizerKeyboardManager",new cd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],$e.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,a];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return lt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new P5({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if($e._l10n??=e,$e._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),$e._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);$e._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){jt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(e){this.#x=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#B(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[s,a]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/s,this.y=(t+r)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}#U([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#U(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#U(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:l}=this;const[c,d]=this.getBaseTranslation();a+=c,l+=d;const{style:h}=n;h.left=`${(100*a).toFixed(2)}%`,h.top=`${(100*l).toFixed(2)}%`,this._onTranslating(a,l),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=$e,r=n/e,s=n/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:s,y:a,width:l,height:c}=this;if(l*=n,c*=r,s*=n,a*=r,this._mustFixPosition)switch(e){case 0:s=si(s,0,n-l),a=si(a,0,r-c);break;case 90:s=si(s,0,n-c),a=si(a,l,r);break;case 180:s=si(s,l,n),a=si(a,c,r);break;case 270:s=si(s,c,n),a=si(a,0,r-l);break}this.x=s/=n,this.y=a/=r;const[d,h]=this.getBaseTranslation();s+=d,a+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#C(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return $e.#C(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return $e.#C(e,t,360-this.parentRotation)}#k(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#L(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#R.bind(this,n),{signal:t}),r.addEventListener("contextmenu",fr,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#c)}#R(e,t){t.preventDefault();const{isMac:n}=Xn.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#F.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",an,{passive:!1,signal:a}),window.addEventListener("contextmenu",fr,{signal:a}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const d=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=l,this.div.style.cursor=c,this.#I()};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}#N(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#I(){if(!this.#h)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=this.#h;this.#h=null;const s=this.x,a=this.y,l=this.width,c=this.height;s===e&&a===t&&l===n&&c===r||this.addCommands({cmd:this.#N.bind(this,s,a,l,c),undo:this.#N.bind(this,e,t,n,r),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#F(e,t){const[n,r]=this.parentDimensions,s=this.x,a=this.y,l=this.width,c=this.height,d=$e.MIN_SIZE/n,h=$e.MIN_SIZE/r,p=this.#k(this.rotation),g=(B,I)=>[p[0]*B+p[2]*I,p[1]*B+p[3]*I],m=this.#k(360-this.rotation),v=(B,I)=>[m[0]*B+m[2]*I,m[1]*B+m[3]*I];let b,x,D=!1,w=!1;switch(e){case"topLeft":D=!0,b=(B,I)=>[0,0],x=(B,I)=>[B,I];break;case"topMiddle":b=(B,I)=>[B/2,0],x=(B,I)=>[B/2,I];break;case"topRight":D=!0,b=(B,I)=>[B,0],x=(B,I)=>[0,I];break;case"middleRight":w=!0,b=(B,I)=>[B,I/2],x=(B,I)=>[0,I/2];break;case"bottomRight":D=!0,b=(B,I)=>[B,I],x=(B,I)=>[0,0];break;case"bottomMiddle":b=(B,I)=>[B/2,I],x=(B,I)=>[B/2,0];break;case"bottomLeft":D=!0,b=(B,I)=>[0,I],x=(B,I)=>[B,0];break;case"middleLeft":w=!0,b=(B,I)=>[0,I/2],x=(B,I)=>[B,I/2];break}const T=b(l,c),C=x(l,c);let E=g(...C);const S=$e._round(s+E[0]),k=$e._round(a+E[1]);let O=1,R=1,z,Z;if(t.fromKeyboard)({deltaX:z,deltaY:Z}=t);else{const{screenX:B,screenY:I}=t,[V,K]=this.#l;[z,Z]=this.screenToPageTranslation(B-V,I-K),this.#l[0]=B,this.#l[1]=I}if([z,Z]=v(z/n,Z/r),D){const B=Math.hypot(l,c);O=R=Math.max(Math.min(Math.hypot(C[0]-T[0]-z,C[1]-T[1]-Z)/B,1/l,1/c),d/l,h/c)}else w?O=si(Math.abs(C[0]-T[0]-z),d,1)/l:R=si(Math.abs(C[1]-T[1]-Z),h,1)/c;const F=$e._round(l*O),W=$e._round(c*R);E=g(...x(F,W));const M=S-E[0],Y=k-E[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=F,this.height=W,this.x=M,this.y=Y,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new F5(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Wr.initialize($e._l10n),this.#i=new Wr(this),this.#e&&(this.#i.data=this.#e,this.#e=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(e){this.#i&&(this.#i.data=e)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(e){await this.#i?.setGuessedText(e)}serializeAltText(e){return this.#i?.serialize(e)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Rh(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:r}}=this.#n;return{text:t,richText:e,date:n,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Rh(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(this.#n||=new Rh(this),this.#n.setInitialText(e,n),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Rh(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,l=a+s+1,c=r-100,d=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,d,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#W();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),BC(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#S||=new $p({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#E.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#q(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#E(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const a=this.#k(this.rotation),l=(S,k)=>[a[0]*S+a[2]*k,a[1]*S+a[3]*k],[c,d]=this.parentDimensions,h=this.x,p=this.y,g=this.width,m=this.height,v=$e.MIN_SIZE/c,b=$e.MIN_SIZE/d;s=Math.max(Math.min(s,1/g,1/m),v/g,b/m);const x=$e._round(g*s),D=$e._round(m*s);if(x===g&&D===m)return;this.#u||=[h,p,g,m];const w=l(g/2,m/2),T=$e._round(h+w[0]),C=$e._round(p+w[1]),E=l(x/2,D/2);this.x=T-E[0],this.y=C-E[1],this.width=x,this.height=D,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#I()}pointerdown(e){const{isMac:t}=Xn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#P(e);return}this.#O(e)}#O(e){const{isMac:t}=Xn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#P(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},l=d=>{r.abort(),this.#r=null,this.#g=!1,this._uiManager.endDragSession()||this.#O(d),n&&this._onStopDragging()};t&&(this.#_=e.clientX,this.#A=e.clientY,this.#r=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",d=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:p,pointerId:g}=d;if(g!==this.#r){an(d);return}const[m,v]=this.screenToPageTranslation(h-this.#_,p-this.#A);this.#_=h,this.#A=p,this._uiManager.dragSelectedEditors(m,v)},a),window.addEventListener("touchmove",an,a),window.addEventListener("pointerdown",d=>{d.pointerType===this.#o&&(this.#S||d.isPrimary)&&l(d),an(d)},a));const c=d=>{if(!this.#r||this.#r===d.pointerId){l(d);return}an(d)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[l,c]=this.pageTranslation,d=e/r,h=t/r,p=this.x*s,g=this.y*a,m=this.width*s,v=this.height*a;switch(n){case 0:return[p+d+l,a-g-h-v+c,p+d+m+l,a-g-h+c];case 90:return[p+h+l,a-g+d+c,p+h+v+l,a-g+d+m+c];case 180:return[p-d-m+l,a-g+h+c,p-d+l,a-g+h+v+c];case 270:return[p-h-v+l,a-g-d-m+c,p-h+l,a-g-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,s,a]=e,l=s-n,c=a-r;switch(this.rotation){case 0:return[n,t-a,l,c];case 90:return[n,t-r,c,l];case 180:return[s,t-r,l,c];case 270:return[s,t-a,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&$e._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:r,deleted:s,richText:a},uid:l,pageIndex:c,creationDate:d,modificationDate:h}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:d,modificationDate:n||h,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&r>0&&e<s&&n>0}#W(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#W()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,r.#e=e.accessibilityData,r._isCopy=e.isCopy||!1;const[s,a]=r.pageDimensions,[l,c,d,h]=r.getRectInCurrentCoords(e.rect,a);return r.x=l/s,r.y=c/a,r.width=d/s,r.height=h/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#B(),this.removeEditToolbar(),this.#D){for(const e of this.#D.values())clearTimeout(e);this.#D=null}this.parent=null,this.#S?.destroy(),this.#S=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#L(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,r,s,a]=this.getPDFRect();return[$e._round(n+(s-n)*e),$e._round(r+(a-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const a=this.#X.bind(this),l=this.#G.bind(this),c=this._uiManager._signal;for(const d of this.#t){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:c}),d.addEventListener("blur",l,{signal:c}),d.addEventListener("focus",this.#$.bind(this,h),{signal:c}),d.setAttribute("data-l10n-id",$e._l10nResizer[h])}}const n=this.#t[0];let r=0;for(const a of t){if(a===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let l=0;l<r-s;l++)this.#c.append(this.#c.firstChild);else if(s>r)for(let l=0;l<s-r;l++)this.#c.firstChild.before(this.#c.lastChild);let a=0;for(const l of t){const d=this.#t[a++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",$e._l10nResizer[d])}}this.#j(0),this.#v=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#X(e){$e._resizerKeyboardManager.exec(this,e)}#G(e){this.#v&&e.relatedTarget?.parentNode!==this.#c&&this.#B()}#$(e){this.#m=this.#v?e:""}#j(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#v&&this.#F(this.#m,{deltaX:e,deltaY:t,fromKeyboard:!0})}#B(){this.#v=!1,this.#j(-1),this.#I()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#D||=new Map;const{action:n}=e;let r=this.#D.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#D.delete(n),this.#D.size===0&&(this.#D=null)},$e._telemetryTimeout),this.#D.set(n,r);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class P5 extends $e{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const qA=3285377520,tr=4294901760,Fr=65535;class LC{constructor(e){this.h1=e?e&4294967295:qA,this.h2=e?e&4294967295:qA}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let b=0,x=e.length;b<x;b++){const D=e.charCodeAt(b);D<=255?t[n++]=D:(t[n++]=D>>>8,t[n++]=D&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,a=new Uint32Array(t.buffer,0,r);let l=0,c=0,d=this.h1,h=this.h2;const p=3432918353,g=461845907,m=p&Fr,v=g&Fr;for(let b=0;b<r;b++)b&1?(l=a[b],l=l*p&tr|l*m&Fr,l=l<<15|l>>>17,l=l*g&tr|l*v&Fr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(c=a[b],c=c*p&tr|c*m&Fr,c=c<<15|c>>>17,c=c*g&tr|c*v&Fr,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,s){case 3:l^=t[r*4+2]<<16;case 2:l^=t[r*4+1]<<8;case 1:l^=t[r*4],l=l*p&tr|l*m&Fr,l=l<<15|l>>>17,l=l*g&tr|l*v&Fr,r&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&tr|e*36045&Fr,t=t*4283543511&tr|((t<<16|e>>>16)*2950163797&tr)>>>16,e^=t>>>1,e=e*444984403&tr|e*60499&Fr,t=t*3301882366&tr|((t<<16|e>>>16)*3120437893&tr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const J0=Object.freeze({map:null,hash:"",transfer:void 0});class G1{#e=!1;#t=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#n.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof $e&&this.#i.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof $e)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#n.get(e);let r=!1;if(n!==void 0)for(const[s,a]of Object.entries(t))n[s]!==a&&(r=!0,n[s]=a);else r=!0,this.#n.set(e,t);r&&this.#a(),t instanceof $e&&((this.#i||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new IC(this)}get serializable(){if(this.#n.size===0)return J0;const e=new Map,t=new LC,n=[],r=Object.create(null);let s=!1;for(const[a,l]of this.#n){const c=l instanceof $e?l.serialize(!1,r):l;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),s||=!!c.bitmap)}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:J0}get editorStats(){let e=null;const t=new Map;let n=0,r=0;for(const s of this.#n.values()){if(!(s instanceof $e)){s.popup&&(s.popup.deleted?r+=1:n+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(n+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:l}=a;t.has(l)||t.set(l,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const c=e[l]||=new Map;for(const[d,h]of Object.entries(a)){if(d==="type")continue;let p=c.get(d);p||(p=new Map,c.set(d,p));const g=p.get(h)??0;p.set(h,g+1)}}if((r>0||n>0)&&(e||=Object.create(null),e.comments={deleted:r,edited:n}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const n=this.#i?.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#i?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#i)for(const t of this.#i.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class IC extends G1{#e;constructor(e){super();const{map:t,hash:n,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#e={map:s,hash:n,transfer:r}}get print(){jt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return lt(this,"modifiedIds",{ids:new Set,hash:""})}}class z5{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(wt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=e,l=new FontFace(r,s,a);this.addNativeFontFace(l);try{await l.load(),this.#e.add(r),n?.(e)}catch{st(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}jt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw st(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return lt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return lt(this,"isSyncFontLoadingSupported",ri||Xn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(wt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return lt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(C,E){return C.charCodeAt(E)<<24|C.charCodeAt(E+1)<<16|C.charCodeAt(E+2)<<8|C.charCodeAt(E+3)&255}function r(C,E,S,k){const O=C.substring(0,E),R=C.substring(E+S);return O+k+R}let s,a;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let d=0;function h(C,E){if(++d>30){st("Load test font never loaded."),E();return}if(c.font="30px "+C,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(h.bind(null,C,E))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,p.length,p);const v=16,b=1482184792;let x=n(g,v);for(s=0,a=p.length-3;s<a;s+=4)x=x-b+n(p,s)|0;s<p.length&&(x=x-b+n(p+"XXX",s)|0),g=r(g,v,4,v5(x));const D=`url(data:font/opentype;base64,${btoa(g)});`,w=`@font-face {font-family:"${p}";src:${D}}`;this.insertRule(w);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const C of[e.loadedName,p]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=C,T.append(E)}this._document.body.append(T),h(p,()=>{T.remove(),t.complete()})}}class W5{#e;constructor(e,t=null,n,r){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,n&&Object.assign(this,n),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${RC(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(a){st(`getPathGenerator - ignoring character: "${a}".`)}const s=FC(r);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class Il{#e;#t;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,n={};let r=0;for(const d of Il.strings){const h=t.encode(e[d]);n[d]=h,r+=4+h.length}const s=new ArrayBuffer(r),a=new Uint8Array(s),l=new DataView(s);let c=0;for(const d of Il.strings){const h=n[d],p=h.length;l.setUint32(c,p),a.set(h,c+4),c+=4+p}return wt(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}#n(e){wt(e<Il.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Pl{#e;#t;#i;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,n={};let r=0;for(const g of Pl.strings){const m=t.encode(e[g]);n[g]=m,r+=4+m.length}r+=4;let s,a,l=1+r;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),l+=4+s.length+4+a.length);const c=new ArrayBuffer(l),d=new Uint8Array(c),h=new DataView(c);let p=0;h.setUint8(p++,e.guessFallback?1:0),h.setUint32(p,0),p+=4,r=0;for(const g of Pl.strings){const m=n[g],v=m.length;r+=4+v,h.setUint32(p,v),d.set(m,p+4),p+=4+v}return h.setUint32(p-r-4,r),e.style&&(h.setUint32(p,s.length),d.set(s,p+4),p+=4+s.length,h.setUint32(p,a.length),d.set(a,p+4),p+=4+a.length),wt(p<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(p)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){wt(e<Pl.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),n=this.#i.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const r=this.#t.getUint32(e),s=this.#i.decode(new Uint8Array(this.#e,e+4,r));return{style:n,weight:s}}}class Pt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#i=this.#t+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:e,extra:t}){this.#s=e,this.#r=new TextDecoder,this.#o=new DataView(this.#s),t&&Object.assign(this,t)}#c(e){wt(e<Pt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,r=this.#o.getUint8(t)>>n&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return wt(e<Pt.numbers.length,"Invalid number index"),this.#o.getFloat64(Pt.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Pt.#t;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<4;r++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=Pt.#i;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<6;r++)n.push(this.#o.getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=Pt.#n;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let r=0;r<3;r++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}#h(e){wt(e<Pt.strings.length,"Invalid string index");let t=Pt.#a+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const n=this.#o.getUint32(t),r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,t+4,n)),this.#r.decode(r)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=Pt.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#s,e+4,s)}clearData(){let e=Pt.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=Pt.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(this.#s,e+4,r)),new Il(s.buffer)}get systemFontInfo(){let e=Pt.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);if(n===0)return null;const r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,e+4,n)),new Pl(r.buffer)}static write(e){const t=e.systemFontInfo?Pl.write(e.systemFontInfo):null,n=e.cssFontInfo?Il.write(e.cssFontInfo):null,r=new TextEncoder,s={};let a=0;for(const b of Pt.strings)s[b]=r.encode(e[b]),a+=4+s[b].length;const l=Pt.#a+4+a+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),d=new Uint8Array(c),h=new DataView(c);let p=0;const g=Pt.bools.length;let m=0,v=0;for(let b=0;b<g;b++){const x=e[Pt.bools[b]];m|=(x===void 0?0:x?2:1)<<v,v+=2,(v===8||b===g-1)&&(h.setUint8(p++,m),m=0,v=0)}wt(p===Pt.#e,"FontInfo.write: Boolean properties offset mismatch");for(const b of Pt.numbers)h.setFloat64(p,e[b]),p+=8;if(wt(p===Pt.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(p++,4);for(const b of e.bbox)h.setInt16(p,b,!0),p+=2}else h.setUint8(p++,0),p+=8;if(wt(p===Pt.#i,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(p++,6);for(const b of e.fontMatrix)h.setFloat64(p,b,!0),p+=8}else h.setUint8(p++,0),p+=48;if(wt(p===Pt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(p++,1);for(const b of e.defaultVMetrics)h.setInt16(p,b,!0),p+=2}else h.setUint8(p++,0),p+=6;wt(p===Pt.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(Pt.#a,0),p+=4;for(const b of Pt.strings){const x=s[b],D=x.length;h.setUint32(p,D),d.set(x,p+4),p+=4+D}if(h.setUint32(Pt.#a,p-Pt.#a-4),!t)h.setUint32(p,0),p+=4;else{const b=t.byteLength;h.setUint32(p,b),wt(p+4+b<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(t),p+4),p+=4+b}if(!n)h.setUint32(p,0),p+=4;else{const b=n.byteLength;h.setUint32(p,b),wt(p+4+b<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(n),p+4),p+=4+b}return e.data===void 0?(h.setUint32(p,0),p+=4):(h.setUint32(p,e.data.length),d.set(e.data,p+4),p+=4+e.data.length),wt(p<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(p)}}class Mn{static#e=0;static#t=1;static#i=2;static#n=3;static#a=4;static#s=8;static#r=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,n=null,r=[],s=[],a=[],l=[],c=null,d=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,n=e[2],a=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,c=e[1],r=e[2],s=e[3],l=e[4]||[],n=e[6],d=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(r.length/2),p=Math.floor(s.length/3),g=a.length,m=l.length;let v=0;for(const E of l)v+=1,v=Math.ceil(v/4)*4,v+=4+E.coords.length*4,v+=4+E.colors.length*4,E.verticesPerRow!==void 0&&(v+=4);const b=20+h*8+p*3+g*8+(n?16:0)+(d?3:0)+v,x=new ArrayBuffer(b),D=new DataView(x),w=new Uint8Array(x);D.setUint8(Mn.#e,t),D.setUint8(Mn.#t,n?1:0),D.setUint8(Mn.#i,d?1:0),D.setUint8(Mn.#n,c),D.setUint32(Mn.#a,h,!0),D.setUint32(Mn.#s,p,!0),D.setUint32(Mn.#r,g,!0),D.setUint32(Mn.#o,m,!0);let T=20;new Float32Array(x,T,h*2).set(r),T+=h*8,w.set(s,T),T+=p*3;for(const[E,S]of a)D.setFloat32(T,E,!0),T+=4,D.setUint32(T,parseInt(S.slice(1),16),!0),T+=4;if(n)for(const E of n)D.setFloat32(T,E,!0),T+=4;d&&(w.set(d,T),T+=3);for(let E=0;E<l.length;E++){const S=l[E];D.setUint8(T,S.type),T+=1,T=Math.ceil(T/4)*4,D.setUint32(T,S.coords.length,!0),T+=4,new Int32Array(x,T,S.coords.length).set(S.coords),T+=S.coords.length*4,D.setUint32(T,S.colors.length,!0),T+=4,new Int32Array(x,T,S.colors.length).set(S.colors),T+=S.colors.length*4,S.verticesPerRow!==void 0&&(D.setUint32(T,S.verticesPerRow,!0),T+=4)}return x}getIR(){const e=this.view,t=this.data[Mn.#e],n=!!this.data[Mn.#t],r=!!this.data[Mn.#i],s=e.getUint32(Mn.#a,!0),a=e.getUint32(Mn.#s,!0),l=e.getUint32(Mn.#r,!0),c=e.getUint32(Mn.#o,!0);let d=20;const h=new Float32Array(this.buffer,d,s*2);d+=s*8;const p=new Uint8Array(this.buffer,d,a*3);d+=a*3;const g=[];for(let x=0;x<l;++x){const D=e.getFloat32(d,!0);d+=4;const w=e.getUint32(d,!0);d+=4,g.push([D,`#${w.toString(16).padStart(6,"0")}`])}let m=null;if(n){m=[];for(let x=0;x<4;++x)m.push(e.getFloat32(d,!0)),d+=4}let v=null;r&&(v=new Uint8Array(this.buffer,d,3),d+=3);const b=[];for(let x=0;x<c;++x){const D=e.getUint8(d);d+=1,d=Math.ceil(d/4)*4;const w=e.getUint32(d,!0);d+=4;const T=new Int32Array(this.buffer,d,w);d+=w*4;const C=e.getUint32(d,!0);d+=4;const E=new Int32Array(this.buffer,d,C);d+=C*4;const S={type:D,coords:T,colors:E};D===$0.LATTICE&&(S.verticesPerRow=e.getUint32(d,!0),d+=4),b.push(S)}if(t===1)return["RadialAxial","axial",m,g,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",m,g,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(t===3){const x=this.data[Mn.#n];let D=null;if(h.length>0){let w=h[0],T=h[0],C=h[1],E=h[1];for(let S=0;S<h.length;S+=2){const k=h[S],O=h[S+1];w=w>k?k:w,C=C>O?O:C,T=T<k?k:T,E=E<O?O:E}D=[w,C,T,E]}return["Mesh",x,h,p,b,D,m,v]}throw new Error(`Unsupported pattern kind: ${t}`)}}function j5(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(ri)return i;const e=URL.parse(i,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function H5(i){if(ri&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return sd(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Oh(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const e1=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,q5=i=>typeof i=="object"&&typeof i?.name=="string",V5=T5.bind(null,e1,q5);class G5{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[r]of this.#e)r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){st("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#e.set(t,r)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Nh={DATA:1,ERROR:2},vn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function VA(){}function xi(i){if(i instanceof xa||i instanceof Y0||i instanceof LA||i instanceof Vf||i instanceof Jy)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||jt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new xa(i.message);case"InvalidPDFException":return new Y0(i.message);case"PasswordException":return new LA(i.message,i.code);case"ResponseException":return new Vf(i.message,i.status,i.missing);case"UnknownErrorException":return new Jy(i.message,i.details)}return new Jy(i.message,i.toString())}class bu{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Nh.DATA)r.resolve(e.data);else if(e.callback===Nh.ERROR)r.reject(xi(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:n,targetName:r,callback:Nh.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:r,callback:Nh.ERROR,callbackId:e.callbackId,reason:xi(a)})});return}if(e.streamId){this.#i(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,r){const s=this.streamId++,a=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:l,action:e,streamId:s,data:t,desiredSize:d.desiredSize},r),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,c.postMessage({sourceName:a,targetName:l,stream:vn.PULL,streamId:s,desiredSize:d.desiredSize}),h.promise},cancel:d=>{wt(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:l,stream:vn.CANCEL,streamId:s,reason:xi(d)}),h.promise}},n)}#i(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,a=this,l=this.actionHandler[e.action],c={enqueue(d,h=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:vn.ENQUEUE,streamId:t,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:vn.CLOSE,streamId:t}),delete a.streamSinks[t])},error(d){wt(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:vn.ERROR,streamId:t,reason:xi(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){s.postMessage({sourceName:n,targetName:r,stream:vn.START_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:vn.START_COMPLETE,streamId:t,reason:xi(d)})})}#n(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case vn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(xi(e.reason));break;case vn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(xi(e.reason));break;case vn.PULL:if(!l){s.postMessage({sourceName:n,targetName:r,stream:vn.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||VA).then(function(){s.postMessage({sourceName:n,targetName:r,stream:vn.PULL_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:vn.PULL_COMPLETE,streamId:t,reason:xi(d)})});break;case vn.ENQUEUE:if(wt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case vn.CLOSE:if(wt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#a(a,t);break;case vn.ERROR:wt(a,"error should have stream controller"),a.controller.error(xi(e.reason)),this.#a(a,t);break;case vn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(xi(e.reason)),this.#a(a,t);break;case vn.CANCEL:if(!l)break;const c=xi(e.reason);Promise.try(l.onCancel||VA,c).then(function(){s.postMessage({sourceName:n,targetName:r,stream:vn.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:vn.CANCEL_COMPLETE,streamId:t,reason:xi(d)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class PC{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){jt("Abstract method `_createCanvas` called.")}}class X5 extends PC{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class zC{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){jt("Abstract method `_fetch` called.")}}class GA extends zC{async _fetch(e){const t=await ad(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):sd(t)}}class WC{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,s){return"none"}destroy(e=!1){}}class $5 extends WC{#e;#t;#i;#n;#a;#s;#r=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#a=t}get#o(){return this.#t||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#a.createElementNS(ms,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(ms,"defs"),e.append(n),n.append(this.#i),this.#a.body.append(e)}return this.#i}#h(e){if(e.length===1){const c=e[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=c[p]/255;const h=d.join(",");return[h,h,h]}const[t,n,r]=e,s=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)s[c]=t[c]/255,a[c]=n[c]/255,l[c]=r[c]/255;return[s.join(","),a.join(","),l.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&(Xp(t)?st('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=kC(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,r,s]=this.#h(e),a=e.length===1?n:`${n}${r}${s}`;if(t=this.#o.get(a),t)return this.#o.set(e,t),t;const l=`g_${this.#n}_transfer_map_${this.#r++}`,c=this.#d(l);this.#o.set(e,c),this.#o.set(a,c);const d=this.#g(l);return this.#p(n,r,s,d),c}addHCMFilter(e,t){const n=`${e}-${t}`,r="base";let s=this.#c.get(r);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#c.set(r,s)),!e||!t))return s.url;const a=this.#v(e);e=je.makeHexColor(...a);const l=this.#v(t);if(t=je.makeHexColor(...l),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const c=new Array(256);for(let m=0;m<=255;m++){const v=m/255;c[m]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const d=c.join(","),h=`g_${this.#n}_hcm_filter`,p=s.filter=this.#g(h);this.#p(d,d,d,p),this.#m(p);const g=(m,v)=>{const b=a[m]/255,x=l[m]/255,D=new Array(v+1);for(let w=0;w<=v;w++)D[w]=b+w/v*(x-b);return D.join(",")};return this.#p(g(0,5),g(1,5),g(2,5),p),s.url=this.#d(h),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#h([e]),r=`alpha_${n}`;if(t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_alpha_map_${this.#r++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(r,a);const l=this.#g(s);return this.#y(n,l),a}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,r;if(e?([n]=this.#h([e]),r=`luminosity_${n}`):r="luminosity",t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_luminosity_map_${this.#r++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(r,a);const l=this.#g(s);return this.#f(l),e&&this.#y(n,l),a}addHighlightHCMFilter(e,t,n,r,s){const a=`${t}-${n}-${r}-${s}`;let l=this.#c.get(e);if(l?.key===a||(l?(l.filter?.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},this.#c.set(e,l)),!t||!n))return l.url;const[c,d]=[t,n].map(this.#v.bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[g,m]=[r,s].map(this.#v.bind(this));p<h&&([h,p,g,m]=[p,h,m,g]),this.#l.style.color="";const v=(D,w,T)=>{const C=new Array(256),E=(p-h)/T,S=D/255,k=(w-D)/(255*T);let O=0;for(let R=0;R<=T;R++){const z=Math.round(h+R*E),Z=S+R*k;for(let F=O;F<=z;F++)C[F]=Z;O=z+1}for(let R=O;R<256;R++)C[R]=C[O-1];return C.join(",")},b=`g_${this.#n}_hcm_${e}_filter`,x=l.filter=this.#g(b);return this.#m(x),this.#p(v(g[0],m[0],5),v(g[1],m[1],5),v(g[2],m[2],5),x),l.url=this.#d(b),l.url}destroy(e=!1){e&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(e){const t=this.#a.createElementNS(ms,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#m(e){const t=this.#a.createElementNS(ms,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#g(e){const t=this.#a.createElementNS(ms,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,n){const r=this.#a.createElementNS(ms,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}#p(e,t,n,r){const s=this.#a.createElementNS(ms,"feComponentTransfer");r.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",n)}#y(e,t){const n=this.#a.createElementNS(ms,"feComponentTransfer");t.append(n),this.#u(n,"feFuncA",e)}#v(e){return this.#l.style.color=e,ld(getComputedStyle(this.#l).getPropertyValue("color"))}}class jC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){jt("Abstract method `_fetch` called.")}}class XA extends jC{async _fetch(e){const t=await ad(e,"arraybuffer");return new Uint8Array(t)}}class HC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){jt("Abstract method `_fetch` called.")}}class $A extends HC{async _fetch(e){const t=await ad(e,"arraybuffer");return new Uint8Array(t)}}ri&&st("Please use the `legacy` build in Node.js environments.");async function X1(i){const t=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(t)}class Y5 extends WC{}class K5 extends PC{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Z5 extends zC{async _fetch(e){return X1(e)}}class Q5 extends jC{async _fetch(e){return X1(e)}}class J5 extends HC{async _fetch(e){return X1(e)}}const vl="__forcedDependency",{floor:YA,ceil:KA}=Math;function Fh(i,e,t,n,r,s){i[e*4+0]=Math.min(i[e*4+0],t),i[e*4+1]=Math.min(i[e*4+1],n),i[e*4+2]=Math.max(i[e*4+2],r),i[e*4+3]=Math.max(i[e*4+3],s)}const t1=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class e8{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===t1}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Bh=(i,e)=>{if(!i)return;let t=i.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},i.set(e,t)),t};class t8{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[vl]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#m;#g;#u;#p;constructor(e,t,n=!1){this.#f=e.width,this.#m=e.height,this.#y(t),n&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#y(e,this.#u)}#y(e,t){const n=new ArrayBuffer(e*4);this.#g=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),t&&t.length>0?(this.#u.set(t),this.#u.fill(t1,t.length)):this.#u.fill(t1)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[vl]:{__proto__:this.#t[vl]}},this.#r={__proto__:this.#r},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(Bh(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(Bh(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const t=this.#a.pop();return t!==void 0&&(Bh(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#s.push(je.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#i.set(e,t),this}recordSimpleDataFromNamed(e,t,n){this.#e[e]=this.#i.get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(vl,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(vl,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,n,r,s,a){const l=je.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];je.axialAlignedBoundingBox([n,s,r,a],l,c);const d=je.intersect(this.#r,c);return d?(this.#r[0]=d[0],this.#r[1]=d[1],this.#r[2]=d[2],this.#r[3]=d[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(e,t,n,r,s,a){const l=this.#r;if(l[0]===1/0)return this;const c=je.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform());if(l[0]===-1/0)return je.axialAlignedBoundingBox([n,s,r,a],c,this.#o),this;const d=[1/0,1/0,-1/0,-1/0];return je.axialAlignedBoundingBox([n,s,r,a],c,d),this.#o[0]=Math.min(this.#o[0],Math.max(d[0],l[0])),this.#o[1]=Math.min(this.#o[1],Math.max(d[1],l[1])),this.#o[2]=Math.max(this.#o[2],Math.min(d[2],l[2])),this.#o[3]=Math.max(this.#o[3],Math.min(d[3],l[3])),this}recordCharacterBBox(e,t,n,r=1,s=0,a=0,l){const c=n.bbox;let d,h;if(c&&(d=c[2]!==c[0]&&c[3]!==c[1]&&this.#d.get(n),d!==!1&&(h=[0,0,0,0],je.axialAlignedBoundingBox(c,n.fontMatrix,h),(r!==1||s!==0||a!==0)&&je.scaleMinMax([r,0,0,-r,s,a],h),d)))return this.recordBBox(e,t,h[0],h[2],h[1],h[3]);if(!l)return this.recordFullPageBBox(e);const p=l();return c&&h&&d===void 0&&(d=h[0]<=s-p.actualBoundingBoxLeft&&h[2]>=s+p.actualBoundingBoxRight&&h[1]<=a-p.actualBoundingBoxAscent&&h[3]>=a+p.actualBoundingBoxDescent,this.#d.set(n,d),d)?this.recordBBox(e,t,h[0],h[2],h[1],h[3]):this.recordBBox(e,t,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,a-p.actualBoundingBoxAscent,a+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#m,this.#r[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const n=this.#l,r=this.#e,s=this.#t;for(const a of t)a in this.#e?n.add(r[a]):a in s&&s[a].forEach(n.add,n);return this}recordNamedDependency(e,t){return this.#i.has(t)&&this.#l.add(this.#i.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[vl]),this.#p){const n=Bh(this.#p,e),{dependencies:r}=n;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(e),n.isRenderingOperation=!0}if(this.#c===e){const n=YA(this.#o[0]*256/this.#f),r=YA(this.#o[1]*256/this.#m),s=KA(this.#o[2]*256/this.#f),a=KA(this.#o[3]*256/this.#m);Fh(this.#g,e,n,r,s,a);for(const l of this.#l)l!==e&&Fh(this.#g,l,n,r,s,a);for(const l of this.#n)l!==e&&Fh(this.#g,l,n,r,s,a);for(const l of this.#a)l!==e&&Fh(this.#g,l,n,r,s,a);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const n=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of n)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#h.get(e);return this.#h.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#d.clear(),new e8(this.#u,this.#g)}takeDebugMetadata(){return this.#p}}class Gf{#e;#t;#i;#n=0;#a=0;constructor(e,t,n){if(e instanceof Gf&&e.#i===!!n)return e;this.#e=e,this.#t=t,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#i||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,n,r,s,a){return this.#i||this.#e.recordClipBox(this.#t,t,n,r,s,a),this}recordBBox(e,t,n,r,s,a){return this.#i||this.#e.recordBBox(this.#t,t,n,r,s,a),this}recordCharacterBBox(e,t,n,r,s,a,l){return this.#i||this.#e.recordCharacterBBox(this.#t,t,n,r,s,a,l),this}recordFullPageBBox(e){return this.#i||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#i||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const nr={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},qn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function n1(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),i.clip(r)}class $1{isModifyingCurrentTransform(){return!1}getPattern(){jt("Abstract method `getPattern` called.")}}class n8 extends $1{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let s;if(r===qn.STROKE||r===qn.FILL){const a=t.current.getClippedPathBoundingBox(r,Zt(e))||[0,0,0,0],l=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,d=t.cachedCanvases.getCanvas("pattern",l,c),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=je.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),n1(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(n);s.setTransform(p)}else n1(e,this._bbox),s=this._createGradient(e);return s}}function nb(i,e,t,n,r,s,a,l){const c=e.coords,d=e.colors,h=i.data,p=i.width*4;let g;c[t+1]>c[n+1]&&(g=t,t=n,n=g,g=s,s=a,a=g),c[n+1]>c[r+1]&&(g=n,n=r,r=g,g=a,a=l,l=g),c[t+1]>c[n+1]&&(g=t,t=n,n=g,g=s,s=a,a=g);const m=(c[t]+e.offsetX)*e.scaleX,v=(c[t+1]+e.offsetY)*e.scaleY,b=(c[n]+e.offsetX)*e.scaleX,x=(c[n+1]+e.offsetY)*e.scaleY,D=(c[r]+e.offsetX)*e.scaleX,w=(c[r+1]+e.offsetY)*e.scaleY;if(v>=w)return;const T=d[s],C=d[s+1],E=d[s+2],S=d[a],k=d[a+1],O=d[a+2],R=d[l],z=d[l+1],Z=d[l+2],F=Math.round(v),W=Math.round(w);let M,Y,B,I,V,K,ae,L;for(let H=F;H<=W;H++){if(H<x){const ge=H<v?0:(v-H)/(v-x);M=m-(m-b)*ge,Y=T-(T-S)*ge,B=C-(C-k)*ge,I=E-(E-O)*ge}else{let ge;H>w?ge=1:x===w?ge=0:ge=(x-H)/(x-w),M=b-(b-D)*ge,Y=S-(S-R)*ge,B=k-(k-z)*ge,I=O-(O-Z)*ge}let G;H<v?G=0:H>w?G=1:G=(v-H)/(v-w),V=m-(m-D)*G,K=T-(T-R)*G,ae=C-(C-z)*G,L=E-(E-Z)*G;const te=Math.round(Math.min(M,V)),ce=Math.round(Math.max(M,V));let we=p*H+te*4;for(let ge=te;ge<=ce;ge++)G=(M-ge)/(M-V),G<0?G=0:G>1&&(G=1),h[we++]=Y-(Y-K)*G|0,h[we++]=B-(B-ae)*G|0,h[we++]=I-(I-L)*G|0,h[we++]=255}}function i8(i,e,t){const n=e.coords,r=e.colors;let s,a;switch(e.type){case $0.LATTICE:const l=e.verticesPerRow,c=Math.floor(n.length/l)-1,d=l-1;for(s=0;s<c;s++){let h=s*l;for(let p=0;p<d;p++,h++)nb(i,t,n[h],n[h+1],n[h+l],r[h],r[h+1],r[h+l]),nb(i,t,n[h+l+1],n[h+1],n[h+l],r[h+l+1],r[h+1],r[h+l])}break;case $0.TRIANGLES:for(s=0,a=n.length;s<a;s+=3)nb(i,t,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class r8 extends $1{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),m=d/p,v=h/g,b={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/m,scaleY:1/v},x=p+4,D=g+4,w=n.getCanvas("mesh",x,D),T=w.context,C=T.createImageData(p,g);if(t){const S=C.data;for(let k=0,O=S.length;k<O;k+=4)S[k]=t[0],S[k+1]=t[1],S[k+2]=t[2],S[k+3]=255}for(const S of this._figures)i8(C,S,b);return T.putImageData(C,2,2),{canvas:w.canvas,offsetX:l-2*m,offsetY:c-2*v,scaleX:m,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){n1(e,this._bbox);const s=new Float32Array(2);if(r===qn.SHADING)je.singularValueDecompose2dScale(Zt(e),s);else if(this.matrix){je.singularValueDecompose2dScale(this.matrix,s);const[l,c]=s;je.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=l,s[1]*=c}else je.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,r===qn.SHADING?null:this._background,t.cachedCanvases);return r!==qn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class s8 extends $1{getPattern(){return"hotpink"}}function a8(i){switch(i[0]){case"RadialAxial":return new n8(i);case"Mesh":return new r8(i);case"Dummy":return new s8}throw new Error(`Unknown IR type: ${i[0]}`)}const ZA={COLORED:1,UNCOLORED:2};class Y1{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e,t){const{bbox:n,operatorList:r,paintType:s,tilingType:a,color:l,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:h}=this;d=Math.abs(d),h=Math.abs(h),Gp("TilingType: "+a);const p=n[0],g=n[1],m=n[2],v=n[3],b=m-p,x=v-g,D=new Float32Array(2);je.singularValueDecompose2dScale(this.matrix,D);const[w,T]=D;je.singularValueDecompose2dScale(this.baseTransform,D);const C=w*D[0],E=T*D[1];let S=b,k=x,O=!1,R=!1;const z=Math.ceil(d*C),Z=Math.ceil(h*E),F=Math.ceil(b*C),W=Math.ceil(x*E);z>=F?S=d:O=!0,Z>=W?k=h:R=!0;const M=this.getSizeAndScale(S,this.ctx.canvas.width,C),Y=this.getSizeAndScale(k,this.ctx.canvas.height,E),B=e.cachedCanvases.getCanvas("pattern",M.size,Y.size),I=B.context,V=c.createCanvasGraphics(I,t);if(V.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(V,s,l),I.translate(-M.scale*p,-Y.scale*g),V.transform(0,M.scale,0,0,Y.scale,0,0),I.save(),V.dependencyTracker?.save(),this.clipBbox(V,p,g,m,v),V.baseTransform=Zt(V.ctx),V.executeOperatorList(r),V.endDrawing(),V.dependencyTracker?.restore(),I.restore(),O||R){const K=B.canvas;O&&(S=d),R&&(k=h);const ae=this.getSizeAndScale(S,this.ctx.canvas.width,C),L=this.getSizeAndScale(k,this.ctx.canvas.height,E),H=ae.size,G=L.size,te=e.cachedCanvases.getCanvas("pattern-workaround",H,G),ce=te.context,we=O?Math.floor(b/d):0,ge=R?Math.floor(x/h):0;for(let Ce=0;Ce<=we;Ce++)for(let Ue=0;Ue<=ge;Ue++)ce.drawImage(K,H*Ce,G*Ue,H,G,0,0,H,G);return{canvas:te.canvas,scaleX:ae.scale,scaleY:L.scale,offsetX:p,offsetY:g}}return{canvas:B.canvas,scaleX:M.scale,scaleY:Y.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,n){const r=Math.max(Y1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=r?s=r:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,r,s){const a=r-t,l=s-n;e.ctx.rect(t,n,a,l),je.axialAlignedBoundingBox([t,n,r,s],Zt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,s=e.current;switch(t){case ZA.COLORED:const{fillStyle:a,strokeStyle:l}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=l;break;case ZA.UNCOLORED:r.fillStyle=r.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new b5(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r,s){let a=n;r!==qn.SHADING&&(a=je.transform(a,t.baseTransform),this.matrix&&(a=je.transform(a,this.matrix)));const l=this.createPatternCanvas(t,s);let c=new DOMMatrix(a);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(c),d}}function o8({src:i,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const l=Xn.isLittleEndian?4278190080:255,[c,d]=a?[s,l]:[l,s],h=n>>3,p=n&7,g=i.length;t=new Uint32Array(t.buffer);let m=0;for(let v=0;v<r;v++){for(const x=e+h;e<x;e++){const D=e<g?i[e]:255;t[m++]=D&128?d:c,t[m++]=D&64?d:c,t[m++]=D&32?d:c,t[m++]=D&16?d:c,t[m++]=D&8?d:c,t[m++]=D&4?d:c,t[m++]=D&2?d:c,t[m++]=D&1?d:c}if(p===0)continue;const b=e<g?i[e++]:255;for(let x=0;x<p;x++)t[m++]=b&1<<7-x?d:c}return{srcPos:e,destPos:m}}const QA=16,JA=100,l8=15,eT=10,wi=16,ib=new DOMMatrix,Pi=new Float32Array(2),Fl=new Float32Array([1/0,1/0,-1/0,-1/0]);function c8(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},i.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},i.transform=function(t,n,r,s,a,l){e.transform(t,n,r,s,a,l),this.__originalTransform(t,n,r,s,a,l)},i.setTransform=function(t,n,r,s,a,l){e.setTransform(t,n,r,s,a,l),this.__originalSetTransform(t,n,r,s,a,l)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(t){e.rotate(t),this.__originalRotate(t)},i.clip=function(t){e.clip(t),this.__originalClip(t)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,r,s,a,l){e.bezierCurveTo(t,n,r,s,a,l),this.__originalBezierCurveTo(t,n,r,s,a,l)},i.rect=function(t,n,r,s){e.rect(t,n,r,s),this.__originalRect(t,n,r,s)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class u8{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Lh(i,e,t,n,r,s,a,l,c,d){const[h,p,g,m,v,b]=Zt(i);if(p===0&&g===0){const w=a*h+v,T=Math.round(w),C=l*m+b,E=Math.round(C),S=(a+c)*h+v,k=Math.abs(Math.round(S)-T)||1,O=(l+d)*m+b,R=Math.abs(Math.round(O)-E)||1;return i.setTransform(Math.sign(h),0,0,Math.sign(m),T,E),i.drawImage(e,t,n,r,s,0,0,k,R),i.setTransform(h,p,g,m,v,b),[k,R]}if(h===0&&m===0){const w=l*g+v,T=Math.round(w),C=a*p+b,E=Math.round(C),S=(l+d)*g+v,k=Math.abs(Math.round(S)-T)||1,O=(a+c)*p+b,R=Math.abs(Math.round(O)-E)||1;return i.setTransform(0,Math.sign(p),Math.sign(g),0,T,E),i.drawImage(e,t,n,r,s,0,0,R,k),i.setTransform(h,p,g,m,v,b),[R,k]}i.drawImage(e,t,n,r,s,a,l,c,d);const x=Math.hypot(h,p),D=Math.hypot(g,m);return[x*c,D*d]}class tT{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=X0;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Wn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Fl.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=qn.FILL,t=null){const n=this.minMax.slice();if(e===qn.STROKE){t||jt("Stroke bounding box must include transform."),je.singularValueDecompose2dScale(t,Pi);const r=Pi[0]*this.lineWidth/2,s=Pi[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){const e=je.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Fl,0)}getClippedPathBoundingBox(e=qn.FILL,t=null){return je.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function nT(i,e){if(e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%wi,s=(t-r)/wi,a=r===0?s:s+1,l=i.createImageData(n,wi);let c=0,d;const h=e.data,p=l.data;let g,m,v,b;if(e.kind===pf.GRAYSCALE_1BPP){const x=h.byteLength,D=new Uint32Array(p.buffer,0,p.byteLength>>2),w=D.length,T=n+7>>3,C=4294967295,E=Xn.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(v=g<s?wi:r,d=0,m=0;m<v;m++){const S=x-c;let k=0;const O=S>T?n:S*8-7,R=O&-8;let z=0,Z=0;for(;k<R;k+=8)Z=h[c++],D[d++]=Z&128?C:E,D[d++]=Z&64?C:E,D[d++]=Z&32?C:E,D[d++]=Z&16?C:E,D[d++]=Z&8?C:E,D[d++]=Z&4?C:E,D[d++]=Z&2?C:E,D[d++]=Z&1?C:E;for(;k<O;k++)z===0&&(Z=h[c++],z=128),D[d++]=Z&z?C:E,z>>=1}for(;d<w;)D[d++]=0;i.putImageData(l,0,g*wi)}}else if(e.kind===pf.RGBA_32BPP){for(m=0,b=n*wi*4,g=0;g<s;g++)p.set(h.subarray(c,c+b)),c+=b,i.putImageData(l,0,m),m+=wi;g<a&&(b=n*r*4,p.set(h.subarray(c,c+b)),i.putImageData(l,0,m))}else if(e.kind===pf.RGB_24BPP)for(v=wi,b=n*v,g=0;g<a;g++){for(g>=s&&(v=r,b=n*v),d=0,m=b;m--;)p[d++]=h[c++],p[d++]=h[c++],p[d++]=h[c++],p[d++]=255;i.putImageData(l,0,g*wi)}else throw new Error(`bad image kind: ${e.kind}`)}function iT(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%wi,s=(t-r)/wi,a=r===0?s:s+1,l=i.createImageData(n,wi);let c=0;const d=e.data,h=l.data;for(let p=0;p<a;p++){const g=p<s?wi:r;({srcPos:c}=o8({src:d,srcPos:c,dest:h,width:n,height:g,nonBlackColor:0})),i.putImageData(l,0,p*wi)}}function eu(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function Ih(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}function rT(i,e){if(e)return!0;je.singularValueDecompose2dScale(i,Pi);const t=Math.fround(jr.pixelRatio*Xl.PDF_TO_CSS_UNITS);return Pi[0]<=t&&Pi[1]<=t}const d8=["butt","round","square"],h8=["miter","round","bevel"],f8={},sT={};class zl{constructor(e,t,n,r,s,{optionalContentConfig:a,markedContentStack:l=null},c,d,h){this.ctx=e,this.current=new tT(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=a,this.cachedCanvases=new u8(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=l,n){const c=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Zt(this.compositeCtx))}this.ctx.save(),Ih(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Zt(this.ctx)}executeOperatorList(e,t,n,r,s){const a=e.argsArray,l=e.fnArray;let c=t||0;const d=a.length;if(d===c)return c;const h=d-c>eT&&typeof n=="function",p=h?Date.now()+l8:0;let g=0;const m=this.commonObjs,v=this.objs;let b,x;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,n),c;if(!s||s(c))if(b=l[c],x=a[c]??null,b!==Bu.dependency)x===null?this[b](c):this[b](c,...x);else for(const D of x){this.dependencyTracker?.recordNamedData(D,c);const w=D.startsWith("g_")?m:v;if(!w.has(D))return w.get(D,n),c}if(c++,c===d)return c;if(h&&++g>eT){if(Date.now()>p)return n(),c;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,d="prescale1",h,p;for(;s>2&&l>1||a>2&&c>1;){let g=l,m=c;s>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/g),a>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/m),h=this.cachedCanvases.getCanvas(d,g,m),p=h.context,p.clearRect(0,0,g,m),p.drawImage(e,0,0,l,c,0,0,g,m),e=h.canvas,l=g,c=m,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,t){const n=this.ctx,{width:r,height:s}=t,a=this.current.fillColor,l=this.current.patternFill,c=Zt(n);let d,h,p,g;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),a]),d=this._cachedBitmapsMap.get(z),d||(d=new Map,this._cachedBitmapsMap.set(z,d));const Z=d.get(h);if(Z&&!l){const F=Math.round(Math.min(c[0],c[2])+c[4]),W=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(e,nr.transformAndFill),{canvas:Z,offsetX:F,offsetY:W}}p=Z}p||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),iT(g.context,t));let m=je.transform(c,[1/r,0,0,-1/s,0,0]);m=je.transform(m,[1,0,0,1,0,-s]);const v=Fl.slice();je.axialAlignedBoundingBox([0,0,r,s],m,v);const[b,x,D,w]=v,T=Math.round(D-b)||1,C=Math.round(w-x)||1,E=this.cachedCanvases.getCanvas("fillCanvas",T,C),S=E.context,k=b,O=x;S.translate(-k,-O),S.transform(...m),p||(p=this._scaleImage(g.canvas,Nr(S)),p=p.img,d&&l&&d.set(h,p)),S.imageSmoothingEnabled=rT(Zt(S),t.interpolate),Lh(S,p,0,0,p.width,p.height,0,0,r,s),S.globalCompositeOperation="source-in";const R=je.transform(Nr(S),[1,0,0,1,-k,-O]);return S.fillStyle=l?a.getPattern(n,this,R,qn.FILL,e):a,S.fillRect(0,0,r,s),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,E.canvas)),this.dependencyTracker?.recordDependencies(e,nr.transformAndFill),{canvas:E.canvas,offsetX:Math.round(k),offsetY:Math.round(O)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=d8[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=h8[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,r]of t)switch(n){case"LW":this.setLineWidth(e,r);break;case"LC":this.setLineCap(e,r);break;case"LJ":this.setLineJoin(e,r);break;case"ML":this.setMiterLimit(e,r);break;case"D":this.setDash(e,r[0],r[1]);break;case"RI":this.setRenderingIntent(e,r);break;case"FL":this.setFlatness(e,r);break;case"Font":this.setFont(e,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,n);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),eu(this.suspendedCtx,a),c8(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),eu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const s=r[0],a=r[1],l=r[2]-s,c=r[3]-a;l===0||c===0||(this.genericComposeSMask(t.context,n,l,c,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,s,a,l,c,d,h,p){let g=e.canvas,m=c-h,v=d-p;if(a)if(m<0||v<0||m+n>g.width||v+r>g.height){const x=this.cachedCanvases.getCanvas("maskExtension",n,r),D=x.context;D.drawImage(g,-m,-v),D.globalCompositeOperation="destination-atop",D.fillStyle=a,D.fillRect(0,0,n,r),D.globalCompositeOperation="source-over",g=x.canvas,m=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(m,v,n,r),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(m,v,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const b=new Path2D;b.rect(c,d,n,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(g,m,v,n,r,c,d,n,r),t.restore()}save(e){this.inSMaskMode&&eu(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&eu(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,r,s,a,l){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,r,s,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,r){let[s]=n;if(!r){s||=n[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===Bu.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=n[0]=FC(s)),je.axialAlignedBoundingBox(r,Zt(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const a=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Nr(r),qn.STROKE,e),a){const l=new Path2D;l.addPath(t,r.getTransform().invertSelf().multiplySelf(a)),t=l}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,nr.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(qn.STROKE,Zt(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const r=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let l=!1;if(a){const d=s.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Nr(r),qn.FILL,e),d){const h=new Path2D;h.addPath(t,r.getTransform().invertSelf().multiplySelf(d)),t=h}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),this.dependencyTracker?.recordDependencies(e,nr.fill),l&&(r.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,nr.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=f8}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=sT}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=n.getTransform().invertSelf();for(const{transform:a,x:l,y:c,fontSize:d,path:h}of t)h&&r.addPath(h,new DOMMatrix(a).preMultiplySelf(s).translate(l,c).scale(d,-d));n.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||X0,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&st("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const a=r.loadedName||"sans-serif",l=r.systemFontInfo?.css||`"${a}", ${r.fallbackName}`;let c="normal";r.black?c="900":r.bold&&(c="bold");const d=r.italic?"italic":"normal";let h=n;n<QA?h=QA:n>JA&&(h=JA),this.current.fontSizeScale=n/h,this.ctx.font=`${d} ${c} ${h}px ${l}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#i(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r}paintChar(e,t,n,r,s,a){const l=this.ctx,c=this.current,d=c.font,h=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,g=h&Wn.FILL_STROKE_MASK,m=!!(h&Wn.ADD_TO_PATH_FLAG),v=c.patternFill&&!d.missingFile,b=c.patternStroke&&!d.missingFile;let x;if((d.disableFontFace||m||v||b)&&!d.missingFile&&(x=d.getPathGenerator(this.commonObjs,t)),x&&(d.disableFontFace||v||b)){l.save(),l.translate(n,r),l.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,l,d);let D;if(g===Wn.FILL||g===Wn.FILL_STROKE)if(s){D=l.getTransform(),l.setTransform(...s);const w=this.#i(x,D,s);l.fill(w)}else l.fill(x);if(g===Wn.STROKE||g===Wn.FILL_STROKE)if(a){D||=l.getTransform(),l.setTransform(...a);const{a:w,b:T,c:C,d:E}=D,S=je.inverseTransform(a),k=je.transform([w,T,C,E,0,0],S);je.singularValueDecompose2dScale(k,Pi),l.lineWidth*=Math.max(Pi[0],Pi[1])/p,l.stroke(this.#i(x,D,a))}else l.lineWidth/=p,l.stroke(x);l.restore()}else(g===Wn.FILL||g===Wn.FILL_STROKE)&&(l.fillText(t,n,r),this.dependencyTracker?.recordCharacterBBox(e,l,d,p,n,r,()=>l.measureText(t))),(g===Wn.STROKE||g===Wn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,l,d,p,n,r,()=>l.measureText(t)).recordDependencies(e,nr.stroke),l.strokeText(t,n,r));m&&((this.pendingTextPaths||=[]).push({transform:Zt(l),x:n,y:r,fontSize:p,path:x}),this.dependencyTracker?.recordCharacterBBox(e,l,d,p,n,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return lt(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,nr.showText).resetBBox(e),this.current.textRenderingMode&Wn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,r=n.font;if(r.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const a=this.ctx,l=n.fontSizeScale,c=n.charSpacing,d=n.wordSpacing,h=n.fontDirection,p=n.textHScale*h,g=t.length,m=r.vertical,v=m?1:-1,b=r.defaultVMetrics,x=s*n.fontMatrix[0],D=n.textRenderingMode===Wn.FILL&&!r.disableFontFace&&!n.patternFill;a.save(),n.textMatrix&&a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),h>0?a.scale(p,-1):a.scale(p,1);let w,T;if(n.patternFill){a.save();const O=n.fillColor.getPattern(a,this,Nr(a),qn.FILL,e);w=Zt(a),a.restore(),a.fillStyle=O}if(n.patternStroke){a.save();const O=n.strokeColor.getPattern(a,this,Nr(a),qn.STROKE,e);T=Zt(a),a.restore(),a.strokeStyle=O}let C=n.lineWidth;const E=n.textMatrixScale;if(E===0||C===0){const O=n.textRenderingMode&Wn.FILL_STROKE_MASK;(O===Wn.STROKE||O===Wn.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=E;if(l!==1&&(a.scale(l,l),C/=l),a.lineWidth=C,r.isInvalidPDFjsFont){const O=[];let R=0;for(const Z of t)O.push(Z.unicode),R+=Z.width;const z=O.join("");if(a.fillText(z,0,0),this.dependencyTracker!==null){const Z=a.measureText(z);this.dependencyTracker.recordBBox(e,this.ctx,-Z.actualBoundingBoxLeft,Z.actualBoundingBoxRight,-Z.actualBoundingBoxAscent,Z.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=R*x*p,a.restore(),this.compose();return}let S=0,k;for(k=0;k<g;++k){const O=t[k];if(typeof O=="number"){S+=v*O*s/1e3;continue}let R=!1;const z=(O.isSpace?d:0)+c,Z=O.fontChar,F=O.accent;let W,M,Y=O.width;if(m){const V=O.vmetric||b,K=-(O.vmetric?V[1]:Y*.5)*x,ae=V[2]*x;Y=V?-V[0]:Y,W=K/l,M=(S+ae)/l}else W=S/l,M=0;let B;if(r.remeasure&&Y>0){B=a.measureText(Z);const V=B.width*1e3/s*l;if(Y<V&&this.isFontSubpixelAAEnabled){const K=Y/V;R=!0,a.save(),a.scale(K,1),W/=K}else Y!==V&&(W+=(Y-V)/2e3*s/l)}if(this.contentVisible&&(O.isInFont||r.missingFile)){if(D&&!F)a.fillText(Z,W,M),this.dependencyTracker?.recordCharacterBBox(e,a,B?{bbox:null}:r,s/l,W,M,()=>B??a.measureText(Z));else if(this.paintChar(e,Z,W,M,w,T),F){const V=W+s*F.offset.x/l,K=M-s*F.offset.y/l;this.paintChar(e,F.fontChar,V,K,w,T)}}const I=m?Y*x-z*h:Y*x+z*h;S+=I,R&&a.restore()}m?n.y-=S:n.x+=S*p,a.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,r=this.current,s=r.font,a=r.fontSize,l=r.fontDirection,c=s.vertical?1:-1,d=r.charSpacing,h=r.wordSpacing,p=r.textHScale*l,g=r.fontMatrix||X0,m=t.length,v=r.textRenderingMode===Wn.INVISIBLE;let b,x,D,w;if(v||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(p,l);const T=this.dependencyTracker;for(this.dependencyTracker=T?new Gf(T,e):null,b=0;b<m;++b){if(x=t[b],typeof x=="number"){w=c*x*a/1e3,this.ctx.translate(w,0),r.x+=w*p;continue}const C=(x.isSpace?h:0)+d,E=s.charProcOperatorList[x.operatorListId];E?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...g),this.executeOperatorList(E),this.restore()):st(`Type3 character "${x.operatorListId}" is not available.`);const S=[x.width,0];je.applyTransform(S,g),D=S[0]*a+C,n.translate(D,0),r.x+=D*p}n.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,r,s,a,l){const c=new Path2D;c.rect(r,s,a-r,l-s),this.ctx.clip(c),this.dependencyTracker?.recordBBox(e,this.ctx,r,a,s,l).recordClipBox(e,this.ctx,r,a,s,l),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const r=this.baseTransform||Zt(this.ctx),s={createCanvasGraphics:(a,l)=>new zl(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Gf(this.dependencyTracker,l,!0):null)};n=new Y1(t,this.ctx,s,r)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=a8(this.getObject(e,t)),this.cachedPatterns.set(t,r)),n&&(r.matrix=n),r}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const r=this._getPattern(e,t);n.fillStyle=r.getPattern(n,this,Nr(n),qn.SHADING,e);const s=Nr(n);if(s){const{width:a,height:l}=n.canvas,c=Fl.slice();je.axialAlignedBoundingBox([0,0,a,l],s,c);const[d,h,p,g]=c;this.ctx.fillRect(d,h,p-d,g-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,nr.transform).recordDependencies(e,nr.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){jt("Should not call beginInlineImage")}beginImageData(){jt("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Zt(this.ctx),n)){je.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,s,a,l]=n,c=new Path2D;c.rect(r,s,a-r,l-s),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(e,this.ctx,r,a,s,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||Gp("TODO: Support non-isolated groups."),t.knockout&&st("Knockout groups not supported.");const r=Zt(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Fl.slice();je.axialAlignedBoundingBox(t.bbox,Zt(n),s);const a=[0,0,n.canvas.width,n.canvas.height];s=je.intersect(s,a)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),d=Math.max(Math.ceil(s[2])-l,1),h=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,h]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,d,h),m=g.context;m.translate(-l,-c),m.transform(...r);let v=new Path2D;const[b,x,D,w]=t.bbox;if(v.rect(b,x,D-b,w-x),t.matrix){const T=new Path2D;T.addPath(v,new DOMMatrix(t.matrix)),v=T}m.clip(v),t.smask&&this.smaskStack.push({canvas:g.canvas,context:m,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(l,c),n.save()),eu(n,m),this.ctx=m,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Zt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const a=Fl.slice();je.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,a),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,n,r,s,a){if(this.#e(),Ih(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const l=n[2]-n[0],c=n[3]-n[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=c,je.singularValueDecompose2dScale(Zt(this.ctx),Pi);const{viewportScale:d}=this,h=Math.ceil(l*this.outputScaleX*d),p=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:g,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(Pi[0],0,0,-Pi[1],0,c*Pi[1]),Ih(this.ctx)}else{Ih(this.ctx),this.endPath(e);const d=new Path2D;d.rect(n[0],n[1],l,c),this.ctx.clip(d)}}this.current=new tT(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const r=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,r=0,s=0,a,l){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const d=Zt(c);c.transform(n,r,s,a,0,0);const h=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,g=l.length;p<g;p+=2){const m=je.transform(d,[n,r,s,a,l[p],l[p+1]]);c.drawImage(h.canvas,m[4],m[5]),this.dependencyTracker?.recordBBox(e,this.ctx,m[4],m[4]+h.canvas.width,m[5],m[5]+h.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,nr.transformAndFill);for(const a of t){const{data:l,width:c,height:d,transform:h}=a,p=this.cachedCanvases.getCanvas("maskCanvas",c,d),g=p.context;g.save();const m=this.getObject(e,l,a);iT(g,m),g.globalCompositeOperation="source-in",g.fillStyle=s?r.getPattern(g,this,Nr(n),qn.FILL,e):r,g.fillRect(0,0,c,d),g.restore(),n.save(),n.transform(...h),n.scale(1,-1),Lh(n,p.canvas,0,0,c,d,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,c,0,d),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){st("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,r,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){st("Dependent image isn't ready yet");return}const l=a.width,c=a.height,d=[];for(let h=0,p=s.length;h<p;h+=2)d.push({transform:[n,0,0,r,s[h],s[h+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,a,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/n,-1/r);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",n,r).context;nT(h,t),l=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(l,Nr(s));s.imageSmoothingEnabled=rT(Zt(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,n,-r,0).recordDependencies(e,nr.imageXObject).recordOperation(e),Lh(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-r,n,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const a=t.width,l=t.height,d=this.cachedCanvases.getCanvas("inlineImage",a,l).context;nT(d,t),s=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(e);for(const a of n)r.save(),r.transform(...a.transform),r.scale(1,-1),Lh(r,s,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,nr.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===sT?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Zt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:s}=this.ctx.getTransform();let a,l;if(n===0&&r===0){const c=Math.abs(t),d=Math.abs(s);if(c===d)if(e===0)a=l=1/c;else{const h=c*e;a=l=h<1?1/h:1}else if(e===0)a=1/c,l=1/d;else{const h=c*e,p=d*e;a=h<1?1/h:1,l=p<1?1/p:1}}else{const c=Math.abs(t*s-n*r),d=Math.hypot(t,n),h=Math.hypot(r,s);if(e===0)a=h/c,l=d/c;else{const p=e*c;a=h>p?h/p:1,l=d>p?d/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){n.lineWidth=(r||1)*s,n.stroke(e);return}const l=n.getLineDash();t&&n.save(),n.scale(s,a),ib.a=1/s,ib.d=1/a;const c=new Path2D;if(c.addPath(e,ib),l.length>0){const d=Math.max(s,a);n.setLineDash(l.map(h=>h/d)),n.lineDashOffset/=d}n.lineWidth=r||1,n.stroke(c),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const i in Bu)zl.prototype[i]!==void 0&&(zl.prototype[Bu[i]]=zl.prototype[i]);class Wl{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class p8{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Cl=Symbol("INTERNAL");class g8{#e=!1;#t=!1;#i=!1;#n=!0;constructor(e,{name:t,intent:n,usage:r,rbGroups:s}){this.#e=!!(e&Ii.DISPLAY),this.#t=!!(e&Ii.PRINT),this.name=t,this.intent=n,this.usage=r,this.rbGroups=s}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==Cl&&jt("Internal method `_setVisible` called."),this.#i=n,this.#n=t}}class m8{#e=null;#t=new Map;#i=null;#n=null;constructor(e,t=Ii.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const n of e.groups)this.#t.set(n.id,new g8(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(Cl,!1);for(const n of e.on)this.#t.get(n)._setVisible(Cl,!0);for(const n of e.off)this.#t.get(n)._setVisible(Cl,!1);this.#i=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=this.#a(s);else if(this.#t.has(s))a=this.#t.get(s).visible;else return st(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Gp("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(st(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return st(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return st(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return st(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return st(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return st(`Unknown optional content policy ${e.policy}.`),!0}return st(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const r=this.#t.get(e);if(!r){st(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const s of r.rbGroups)for(const a of s)a!==e&&this.#t.get(a)?._setVisible(Cl,!1,!0);r._setVisible(Cl,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=this.#t.get(r);if(s)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new LC;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class y8{constructor(e,{disableRange:t=!1,disableStream:n=!1}){wt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=l,s?.length>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});wt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){wt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new b8(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new v8(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class b8{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=H1(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class v8{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function x8(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let h=l(t);return h=unescape(h),h=c(h),h=d(h),s(h)}if(t=a(i),t){const h=d(t);return s(h)}if(t=n("filename","i").exec(i),t){t=t[1];let h=l(t);return h=d(h),s(h)}function n(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(h,{fatal:!0}),m=sd(p);p=g.decode(m),e=!1}catch{}}return p}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function a(h){const p=[];let g;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=m.exec(h))!==null;){let[,b,x,D]=g;if(b=parseInt(b,10),b in p){if(b===0)break;continue}p[b]=[x,D]}const v=[];for(let b=0;b<p.length&&b in p;++b){let[x,D]=p[b];D=l(D),x&&(D=unescape(D),b===0&&(D=c(D))),v.push(D)}return v.join("")}function l(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let g=0;g<p.length;++g){const m=p[g].indexOf('"');m!==-1&&(p[g]=p[g].slice(0,m),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function c(h){const p=h.indexOf("'");if(p===-1)return h;const g=h.slice(0,p),v=h.slice(p+1).replace(/^[^']*'/,"");return r(g,v)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,m,v){if(m==="q"||m==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,x){return String.fromCharCode(parseInt(x,16))}),r(g,v);try{v=atob(v)}catch{}return r(g,v)})}return""}function qC(i,e){const t=new Headers;if(!i||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function Yp(i){return URL.parse(i)?.origin??null}function VC({responseHeaders:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||n||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function GC(i){const e=i.get("Content-Disposition");if(e){let t=x8(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(H1(t))return t}return null}function ud(i,e){return new Vf(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i,i===404||i===0&&e.startsWith("file:"))}function XC(i){return i===200||i===206}function $C(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function YC(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(st(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class D8{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=qC(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return wt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new w8(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new A8(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class w8{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,$C(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=Yp(s.url),!XC(s.status))throw ud(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:l,suggestedLength:c}=VC({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=GC(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new xa("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:YC(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class A8{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const a=r.url;fetch(a,$C(s,this._withCredentials,this._abortController)).then(l=>{const c=Yp(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!XC(l.status))throw ud(l.status,a);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:YC(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const rb=200,sb=206;function T8(i){const e=i.response;return typeof e!="string"?e:sd(e).buffer}class _8{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=qC(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=sb):r.expectedStatus=rb,t.responseType="arraybuffer",wt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){n.onError(r.status);return}const s=r.status||rb;if(!(s===rb&&n.expectedStatus===sb)&&s!==n.expectedStatus){n.onError(r.status);return}const l=T8(r);if(s===sb){const c=r.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?n.onDone({begin:parseInt(d[1],10),chunk:l}):(st('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class E8{constructor(e){this._source=e,this._manager=new _8(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return wt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new S8(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new C8(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class S8{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Yp(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...d]=l.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=VC({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=GC(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ud(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class C8{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Yp(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=ud(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const k8=/^[a-z][a-z0-9\-+.]+:/i;function U8(i){if(k8.test(i))return new URL(i);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(i))}class M8{constructor(e){this.source=e,this.url=U8(e.url),wt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return wt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new R8(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new O8(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class R8{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=ud(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new xa("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class O8{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const tu=Symbol("INITIAL_DATA");class KC{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:tu}}get(e,t=null){if(t){const r=this.#t(e);return r.promise.then(()=>t(r.data)),null}const n=this.#e[e];if(!n||n.data===tu)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==tu}delete(e){const t=this.#e[e];return!t||t.data===tu?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==tu&&(yield[e,t])}}}const N8=1e5,aT=30;class ii{#e=Promise.withResolvers();#t=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#m=[];#g=null;#u=[];#p=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#_=new WeakMap;static#A=null;static#D=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#g=e;else if(typeof e=="object")this.#g=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#d=n.scale*jr.pixelRatio,this.#h=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:a,pageY:l}=n.rawDims;this.#y=[1,0,0,-1,-a,l+s],this.#o=r,this.#r=s,ii.#k(),bo(t,n),this.#e.promise.finally(()=>{ii.#D.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Xn.platform;return lt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#f,t.styles),this.#S(t.items),e()},this.#e.reject)};return this.#c=this.#g.getReader(),ii.#D.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*jr.pixelRatio,r=e.rotation;if(r!==this.#h&&(t?.(),this.#h=r,bo(this.#l,{rotation:r})),n!==this.#d){t?.(),this.#d=n;const s={div:null,properties:null,ctx:ii.#U(this.#a)};for(const a of this.#u)s.properties=this.#p.get(a),s.div=a,this.#T(s)}}cancel(){const e=new xa("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#S(e){if(this.#i)return;this.#s.ctx??=ii.#U(this.#a);const t=this.#u,n=this.#m;for(const r of e){if(t.length>N8){st("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id&&this.#t.setAttribute("id",`${r.id}`),s.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(r.str),this.#x(r)}}#x(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const r=je.transform(this.#y,e.transform);let s=Math.atan2(r[1],r[0]);const a=this.#f[e.fontName];a.vertical&&(s+=Math.PI/2);let l=this.#n&&a.fontSubstitution||a.fontFamily;l=ii.fontFamilyMap.get(l)||l;const c=Math.hypot(r[2],r[3]),d=c*ii.#L(l,a,this.#a);let h,p;s===0?(h=r[4],p=r[5]-d):(h=r[4]+d*Math.sin(s),p=r[5]-d*Math.cos(s));const g="calc(var(--total-scale-factor) *",m=t.style;this.#t===this.#l?(m.left=`${(100*h/this.#o).toFixed(2)}%`,m.top=`${(100*p/this.#r).toFixed(2)}%`):(m.left=`${g}${h.toFixed(2)}px)`,m.top=`${g}${p.toFixed(2)}px)`),m.fontSize=`${g}${(ii.#A*c).toFixed(2)}px)`,m.fontFamily=l,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);b!==x&&Math.max(b,x)/Math.min(b,x)>1.5&&(v=!0)}if(v&&(n.canvasWidth=a.vertical?e.height:e.width),this.#p.set(t,n),this.#s.div=t,this.#s.properties=n,this.#T(this.#s),n.hasText&&this.#t.append(t),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this.#t.append(b)}}#T(e){const{div:t,properties:n,ctx:r}=e,{style:s}=t;let a="";if(ii.#A>1&&(a=`scale(${1/ii.#A})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:d}=n;ii.#C(r,d*this.#d,l);const{width:h}=r.measureText(t.textContent);h>0&&(a=`scaleX(${c*this.#d/h}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)}static cleanup(){if(!(this.#D.size>0)){this.#v.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#U(e=null){let t=this.#b.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,t),this.#_.set(t,{size:0,family:""})}return t}static#C(e,t,n){const r=this.#_.get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)}static#k(){if(this.#A!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#A=e.getBoundingClientRect().height,e.remove()}static#L(e,t,n){const r=this.#v.get(e);if(r)return r;const s=this.#U(n);s.canvas.width=s.canvas.height=aT,this.#C(s,aT,e);const a=s.measureText(""),l=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let d=.8;return l?d=l/(l+c):(Xn.platform.isFirefox&&st("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?d=t.ascent:t.descent&&(d=1+t.descent)),this.#v.set(e,d),d}}const F8=100;function ZC(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new K1,{docId:t}=e,n=i.url?j5(i.url):null,r=i.data?H5(i.data):null,s=i.httpHeaders||null,a=i.withCredentials===!0,l=i.password??null,c=i.range instanceof QC?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let h=i.worker instanceof Iu?i.worker:null;const p=i.verbosity,g=typeof i.docBaseUrl=="string"&&!Xp(i.docBaseUrl)?i.docBaseUrl:null,m=Oh(i.cMapUrl),v=i.cMapPacked!==!1,b=i.CMapReaderFactory||(ri?Z5:GA),x=Oh(i.iccUrl),D=Oh(i.standardFontDataUrl),w=i.StandardFontDataFactory||(ri?Q5:XA),T=Oh(i.wasmUrl),C=i.WasmFactory||(ri?J5:$A),E=i.stopAtErrors!==!0,S=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,k=i.isEvalSupported!==!1,O=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!ri,R=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!ri&&(Xn.platform.isFirefox||!globalThis.chrome),z=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,Z=typeof i.disableFontFace=="boolean"?i.disableFontFace:ri,F=i.fontExtraProperties===!0,W=i.enableXfa===!0,M=i.ownerDocument||globalThis.document,Y=i.disableRange===!0,B=i.disableStream===!0,I=i.disableAutoFetch===!0,V=i.pdfBug===!0,K=i.CanvasFactory||(ri?K5:X5),ae=i.FilterFactory||(ri?Y5:$5),L=i.enableHWA===!0,H=i.useWasm!==!1,G=c?c.length:i.length??NaN,te=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!ri&&!Z,ce=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(b===GA&&w===XA&&C===$A&&m&&D&&T&&yu(m,document.baseURI)&&yu(D,document.baseURI)&&yu(T,document.baseURI)),we=null;g5(p);const ge={canvasFactory:new K({ownerDocument:M,enableHWA:L}),filterFactory:new ae({docId:t,ownerDocument:M}),cMapReaderFactory:ce?null:new b({baseUrl:m,isCompressed:v}),standardFontDataFactory:ce?null:new w({baseUrl:D}),wasmFactory:ce?null:new C({baseUrl:T})};h||(h=Iu.create({verbosity:p,port:Wl.workerPort}),e._worker=h);const Ce={docId:t,apiVersion:"5.4.394",data:r,password:l,disableAutoFetch:I,rangeChunkSize:d,length:G,docBaseUrl:g,enableXfa:W,evaluatorOptions:{maxImageSize:S,disableFontFace:Z,ignoreErrors:E,isEvalSupported:k,isOffscreenCanvasSupported:O,isImageDecoderSupported:R,canvasMaxAreaInBytes:z,fontExtraProperties:F,useSystemFonts:te,useWasm:H,useWorkerFetch:ce,cMapUrl:m,iccUrl:x,standardFontDataUrl:D,wasmUrl:T}},Ue={ownerDocument:M,pdfBug:V,styleElement:we,loadingParams:{disableAutoFetch:I,enableXfa:W}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Fe=h.messageHandler.sendWithPromise("GetDocRequest",Ce,r?[r.buffer]:null);let Pe;if(c)Pe=new y8(c,{disableRange:Y,disableStream:B});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Qe=yu(n)?D8:ri?M8:E8;Pe=new Qe({url:n,length:G,httpHeaders:s,withCredentials:a,rangeChunkSize:d,disableRange:Y,disableStream:B})}return Fe.then(Qe=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const pt=new bu(t,Qe,h.port),U=new I8(pt,e,Pe,Ue,ge,L);e._transport=U,pt.send("Ready",null)})}).catch(e._capability.reject),e}class K1{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${K1.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class QC{#e=Promise.withResolvers();#t=[];#i=[];#n=[];#a=[];constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#i.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#a)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#n)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#i)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){jt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class B8{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return lt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class L8{#e=!1;constructor(e,t,n,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new PA:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new KC,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new od({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return lt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:r="display",annotationMode:s=aa.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:h=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:m=!1,operationsFilter:v=null}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(r,s,p,g),{renderingIntent:x,cacheKey:D}=b;this.#e=!1,c||=this._transport.getOptionalContentConfig(x);let w=this._intentStates.get(D);w||(w=Object.create(null),this._intentStates.set(D,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const T=!!(x&Ii.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const C=!!(this._pdfBug&&globalThis.StepperManager?.enabled),E=!this.recordedBBoxes&&(m||C),S=R=>{if(w.renderTasks.delete(k),E){const z=k.gfx?.dependencyTracker.take();z&&(k.stepper&&k.stepper.setOperatorBBoxes(z,k.gfx.dependencyTracker.takeDebugMetadata()),m&&(this.recordedBBoxes=z))}T&&(this.#e=!0),this.#t(),R?(k.capability.reject(R),this._abortOperatorList({intentState:w,reason:R instanceof Error?R:new Error(R)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new Bl({callback:S,params:{canvas:t,canvasContext:e,dependencyTracker:E?new t8(t,w.operatorList.length,C):null,viewport:n,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:v});(w.renderTasks||=new Set).add(k);const O=k.task;return Promise.all([w.displayReadyCapability.promise,c]).then(([R,z])=>{if(this.destroyed){S();return}if(this._stats?.time("Rendering"),!(z.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:R,optionalContentConfig:z}),k.operatorListChanged()}).catch(S),O}getOperatorList({intent:e="display",annotationMode:t=aa.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(e,t,n,r,!0);let l=this._intentStates.get(a.cacheKey);l||(l=Object.create(null),this._intentStates.set(a.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Lu.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function s(){a.read().then(function({value:c,done:d}){if(d){n(l);return}l.lang??=c.lang,Object.assign(l.styles,c.styles),l.items.push(...c.items),s()},r)}const a=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new PA),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:s,transfer:a}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},a).getReader(),d=this._intentStates.get(t);d.streamReader=c;const h=()=>{c.read().then(({value:p,done:g})=>{if(g){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),h())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const g of d.renderTasks)g.operatorListChanged();this.#t()}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof j1){let r=F8;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new xa(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var ca,wr,xs,oo,jp,lo,co,oi,mf,JC,ek,vu,Gl,yf;const Kt=class Kt{constructor({name:e=null,port:t=null,verbosity:n=m5()}={}){Rr(this,oi);Rr(this,ca,Promise.withResolvers());Rr(this,wr,null);Rr(this,xs,null);Rr(this,oo,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(Yt(Kt,co).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Yt(Kt,co).set(t,this),Or(this,oi,JC).call(this,t)}else Or(this,oi,ek).call(this)}get promise(){return Yt(this,ca).promise}get port(){return Yt(this,xs)}get messageHandler(){return Yt(this,wr)}destroy(){this.destroyed=!0,Yt(this,oo)?.terminate(),vi(this,oo,null),Yt(Kt,co).delete(Yt(this,xs)),vi(this,xs,null),Yt(this,wr)?.destroy(),vi(this,wr,null)}static create(e){const t=Yt(this,co).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Kt(e)}static get workerSrc(){if(Wl.workerSrc)return Wl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return lt(this,"_setupFakeWorkerGlobal",(async()=>Yt(this,Gl,yf)?Yt(this,Gl,yf):(await import(this.workerSrc)).WorkerMessageHandler)())}};ca=new WeakMap,wr=new WeakMap,xs=new WeakMap,oo=new WeakMap,jp=new WeakMap,lo=new WeakMap,co=new WeakMap,oi=new WeakSet,mf=function(){Yt(this,ca).resolve(),Yt(this,wr).send("configure",{verbosity:this.verbosity})},JC=function(e){vi(this,xs,e),vi(this,wr,new bu("main","worker",e)),Yt(this,wr).on("ready",()=>{}),Or(this,oi,mf).call(this)},ek=function(){if(Yt(Kt,lo)||Yt(Kt,Gl,yf)){Or(this,oi,vu).call(this);return}let{workerSrc:e}=Kt;try{Kt._isSameOrigin(window.location,e)||(e=Kt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new bu("main","worker",t),r=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?Yt(this,ca).reject(new Error("Worker was destroyed")):Or(this,oi,vu).call(this)},s=new AbortController;t.addEventListener("error",()=>{Yt(this,oo)||r()},{signal:s.signal}),n.on("test",l=>{if(s.abort(),this.destroyed||!l){r();return}vi(this,wr,n),vi(this,xs,t),vi(this,oo,t),Or(this,oi,mf).call(this)}),n.on("ready",l=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{Or(this,oi,vu).call(this)}});const a=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};a();return}catch{Gp("The worker has been disabled.")}Or(this,oi,vu).call(this)},vu=function(){Yt(Kt,lo)||(st("Setting up fake worker."),vi(Kt,lo,!0)),Kt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Yt(this,ca).reject(new Error("Worker was destroyed"));return}const t=new G5;vi(this,xs,t);const n=`fake${EA(Kt,jp)._++}`,r=new bu(n+"_worker",n,t);e.setup(r,t),vi(this,wr,new bu(n,n+"_worker",t)),Or(this,oi,mf).call(this)}).catch(e=>{Yt(this,ca).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Gl=new WeakSet,yf=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Rr(Kt,Gl),Rr(Kt,jp,0),Rr(Kt,lo,!1),Rr(Kt,co,new WeakMap),ri&&(vi(Kt,lo,!0),Wl.workerSrc||="./pdf.worker.mjs"),Kt._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const r=new URL(t,n);return n.origin===r.origin},Kt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Kt.fromPort=e=>{if(C5("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Kt.create(e)};let Iu=Kt;class I8{#e=new Map;#t=new Map;#i=new Map;#n=new Map;#a=null;constructor(e,t,n,r,s,a){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new KC,this.fontLoader=new z5({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}#s(e,t=null){const n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,r),r}get annotationStorage(){return lt(this,"annotationStorage",new G1)}getRenderingIntent(e,t=aa.ENABLE,n=null,r=!1,s=!1){let a=Ii.DISPLAY,l=J0;switch(e){case"any":a=Ii.ANY;break;case"display":break;case"print":a=Ii.PRINT;break;default:st(`getRenderingIntent - invalid intent: ${e}`)}const c=a&Ii.PRINT&&n instanceof IC?n:this.annotationStorage;switch(t){case aa.DISABLE:a+=Ii.ANNOTATIONS_DISABLE;break;case aa.ENABLE:break;case aa.ENABLE_FORMS:a+=Ii.ANNOTATIONS_FORMS;break;case aa.ENABLE_STORAGE:a+=Ii.ANNOTATIONS_STORAGE,l=c.serializable;break;default:st(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=Ii.IS_EDITING),s&&(a+=Ii.OPLIST);const{ids:d,hash:h}=c.modifiedIds,p=[a,l.hash,h];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),ii.cleanup(),this._networkStream?.cancelAllRequests(new xa("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{wt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}wt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{t.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,r)=>{wt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:l}){if(l){r.close();return}wt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new B8(n,this))}),e.on("DocException",n=>{t._capability.reject(xi(n))}),e.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!t.onPassword)throw xi(n);const r=s=>{s instanceof Error?this.#a.reject(s):this.#a.resolve({password:s})};t.onPassword(r,n.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in s){const p=s.error;st(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const a=new Pt(s),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,c=new W5(a,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:d}=s;wt(d,"The imageRef must be defined.");for(const p of this.#t.values())for(const[,g]of p.objs)if(g?.ref===d)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(n,s);break;case"Pattern":const h=new Mn(s);this.commonObjs.resolve(n,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,s,a])=>{if(this.destroyed)return;const l=this.#t.get(r);if(!l.objs.has(n)){if(l._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":case"Pattern":l.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&st("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#i.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#n.set(s.refStr,e);const a=new L8(t,s,this,this._params.pdfBug);return this.#t.set(t,a),a});return this.#i.set(t,r),r}getPageIndex(e){return e1(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(t=>new m8(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new p8(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),ii.cleanup()}}cachedPageNumber(e){if(!e1(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(t)??null}}class P8{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class Bl{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:l,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:g=null,enableHWA:m=!1,operationsFilter:v=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new P8(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=m,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Bl.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Bl.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:r,background:s,dependencyTracker:a}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new zl(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Bl.#t.delete(this._canvas),e||=new j1(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Bl.#t.delete(this._canvas),this.callback())))}}const tk="5.4.394",z8="2cc809ade";class or{#e=null;#t=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return lt(this,"_keyboardManager",new cd([[["Escape","mac+Escape"],or.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],or.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],or.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],or.prototype._moveToPrevious],[["Home","mac+Home"],or.prototype._moveToBeginning],[["End","mac+End"],or.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#s=!1,this.#r=e):this.#s=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#i=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",or.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#r&&(e.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#g.bind(this),{signal:t}),e.addEventListener("keydown",this.#m.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,e.append(n),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",fr,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(e.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",or.#h[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===this.#i,s.addEventListener("click",this.#f.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#m.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Dt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#g(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#p){this.#g(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#g(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#g(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#p){this.#g(e);return}this.#n.lastChild?.focus()}#m(e){or._keyboardManager.exec(this,e)}#g(e){if(this.#p){this.hideDropdown();return}if(this.#a=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#d();this.#e.append(t)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Pu{#e=null;#t=null;#i=null;static#n=null;constructor(e){this.#t=e,this.#i=e._uiManager,Pu.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,color:n}=this.#t,r=this.#e=document.createElement("input");return r.type="color",r.value=n||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Pu.#n[e]),r.addEventListener("input",()=>{this.#i.updateParams(t,r.value)},{signal:this.#i._signal}),r}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function oT(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function nu(i){return Math.max(0,Math.min(255,255*i))}class lT{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=nu(e),[e,e,e]}static G_HTML([e]){const t=oT(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(nu)}static RGB_HTML(e){return`#${e.map(oT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[nu(1-Math.min(1,e+r)),nu(1-Math.min(1,n+r)),nu(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,s=1-t,a=1-n,l=Math.min(r,s,a);return["CMYK",r,s,a,l]}}class W8{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){jt("Abstract method `_createSVG` called.")}}class Xf extends W8{_createSVG(e){return document.createElementNS(ms,e)}}const j8=9,vo=new WeakSet,H8=new Date().getTimezoneOffset()*60*1e3;class ab{static create(e){switch(e.data.annotationType){case xn.LINK:return new Z1(e);case xn.TEXT:return new V8(e);case xn.WIDGET:switch(e.data.fieldType){case"Tx":return new G8(e);case"Btn":return e.data.radioButton?new nk(e):e.data.checkBox?new $8(e):new Y8(e);case"Ch":return new K8(e);case"Sig":return new X8(e)}return new Co(e);case xn.POPUP:return new i1(e);case xn.FREETEXT:return new ik(e);case xn.LINE:return new Q8(e);case xn.SQUARE:return new J8(e);case xn.CIRCLE:return new eF(e);case xn.POLYLINE:return new rk(e);case xn.CARET:return new nF(e);case xn.INK:return new Q1(e);case xn.POLYGON:return new tF(e);case xn.HIGHLIGHT:return new sk(e);case xn.UNDERLINE:return new iF(e);case xn.SQUIGGLY:return new rF(e);case xn.STRIKEOUT:return new sF(e);case xn.STAMP:return new ak(e);case xn.FILEATTACHMENT:return new aF(e);default:return new Jt(e)}}}class Jt{#e=null;#t=!1;#i=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Jt._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:r}=this.data;let s=-1/0,a=-1/0;if(t?.length>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if(n?.length>=1){for(const l of n)for(let c=0,d=l.length;c<d;c+=2)l[c+1]>a?(a=l[c+1],s=l[c]):l[c+1]===a&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,a]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-a)/r,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Fu}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${Fu}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#n(t);let r=this.#i?.popup||this.popup;!r&&n?.text&&(this._createPopup(n),r=this.#i.popup),r&&(r.updateEdited(e),n?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:l,pageY:c}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(a-e[3]+c)/a}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Co)&&!(this instanceof Z1)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof i1){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,x=t.borderStyle.verticalCornerRadius;if(b>0||x>0){const w=`calc(${b}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof nk){const w=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;a.borderRadius=w}switch(t.borderStyle.style){case Sl.SOLID:a.borderStyle="solid";break;case Sl.DASHED:a.borderStyle="dashed";break;case Sl.BEVELED:st("Unimplemented border style: beveled");break;case Sl.INSET:st("Unimplemented border style: inset");break;case Sl.UNDERLINE:a.borderBottomStyle="solid";break}const D=t.borderColor||null;D?(this.#t=!0,a.borderColor=je.makeHexColor(D[0]|0,D[1]|0,D[2]|0)):a.borderWidth=0}const d=je.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:p,pageX:g,pageY:m}=r.rawDims;a.left=`${100*(d[0]-g)/h}%`,a.top=`${100*(d[1]-m)/p}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(a.width=`${100*l/h}%`,a.height=`${100*c/p}%`):this.setRotation(v,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*a/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const s=r.detail[t],a=s[0],l=s.slice(1);r.target.style[n]=lT[`${a}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:lT[`${a}_rgb`](l)})};return lt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||n[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,s]of Object.entries(t)){const a=n[r];if(a){const l={detail:{[r]:s},target:e};a(l),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,x,D,w]=e.subarray(2,6);if(r===b&&s===x&&t===D&&n===w)return}const{style:a}=this.container;let l;if(this.#t){const{borderColor:b,borderWidth:x}=a;a.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const c=r-t,d=s-n,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=h.createElement("defs");p.append(g);const m=h.createElement("clipPath"),v=`clippath_${this.data.id}`;m.setAttribute("id",v),m.setAttribute("clipPathUnits","objectBoundingBox"),g.append(m);for(let b=2,x=e.length;b<x;b+=8){const D=e[b],w=e[b+1],T=e[b+2],C=e[b+3],E=h.createElement("rect"),S=(T-t)/c,k=(s-w)/d,O=(D-T)/c,R=(w-C)/d;E.setAttribute("x",S),E.setAttribute("y",k),E.setAttribute("width",O),E.setAttribute("height",R),m.append(E),l?.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${k}" width="${O}" height="${R}"/>`)}this.#t&&(l.push("</g></svg>')"),a.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:t}=this;let n,r;e?(n={str:e.text},r=e.date):(n=t.contentsObj,r=t.modificationDate),this.#i=new i1({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){jt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:l}of r){if(s===-1||a===t)continue;const c=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!vo.has(d)){st(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:c,domElement:d})}return n}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&vo.has(r)&&n.push({id:a,exportValue:s,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class q8 extends Jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class Z1 extends Jt{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),r=!0):e.attachment?(this.#t(n,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(this.#i(n,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&(this.contentElement=n,this.container.append(n)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#e()}#t(e,t,n="",r=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#e()}#i(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const s=n.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){st('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:r,refs:s,include:a}=t,l=[];if(r.length!==0||s.length!==0){const h=new Set(s);for(const p of r){const g=this._fieldObjects[p]||[];for(const{id:m}of g)h.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)h.has(g.id)===a&&l.push(g)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const c=this.annotationStorage,d=[];for(const h of l){const{id:p}=h;switch(d.push(p),h.type){case"text":{const m=h.defaultValue||"";c.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=h.defaultValue===h.exportValues;c.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=h.defaultValue||"";c.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!vo.has(g)){st(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class V8 extends Jt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Co extends Jt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Xn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,s){n.includes("mouse")?e.addEventListener(n,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}})})}_setEventListeners(e,t,n,r){for(const[s,a]of n)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,a,r),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":je.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||j8,s=e.style;let a;const l=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/(Qy*r))||1,p=d/h;a=Math.min(r,c(p/Qy))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);a=Math.min(r,c(d/Qy))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=je.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class G8 extends Co{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let s=r.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let l=r.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",l??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),vo.add(n),this.contentElement=n,n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:h,timeStep:p}=this.data,g=!!h&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",v=>{e.setValue(t,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",v=>{const b=this.data.defaultFieldValue??"";n.value=c.userValue=b,c.formattedValue=null});let m=v=>{const{formattedValue:b}=c;b!=null&&(v.target.value=b),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",b=>{if(c.focused)return;const{target:x}=b;if(g&&(x.type=h,p&&(x.step=p)),c.userValue){const D=c.userValue;if(g)if(h==="time"){const w=new Date(D),T=[w.getHours(),w.getMinutes(),w.getSeconds()];x.value=T.map(C=>C.toString().padStart(2,"0")).join(":")}else x.value=new Date(D-H8).toISOString().split(h==="date"?"T":".",1)[0];else x.value=D}c.lastCommittedValue=x.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const x={value(D){c.userValue=D.detail.value??"",g||e.setValue(t,{value:c.userValue.toString()}),D.target.value=c.userValue},formattedValue(D){const{formattedValue:w}=D.detail;c.formattedValue=w,w!=null&&D.target!==document.activeElement&&(D.target.value=w);const T={formattedValue:w};g&&(T.value=w),e.setValue(t,T)},selRange(D){D.target.setSelectionRange(...D.detail.selRange)},charLimit:D=>{const{charLimit:w}=D.detail,{target:T}=D;if(w===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",w);let C=c.userValue;!C||C.length<=w||(C=C.slice(0,w),T.value=c.userValue=C,e.setValue(t,{value:C}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(x,b)}),n.addEventListener("keydown",b=>{c.commitKey=1;let x=-1;if(b.key==="Escape"?x=0:b.key==="Enter"&&!this.data.multiLine?x=2:b.key==="Tab"&&(c.commitKey=3),x===-1)return;const{value:D}=b.target;c.lastCommittedValue!==D&&(c.lastCommittedValue=D,c.userValue=D,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:x,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const v=m;m=null,n.addEventListener("blur",b=>{if(!c.focused||!b.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:x}=b;let{value:D}=x;if(g){if(D&&h==="time"){const w=D.split(":").map(T=>parseInt(T,10));D=new Date(2e3,0,1,w[0],w[1],w[2]||0).valueOf(),x.step=""}else D.includes("T")||(D=`${D}T00:00`),D=new Date(D).valueOf();x.type="text"}c.userValue=D,c.lastCommittedValue!==D&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:c.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}),v(b)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",b=>{c.lastCommittedValue=null;const{data:x,target:D}=b,{value:w,selectionStart:T,selectionEnd:C}=D;let E=T,S=C;switch(b.inputType){case"deleteWordBackward":{const k=w.substring(0,T).match(/\w*[^\w]*$/);k&&(E-=k[0].length);break}case"deleteWordForward":{const k=w.substring(T).match(/^[^\w]*\w*/);k&&(S+=k[0].length);break}case"deleteContentBackward":T===C&&(E-=1);break;case"deleteContentForward":T===C&&(S+=1);break}b.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,change:x||"",willCommit:!1,selStart:E,selEnd:S}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class X8 extends Co{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class $8 extends Co{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return vo.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:l,checked:c}=a.target;for(const d of this._getElementsByName(l,n)){const h=c&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(n,{value:c})}),s.addEventListener("resetform",a=>{const l=t.defaultFieldValue||"Off";a.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class nk extends Co{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(vo.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:l,checked:c}=a.target;for(const d of this._getElementsByName(l,n))e.setValue(d.id,{value:!1});e.setValue(n,{value:c})}),s.addEventListener("resetform",a=>{const l=t.defaultFieldValue;a.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const c={value:d=>{const h=a===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const g=h&&p.id===n;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Y8 extends Z1{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class K8 extends Co{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");vo.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,n.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),s=!1),r.append(p)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),a=()=>{h.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const l=h=>{const p=h?"value":"textContent",{options:g,multiple:m}=r;return m?Array.prototype.filter.call(g,v=>v.selected).map(v=>v[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let c=l(!1);const d=h=>{const p=h.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const p={value(g){a?.();const m=g.detail.value,v=new Set(Array.isArray(m)?m:[m]);for(const b of r.options)b.selected=v.has(b.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(g){r.multiple=!0},remove(g){const m=r.options,v=g.detail.remove;m[v].selected=!1,r.remove(v),m.length>0&&Array.prototype.findIndex.call(m,x=>x.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:l(!0),items:d(g)}),c=l(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(g){const{index:m,displayValue:v,exportValue:b}=g.detail.insert,x=r.children[m],D=document.createElement("option");D.textContent=v,D.value=b,x?x.before(D):r.append(D),e.setValue(t,{value:l(!0),items:d(g)}),c=l(!1)},items(g){const{items:m}=g.detail;for(;r.length!==0;)r.remove(0);for(const v of m){const{displayValue:b,exportValue:x}=v,D=document.createElement("option");D.textContent=b,D.value=x,r.append(D)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:l(!0),items:d(g)}),c=l(!1)},indices(g){const m=new Set(g.detail.indices);for(const v of g.target.options)v.selected=m.has(v.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,h)}),r.addEventListener("input",h=>{const p=l(!0),g=l(!1);e.setValue(t,{value:p}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class i1 extends Jt{constructor(e){const{data:t,elements:n,parent:r}=e,s=!!r._commentManager;if(super(e,{isRenderable:!s&&Jt._hasPopupData(t)}),this.elements=n,s&&Jt._hasPopupData(t)){const a=this.popup=this.#e();for(const l of n)l.popup=a}else this.popup=null}#e(){return new Z8({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),n=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${Nl}${r}`).join(",")),this.container}}class Z8{#e=null;#t=this.#q.bind(this);#i=this.#P.bind(this);#n=this.#O.bind(this);#a=this.#w.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#m=null;#g=null;#u=null;#p=null;#y=null;#v=null;#b=null;#_=null;#A=null;#D=null;#S=!1;#x=null;#T=null;constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:s,contentsObj:a,richText:l,parent:c,rect:d,parentRect:h,open:p,commentManager:g=null}){this.#r=e,this.#A=r,this.#o=a,this.#_=l,this.#h=c,this.#s=t,this.#b=d,this.#d=h,this.#l=n,this.#e=g,this.#x=n[0],this.#c=K0.toDateObject(s),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup()),g||(this.#U(),this.#r.hidden=!0,p&&this.#w())}#U(){if(this.#g)return;this.#g=new AbortController;const{signal:e}=this.#g;for(const t of this.trigger)t.addEventListener("click",this.#a,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#i,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#C(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#x.container.after(this.#p);return}if(this.#y||this.#C(),!this.#y)return;const{signal:e}=this.#g=new AbortController,t=this.#x.hasOwnCommentButton,n=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},r=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#p=this.#x.container;for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=this.#p=document.createElement("button");a.className="annotationCommentButton";const l=this.#x.container;a.style.zIndex=l.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#L(),this.#k(),a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),l.after(a)}}#k(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.#p||this.renderCommentButton();const[e,t]=this.#y,{style:n}=this.#p;n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`}#L(){this.#x.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#x.commentData;return e?this.#h._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:r,modificationDate:s}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:r,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#T||=this.#x.commentText,this.#T}set comment(e){e!==this.comment&&(this.#x.commentText=this.#T=e)}focus(){this.#x.container?.focus()}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=t)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:e,y:t,height:n}=this.#p.getBoundingClientRect(),{x:r,y:s,width:a,height:l}=this.#x.layer.getBoundingClientRect();return[(e-r)/a,(t+n-s)/l]}set commentPopupPosition(e){this.#v=e}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=this.#v||this.commentButtonPosition.map(d=>d/100),r=this.parentBoundingClientRect,{x:s,y:a,width:l,height:c}=r;this.#e.showDialog(null,this,s+t*l,a+n*c,{...e,parentDimensions:r})}render(){if(this.#m)return;const e=this.#m=document.createElement("div");if(e.className="popup",this.#s){const n=e.style.outlineColor=je.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#A?.str){const n=document.createElement("span");n.className="title",t.append(n),{dir:n.dir,str:n.textContent}=this.#A}if(e.append(t),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),t.append(n)}NC({html:this.#R||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#r.append(e)}get#R(){const e=this.#_,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#_.html||null}get#N(){return this.#R?.attributes?.style?.fontSize||0}get#I(){return this.#R?.attributes?.style?.color||null}#F(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#I,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return n}#q(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:e,popup:t,deleted:n}){if(this.#e){n?(this.remove(),this.#T=null):t&&(t.deleted?this.remove():(this.#L(),this.#T=t.text)),e&&(this.#y=null,this.#C(),this.#k());return}if(n||t?.deleted){this.remove();return}this.#U(),this.#D||={contentsObj:this.#o,richText:this.#_},e&&(this.#u=null),t&&t.text&&(this.#_=this.#F(t.text),this.#c=K0.toDateObject(t.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#D&&({contentsObj:this.#o,richText:this.#_}=this.#D,this.#D=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#g?.abort(),this.#g=null,this.#m?.remove(),this.#m=null,this.#S=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#E(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:s}}}=this.#h;let a=!!this.#d,l=a?this.#d:this.#b;for(const v of this.#l)if(!l||je.intersect(v.data.rect,l)!==null){l=v.data.rect,a=!0;break}const c=je.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),h=a?l[2]-l[0]+5:0,p=c[0]+h,g=c[1];this.#u=[100*(p-r)/t,100*(g-s)/n];const{style:m}=this.#r;m.left=`${this.#u[0]}%`,m.top=`${this.#u[1]}%`}#w(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#O(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#t)):(this.#P(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#t))}#O(){this.#m||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#E(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#P(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#S=this.isVisible,this.#S&&(this.#r.hidden=!0)}maybeShow(){this.#e||(this.#U(),this.#S&&(this.#m||this.#O(),this.#S=!1,this.#r.hidden=!1))}get isVisible(){return this.#e?!1:this.#r.hidden===!1}}class ik extends Jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=at.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Q8 extends Jt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class J8 extends Jt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",t-s),a.setAttribute("height",n-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class eF extends Jt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-s/2),a.setAttribute("ry",n/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class rk extends Jt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:r},width:s,height:a}=this;if(!t)return this.container;const l=this.svgFactory.create(s,a,!0);let c=[];for(let h=0,p=t.length;h<p;h+=2){const g=t[h]-e[0],m=e[3]-t[h+1];c.push(`${g},${m}`)}c=c.join(" ");const d=this.#e=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",c),d.setAttribute("stroke-width",n.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class tF extends rk{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class nF extends Jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class Q1 extends Jt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?at.HIGHLIGHT:at.INK}#i(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:r,popupRef:s}}=this,{transform:a,width:l,height:c}=this.#i(t,e),d=this.svgFactory.create(l,c,!0),h=this.#e=this.svgFactory.createElement("svg:g");d.append(h),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let p=0,g=n.length;p<g;p++){const m=this.svgFactory.createElement(this.svgElementName);this.#t.push(m),m.setAttribute("points",n[p].join(",")),h.append(m)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:r}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),n)for(let a=0,l=this.#t.length;a<l;a++)this.#t[a].setAttribute("points",n[a].join(","));if(r){const{transform:a,width:l,height:c}=this.#i(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class sk extends Jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=at.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class iF extends Jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class rF extends Jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class sF extends Jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class ak extends Jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=at.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class aF extends Jt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:r}=Xn.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class J1{#e=null;#t=null;#i=null;#n=new Map;#a=null;#s=null;#r=[];#o=!1;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:l,commentManager:c,linkService:d,annotationStorage:h}){this.div=e,this.#e=t,this.#t=n,this.#a=l||null,this.#s=d||null,this.#i=h||new G1,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=c||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:t}=e,n=this.div;bo(n,this.viewport);const r=new Map,s=[],a={data:null,layer:n,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Xf,annotationStorage:this.#i,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===xn.POPUP;if(c){const p=r.get(l.id);if(!p)continue;if(!this._commentManager){s.push(l);continue}a.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=ab.create(a);if(!d.isRenderable)continue;if(!c&&(this.#r.push(d),l.popupRef)){const p=r.get(l.popupRef);p?p.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}await this.#c();for(const l of s){const c=a.elements=r.get(l.id);a.data=l;const d=ab.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${Nl}${l.id}`,l.hidden&&(h.style.visibility="hidden"),c.at(-1).container.after(h)}this.#l()}async#c(){if(this.#r.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:n,data:{id:r}}of this.#r){const s=n.id=`${Nl}${r}`;e.push(this.#a?.getAriaAttributes(s).then(a=>{if(a)for(const[l,c]of a)n.setAttribute(l,c)}))}}this.#r.sort(({data:{rect:[n,r,s,a]}},{data:{rect:[l,c,d,h]}})=>{if(n===s&&r===a)return 1;if(l===d&&c===h)return-1;const p=a,g=r,m=(r+a)/2,v=h,b=c,x=(c+h)/2;if(m>=v&&x<=g)return-1;if(x>=p&&m<=b)return 1;const D=(n+s)/2,w=(l+d)/2;return D-w});const t=document.createDocumentFragment();for(const n of this.#r)t.append(n.container),this._commentManager?(n.extraPopupElement?.popup||n.popup)?.renderCommentButton():n.extraPopupElement&&t.append(n.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),this.#e)for(const n of this.#r)this.#e.addPointerInTextLayer(n.contentElement,!1)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#s,svgFactory:new Xf,parent:this};for(const n of e){n.borderStyle||=J1._defaultBorderStyle,t.data=n;const r=ab.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${Nl}${n.id}`,this.#r.push(r))}await this.#c()}update({viewport:e}){const t=this.div;this.viewport=e,bo(t,{rotation:e.rotation}),this.#l(),t.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n);const a=this.#n.get(t);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,r.id,n),a._hasNoCanvas=!1):a.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:r}=e,s=new q8({data:{id:n,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i});return s.render(),s.contentElement.id=`${Nl}${n}`,s.createOrUpdatePopup(),this.#r.push(s),s}removeAnnotation(e){const t=this.#r.findIndex(r=>r.data.id===e);if(t<0)return;const[n]=this.#r.splice(t,1);this.#e?.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return lt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Sl.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Ph=/\r\n?|\n/g;class Rn extends $e{#e="";#t=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Rn.prototype,t=s=>s.isEmpty(),n=Da.TRANSLATE_SMALL,r=Da.TRANSLATE_BIG;return lt(this,"_keyboardManager",new cd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=at.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Rn._defaultColor||$e._defaultLineColor,this.#n=e.fontSize||Rn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,t){$e.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Dt.FREETEXT_SIZE:Rn._defaultFontSize=t;break;case Dt.FREETEXT_COLOR:Rn._defaultColor=t;break}}updateParams(e,t){switch(e){case Dt.FREETEXT_SIZE:this.#a(t);break;case Dt.FREETEXT_COLOR:this.#s(t);break}}static get defaultPropertiesToUpdate(){return[[Dt.FREETEXT_SIZE,Rn._defaultFontSize],[Dt.FREETEXT_COLOR,Rn._defaultColor||$e._defaultLineColor]]}get propertiesToUpdate(){return[[Dt.FREETEXT_SIZE,this.#n],[Dt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Pu(this),[["colorPicker",this._colorPicker]]}get colorType(){return Dt.FREETEXT_COLOR}#a(e){const t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},n=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const t=r=>{this.color=r,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Rn._internalPadding*e,-(Rn._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(Rn.#c(n)),t=n);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,a=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#r().trimEnd();if(e===t)return;const n=r=>{if(this.#e=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Rn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,h]=this.pageDimensions,[p,g]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=e+(a[0]-p)/d,v=t+this.height-(a[1]-g)/h;break;case 90:m=e+(a[0]-p)/d,v=t-(a[1]-g)/h,[l,c]=[c,-l];break;case 180:m=e-this.width+(a[0]-p)/d,v=t-(a[1]-g)/h,[l,c]=[-l,-c];break;case 270:m=e+(a[0]-p-this.height*h)/d,v=t+(a[1]-g-this.width*d)/h,[l,c]=[-c,l];break}this.setAt(m*r,v*s,l,c)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Ph,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const r=Rn.#d(t.getData("text")||"").replaceAll(Ph,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:c}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(Ph,"")),m!==this.editorDiv){let v=d;for(const b of this.editorDiv.childNodes){if(b===m){v=h;continue}v.push(Rn.#c(b))}}d.push(l.nodeValue.slice(0,c).replaceAll(Ph,""))}else if(l===this.editorDiv){let m=d,v=0;for(const b of this.editorDiv.childNodes)v++===c&&(m=h),m.push(Rn.#c(b))}this.#e=`${d.join(`
`)}${r}${h.join(`
`)}`,this.#l();const p=new Range;let g=Math.sumPrecise(d.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const v=m.nodeValue.length;if(g<=v){p.setStart(m,g),p.setEnd(m,g);break}g-=v}s.removeAllRanges(),s.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Rn._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let r=null;if(e instanceof ik){const{data:{defaultAppearanceData:{fontSize:a,fontColor:l},rect:c,rotation:d,id:h,popupRef:p,richText:g,contentsObj:m,creationDate:v,modificationDate:b},textContent:x,textPosition:D,parent:{page:{pageNumber:w}}}=e;if(!x||x.length===0)return null;r=e={annotationType:at.FREETEXT,color:Array.from(l),fontSize:a,value:x.join(`
`),position:D,pageIndex:w-1,rect:c.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:p,comment:m?.str||null,richText:g,creationDate:v,modificationDate:b}}const s=await super.deserialize(e,t,n);return s.#n=e.fontSize,s.color=je.makeHexColor(...e.color),s.#e=Rn.#d(e.value),s._initialData=r,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=$e._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#h()});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(e){const{value:t,fontSize:n,color:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((a,l)=>a!==r[l])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,t.replaceChildren();for(const r of this.#e.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class ze{static PRECISION=1e-4;toSVGPath(){jt("Abstract method `toSVGPath` must be implemented.")}get box(){jt("Abstract getter `box` must be implemented.")}serialize(e,t){jt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,s,a){a||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)a[l]=t+e[l]*r,a[l+1]=n+e[l+1]*s;return a}static _rescaleAndSwap(e,t,n,r,s,a){a||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)a[l]=t+e[l+1]*r,a[l+1]=n+e[l]*s;return a}static _translate(e,t,n,r){r||=new Float32Array(e.length);for(let s=0,a=e.length;s<a;s+=2)r[s]=t+e[s],r[s+1]=n+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,s){switch(s){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,s,a){return[(e+5*n)/6,(t+5*r)/6,(5*n+s)/6,(5*r+a)/6,(n+s)/2,(r+a)/2]}}class no{#e;#t=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#h;#d;#f=[];static#m=8;static#g=2;static#u=no.#m+no.#g;constructor({x:e,y:t},n,r,s,a,l=0){this.#e=n,this.#d=s*r,this.#n=a,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#i=l,this.#l=no.#m*r,this.#c=no.#u*r,this.#h=r,this.#f.push(e,t)}isEmpty(){return isNaN(this.#s[8])}#p(){const e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[n,r,s,a]=this.#e;return[(this.#r+(e[0]-t[0])/2-n)/s,(this.#o+(e[1]-t[1])/2-r)/a,(this.#r+(t[0]-e[0])/2-n)/s,(this.#o+(t[1]-e[1])/2-r)/a]}add({x:e,y:t}){this.#r=e,this.#o=t;const[n,r,s,a]=this.#e;let[l,c,d,h]=this.#s.subarray(8,12);const p=e-d,g=t-h,m=Math.hypot(p,g);if(m<this.#c)return!1;const v=m-this.#l,b=v/m,x=b*p,D=b*g;let w=l,T=c;l=d,c=h,d+=x,h+=D,this.#f?.push(e,t);const C=-D/v,E=x/v,S=C*this.#d,k=E*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([d+S,h+k],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([d-S,h-k],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([l+S,c+k],2),this.#a.push(NaN,NaN,NaN,NaN,(l+S-n)/s,(c+k-r)/a),this.#s.set([l-S,c-k],14),this.#t.push(NaN,NaN,NaN,NaN,(l-S-n)/s,(c-k-r)/a)),this.#s.set([w,T,l,c,d,h],6),!this.isEmpty()):(this.#s.set([w,T,l,c,d,h],6),Math.abs(Math.atan2(T-c,w-l)-Math.atan2(D,x))<Math.PI/2?([l,c,d,h]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((l+d)/2-n)/s,((c+h)/2-r)/a),[l,c,w,T]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((w+l)/2-n)/s,((T+c)/2-r)/a),!0):([w,T,l,c,d,h]=this.#s.subarray(0,6),this.#a.push(((w+5*l)/6-n)/s,((T+5*c)/6-r)/a,((5*l+d)/6-n)/s,((5*c+h)/6-r)/a,((l+d)/2-n)/s,((c+h)/2-r)/a),[d,h,l,c,w,T]=this.#s.subarray(12,18),this.#t.push(((w+5*l)/6-n)/s,((T+5*c)/6-r)/a,((5*l+d)/6-n)/s,((5*c+h)/6-r)/a,((l+d)/2-n)/s,((c+h)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);this.#b(n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return this.#v(n),n.join(" ")}#y(){const[e,t,n,r]=this.#e,[s,a,l,c]=this.#p();return`M${(this.#s[2]-e)/n} ${(this.#s[3]-t)/r} L${(this.#s[4]-e)/n} ${(this.#s[5]-t)/r} L${s} ${a} L${l} ${c} L${(this.#s[16]-e)/n} ${(this.#s[17]-t)/r} L${(this.#s[14]-e)/n} ${(this.#s[15]-t)/r} Z`}#v(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#b(e){const[t,n,r,s]=this.#e,a=this.#s.subarray(4,6),l=this.#s.subarray(16,18),[c,d,h,p]=this.#p();e.push(`L${(a[0]-t)/r} ${(a[1]-n)/s} L${c} ${d} L${h} ${p} L${(l[0]-t)/r} ${(l[1]-n)/s}`)}newFreeDrawOutline(e,t,n,r,s,a){return new ok(e,t,n,r,s,a)}getOutlines(){const e=this.#a,t=this.#t,n=this.#s,[r,s,a,l]=this.#e,c=new Float32Array((this.#f?.length??0)+2);for(let p=0,g=c.length-2;p<g;p+=2)c[p]=(this.#f[p]-r)/a,c[p+1]=(this.#f[p+1]-s)/l;if(c[c.length-2]=(this.#r-r)/a,c[c.length-1]=(this.#o-s)/l,isNaN(n[6])&&!this.isEmpty())return this.#_(c);const d=new Float32Array(this.#a.length+24+this.#t.length);let h=e.length;for(let p=0;p<h;p+=2){if(isNaN(e[p])){d[p]=d[p+1]=NaN;continue}d[p]=e[p],d[p+1]=e[p+1]}h=this.#D(d,h);for(let p=t.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(t[p+g])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=t[p+g],d[h+1]=t[p+g+1],h+=2}return this.#A(d,h),this.newFreeDrawOutline(d,c,this.#e,this.#h,this.#i,this.#n)}#_(e){const t=this.#s,[n,r,s,a]=this.#e,[l,c,d,h]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-r)/a,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-r)/a],0),this.newFreeDrawOutline(p,e,this.#e,this.#h,this.#i,this.#n)}#A(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#D(e,t){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[s,a,l,c]=this.#e,[d,h,p,g]=this.#p();return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/l,(n[1]-a)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[0]-s)/l,(r[1]-a)/c],t),t+=24}}class ok extends ze{#e;#t=new Float32Array(4);#i;#n;#a;#s;#r;constructor(e,t,n,r,s,a){super(),this.#r=e,this.#a=t,this.#e=n,this.#s=r,this.#i=s,this.#n=a,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(a);const[l,c,d,h]=this.#t;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-l)/d,e[p+1]=(e[p+1]-c)/h;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-l)/d,t[p+1]=(t[p+1]-c)/h}toSVGPath(){const e=[`M${this.#r[4]} ${this.#r[5]}`];for(let t=6,n=this.#r.length;t<n;t+=6){if(isNaN(this.#r[t])){e.push(`L${this.#r[t+4]} ${this.#r[t+5]}`);continue}e.push(`C${this.#r[t]} ${this.#r[t+1]} ${this.#r[t+2]} ${this.#r[t+3]} ${this.#r[t+4]} ${this.#r[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,r],s){const a=n-e,l=r-t;let c,d;switch(s){case 0:c=ze._rescale(this.#r,e,r,a,-l),d=ze._rescale(this.#a,e,r,a,-l);break;case 90:c=ze._rescaleAndSwap(this.#r,e,t,a,l),d=ze._rescaleAndSwap(this.#a,e,t,a,l);break;case 180:c=ze._rescale(this.#r,n,t,-a,l),d=ze._rescale(this.#a,n,t,-a,l);break;case 270:c=ze._rescaleAndSwap(this.#r,n,r,-a,-l),d=ze._rescaleAndSwap(this.#a,n,r,-a,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}#o(e){const t=this.#r;let n=t[4],r=t[5];const s=[n,r,n,r];let a=n,l=r,c=n,d=r;const h=e?Math.max:Math.min,p=new Float32Array(4);for(let m=6,v=t.length;m<v;m+=6){const b=t[m+4],x=t[m+5];isNaN(t[m])?(je.pointBoundingBox(b,x,s),l>x?(a=b,l=x):l===x&&(a=h(a,b)),d<x?(c=b,d=x):d===x&&(c=h(c,b))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,je.bezierBoundingBox(n,r,...t.slice(m,m+6),p),je.rectBoundingBox(p[0],p[1],p[2],p[3],s),l>p[1]?(a=p[0],l=p[1]):l===p[1]&&(a=h(a,p[0])),d<p[3]?(c=p[2],d=p[3]):d===p[3]&&(c=h(c,p[2]))),n=b,r=x}const g=this.#t;g[0]=s[0]-this.#i,g[1]=s[1]-this.#i,g[2]=s[2]-s[0]+2*this.#i,g[3]=s[3]-s[1]+2*this.#i,this.firstPoint=[a,l],this.lastPoint=[c,d]}get box(){return this.#t}newOutliner(e,t,n,r,s,a=0){return new no(e,t,n,r,s,a)}getNewOutline(e,t){const[n,r,s,a]=this.#t,[l,c,d,h]=this.#e,p=s*d,g=a*h,m=n*d+l,v=r*h+c,b=this.newOutliner({x:this.#a[0]*p+m,y:this.#a[1]*g+v},this.#e,this.#s,e,this.#n,t??this.#i);for(let x=2;x<this.#a.length;x+=2)b.add({x:this.#a[x]*p+m,y:this.#a[x+1]*g+v});return b.getOutlines()}}class r1{#e;#t;#i;#n=[];#a=[];constructor(e,t=0,n=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:b,y:x,width:D,height:w}of e){const T=Math.floor((b-t)/a)*a,C=Math.ceil((b+D+t)/a)*a,E=Math.floor((x-t)/a)*a,S=Math.ceil((x+w+t)/a)*a,k=[T,E,S,!0],O=[C,E,S,!1];this.#n.push(k,O),je.rectBoundingBox(T,E,C,S,s)}const l=s[2]-s[0]+2*n,c=s[3]-s[1]+2*n,d=s[0]-n,h=s[1]-n;let p=r?-1/0:1/0,g=1/0;const m=this.#n.at(r?-1:-2),v=[m[0],m[2]];for(const b of this.#n){const[x,D,w,T]=b;!T&&r?D<g?(g=D,p=x):D===g&&(p=Math.max(p,x)):T&&!r&&(D<g?(g=D,p=x):D===g&&(p=Math.min(p,x))),b[0]=(x-d)/l,b[1]=(D-h)/c,b[2]=(w-h)/c}this.#e=new Float32Array([d,h,l,c]),this.#t=[p,g],this.#i=v}getOutlines(){this.#n.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#s(e)}#s(e){const t=[],n=new Set;for(const a of e){const[l,c,d]=a;t.push([l,c,a],[l,d,a])}t.sort((a,l)=>a[1]-l[1]||a[0]-l[0]);for(let a=0,l=t.length;a<l;a+=2){const c=t[a][2],d=t[a+1][2];c.push(d),d.push(c),n.add(c),n.add(d)}const r=[];let s;for(;n.size>0;){const a=n.values().next().value;let[l,c,d,h,p]=a;n.delete(a);let g=l,m=c;for(s=[l,d],r.push(s);;){let v;if(n.has(h))v=h;else if(n.has(p))v=p;else break;n.delete(v),[l,c,d,h,p]=v,g!==l&&(s.push(g,m,l,m===c?c:d),g=l),m=m===c?d:c}s.push(g,m)}return new oF(r,this.#e,this.#t,this.#i)}#r(e){const t=this.#a;let n=0,r=t.length-1;for(;n<=r;){const s=n+r>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:r=s-1}return r+1}#o([,e,t]){const n=this.#r(e);this.#a.splice(n,0,[e,t])}#c([,e,t]){const n=this.#r(e);for(let r=n;r<this.#a.length;r++){const[s,a]=this.#a[r];if(s!==e)break;if(s===e&&a===t){this.#a.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,a]=this.#a[r];if(s!==e)break;if(s===e&&a===t){this.#a.splice(r,1);return}}}#l(e){const[t,n,r]=e,s=[[t,n,r]],a=this.#r(r);for(let l=0;l<a;l++){const[c,d]=this.#a[l];for(let h=0,p=s.length;h<p;h++){const[,g,m]=s[h];if(!(d<=g||m<=c)){if(g>=c){if(m>d)s[h][1]=d;else{if(p===1)return[];s.splice(h,1),h--,p--}continue}s[h][2]=c,m>d&&s.push([t,d,m])}}}return s}}class oF extends ze{#e;#t;constructor(e,t,n,r){super(),this.#t=e,this.#e=t,this.firstPoint=n,this.lastPoint=r}toSVGPath(){const e=[];for(const t of this.#t){let[n,r]=t;e.push(`M${n} ${r}`);for(let s=2;s<t.length;s+=2){const a=t[s],l=t[s+1];a===n?(e.push(`V${l}`),r=l):l===r&&(e.push(`H${a}`),n=a)}e.push("Z")}return e.join(" ")}serialize([e,t,n,r],s){const a=[],l=n-e,c=r-t;for(const d of this.#t){const h=new Array(d.length);for(let p=0;p<d.length;p+=2)h[p]=e+d[p]*l,h[p+1]=r-d[p+1]*c;a.push(h)}return a}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class s1 extends no{newFreeDrawOutline(e,t,n,r,s,a){return new lF(e,t,n,r,s,a)}}class lF extends ok{newOutliner(e,t,n,r,s,a=0){return new s1(e,t,n,r,s,a)}}class hn extends $e{#e=null;#t=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#m=null;#g=null;#u="";#p;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=at.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=hn.prototype;return lt(this,"_keyboardManager",new cd([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||hn._defaultColor,this.#p=e.thickness||hn._defaultThickness,this.opacity=e.opacity||hn._defaultOpacity,this.#i=e.boxes||null,this.#y=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#b(e),this.#x()):this.#i&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#r=e.focusNode,this.#o=e.focusOffset,this.#v(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#v(){const e=new r1(this.#i,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new r1(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=t.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#m=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#l=e;const r=1.5;if(this.#s=e.getNewOutline(this.#p/2+r,.0025),t>=0)this.#h=t,this.#n=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:hn.#T(this.#l.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:hn.#T(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[s,a,l,c]=e.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=l,this.height=c;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-s,this.width=l*g/p,this.height=c*p/g;break}case 180:this.x=1-s,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=s,this.width=l*g/p,this.height=c*p/g;break}}const{firstPoint:d}=e;this.#f=[(d[0]-s)/l,(d[1]-a)/c];const{lastPoint:h}=this.#s;this.#m=[(h[0]-s)/l,(h[1]-a)/c]}static initialize(e,t){$e.initialize(e,t),hn._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Dt.HIGHLIGHT_COLOR:hn._defaultColor=t;break;case Dt.HIGHLIGHT_THICKNESS:hn._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case Dt.HIGHLIGHT_COLOR:this.#_(t);break;case Dt.HIGHLIGHT_THICKNESS:this.#A(t);break}}static get defaultPropertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,hn._defaultColor],[Dt.HIGHLIGHT_THICKNESS,hn._defaultThickness]]}get propertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,this.color||hn._defaultColor],[Dt.HIGHLIGHT_THICKNESS,this.#p||hn._defaultThickness],[Dt.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#_(e){const t=(s,a)=>{this.color=s,this.opacity=a,this.onUpdatedColor()},n=this.color,r=this.opacity;this.addCommands({cmd:t.bind(this,e,hn._defaultOpacity),undo:t.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#A(e){const t=this.#p,n=r=>{this.#p=r,this.#D(r)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new or({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#k())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#k())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#S(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#S():e&&(this.#x(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#D(e){this.#d&&(this.#b({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#S(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#x(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#g=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#T([e,t,n,r],s){switch(s){case 90:return[1-t-r,e,r,n];case 180:return[1-e-n,1-t-r,n,r];case 270:return[t,1-e-n,r,n]}return[e,t,n,r]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#d?(e=(e-this.rotation+360)%360,n=hn.#T(this.#l.box,e)):n=hn.#T([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#g,{bbox:hn.#T(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#U.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(),BC(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#U(e){hn._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#r,this.#o)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#d||this.#C(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!e}}))}#k(){return this.#d?this.rotation:0}#L(){if(this.#d)return null;const[e,t]=this.pageDimensions,[n,r]=this.pageTranslation,s=this.#i,a=new Float32Array(s.length*8);let l=0;for(const{x:c,y:d,width:h,height:p}of s){const g=c*e+n,m=(1-d)*t+r;a[l]=a[l+4]=g,a[l+1]=a[l+3]=m,a[l+2]=a[l+6]=g+h*e,a[l+5]=a[l+7]=m-p*t,l+=8}return a}#R(e){return this.#l.serialize(e,this.#k())}static startHighlighting(e,t,{target:n,x:r,y:s}){const{x:a,y:l,width:c,height:d}=n.getBoundingClientRect(),h=new AbortController,p=e.combinedSignal(h),g=m=>{h.abort(),this.#I(e,m)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",an,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",fr,{signal:p}),n.addEventListener("pointermove",this.#N.bind(this,e),{signal:p}),this._freeHighlight=new s1({x:r,y:s},[a,l,c,d],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#I(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let r=null;if(e instanceof sk){const{data:{quadPoints:v,rect:b,rotation:x,id:D,color:w,opacity:T,popupRef:C,richText:E,contentsObj:S,creationDate:k,modificationDate:O},parent:{page:{pageNumber:R}}}=e;r=e={annotationType:at.HIGHLIGHT,color:Array.from(w),opacity:T,quadPoints:v,boxes:null,pageIndex:R-1,rect:b.slice(0),rotation:x,annotationElementId:D,id:D,deleted:!1,popupRef:C,richText:E,comment:S?.str||null,creationDate:k,modificationDate:O}}else if(e instanceof Q1){const{data:{inkLists:v,rect:b,rotation:x,id:D,color:w,borderStyle:{rawWidth:T},popupRef:C,richText:E,contentsObj:S,creationDate:k,modificationDate:O},parent:{page:{pageNumber:R}}}=e;r=e={annotationType:at.HIGHLIGHT,color:Array.from(w),thickness:T,inkLists:v,boxes:null,pageIndex:R-1,rect:b.slice(0),rotation:x,annotationElementId:D,id:D,deleted:!1,popupRef:C,richText:E,comment:S?.str||null,creationDate:k,modificationDate:O}}const{color:s,quadPoints:a,inkLists:l,opacity:c}=e,d=await super.deserialize(e,t,n);d.color=je.makeHexColor(...s),d.opacity=c||1,l&&(d.#p=e.thickness),d._initialData=r,e.comment&&d.setCommentData(e);const[h,p]=d.pageDimensions,[g,m]=d.pageTranslation;if(a){const v=d.#i=[];for(let b=0;b<a.length;b+=8)v.push({x:(a[b]-g)/h,y:1-(a[b+1]-m)/p,width:(a[b+2]-a[b])/h,height:(a[b+1]-a[b+5])/p});d.#v(),d.#x(),d.rotate(d.rotation)}else if(l){d.#d=!0;const v=l[0],b={x:v[0]-g,y:p-(v[1]-m)},x=new s1(b,[0,0,h,p],1,d.#p/2,!0,.001);for(let T=0,C=v.length;T<C;T+=2)b.x=v[T]-g,b.y=p-(v[T+1]-m),x.add(b);const{id:D,clipPathId:w}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);d.#b({highlightOutlines:x.getOutlines(),highlightId:D,clipPathId:w}),d.#x(),d.rotate(d.parentRotation)}return d}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=$e._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:this.#p,quadPoints:this.#L(),outlines:this.#R(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#F(n)?null:(n.id=this.annotationElementId,n)}#F(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((n,r)=>n!==t[r])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class lk{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){jt("Not implemented")}}class kt extends $e{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#s(e),this.#c())}#s({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#r(e,this.parent),this.#d(e.box)}#r(e,t){const{id:n}=t.drawLayer.draw(kt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[r,s]of Object.entries(t))n.has(r)?Object.assign(e[r],s):e[r]=s;return e}static getDefaultDrawingOptions(e){jt("Not implemented")}static get typesMap(){jt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(kt.#i.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)e.push([n,t[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,r]of this.constructor.typesMap)e.push([n,t[r]]);return e}_updateProperty(e,t,n){const r=this._drawingOptions,s=r[t],a=l=>{r.updateProperty(t,l);const c=this.#e.updateProperty(t,l);c&&this.#d(c),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#e,e)}}#l([e,t,n,r]){const{parentDimensions:[s,a],rotation:l}=this;switch(l){case 90:return[t,1-e,n*(a/s),r*(s/a)];case 180:return[1-e,1-t,n,r];case 270:return[1-t,e,n*(a/s),r*(s/a)];default:return[e,t,n,r]}}#h(){const{x:e,y:t,width:n,height:r,parentDimensions:[s,a],rotation:l}=this;switch(l){case 90:return[1-t,e,n*(s/a),r*(a/s)];case 180:return[1-e,1-t,n,r];case 270:return[t,1-e,n*(s/a),r*(a/s)];default:return[e,t,n,r]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:t,width:n,height:r,rotation:s,parentRotation:a,parentDimensions:[l,c]}=this;switch((s*4+a)/90){case 1:return[1-t-r,e,r,n];case 2:return[1-e-n,1-t-r,n,r];case 3:return[t,1-e-n,r,n];case 4:return[e,t-n*(l/c),r*(c/l),n*(l/c)];case 5:return[1-t,e,n*(l/c),r*(c/l)];case 6:return[1-e-r*(c/l),1-t,r*(c/l),n*(l/c)];case 7:return[t-n*(l/c),1-e-r*(c/l),n*(l/c),r*(c/l)];case 8:return[e-n,t-r,n,r];case 9:return[1-t,e-n,r,n];case 10:return[1-e,1-t,n,r];case 11:return[t-r,1-e,r,n];case 12:return[e-r*(c/l),t,r*(c/l),n*(l/c)];case 13:return[1-t-n*(l/c),e-r*(c/l),n*(l/c),r*(c/l)];case 14:return[1-e,1-t-n*(l/c),r*(c/l),n*(l/c)];case 15:return[t,1-e,n*(l/c),r*(c/l)];default:return[e,t,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,r,s){jt("Not implemented")}static startDrawing(e,t,n,r){const{target:s,offsetX:a,offsetY:l,pointerId:c,pointerType:d}=r;if(Ut.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=e,{width:p,height:g}=s.getBoundingClientRect(),m=kt.#n=new AbortController,v=e.combinedSignal(m);if(Ut.setPointer(d,c),window.addEventListener("pointerup",b=>{Ut.isSamePointerIdOrRemove(b.pointerId)&&this._endDraw(b)},{signal:v}),window.addEventListener("pointercancel",b=>{Ut.isSamePointerIdOrRemove(b.pointerId)&&this._currentParent.endDrawingSession()},{signal:v}),window.addEventListener("pointerdown",b=>{Ut.isSamePointerType(b.pointerType)&&(Ut.initializeAndAddPointerId(b.pointerId),kt.#i.isCancellable()&&(kt.#i.removeLastElement(),kt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",fr,{signal:v}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),s.addEventListener("touchmove",b=>{Ut.isSameTimeStamp(b.timeStamp)&&an(b)},{signal:v}),e.toggleDrawing(),t._editorUndoBar?.hide(),kt.#i){e.drawLayer.updateProperties(this._currentDrawId,kt.#i.startNew(a,l,p,g,h));return}t.updateUIForDefaultProperties(this),kt.#i=this.createDrawerInstance(a,l,p,g,h),kt.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(kt.#a.toSVGProperties(),kt.#i.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Ut.isSameTimeStamp(e.timeStamp),!kt.#i)return;const{offsetX:t,offsetY:n,pointerId:r}=e;if(Ut.isSamePointerId(r)){if(Ut.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,kt.#i.add(t,n)),Ut.setTimeStamp(e.timeStamp),an(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,kt.#i=null,kt.#a=null,Ut.clearPointerType(),Ut.clearTimeStamp()),kt.#n&&(kt.#n.abort(),kt.#n=null,Ut.clearPointerIds())}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,kt.#i.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=kt.#i,r=this._currentDrawId,s=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(r,n.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:Dt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Dt.DRAW_STEP),!kt.#i.isEmpty()){const{pageDimensions:[n,r],scale:s}=t,a=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:kt.#i.getOutlines(n*s,r*s,s,this._INNER_MARGIN),drawingOptions:kt.#a,mustBeCommitted:!e});return this._cleanup(!0),a}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,r,s,a){jt("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:r,pageHeight:s,pageX:a,pageY:l}}=t.viewport,c=this.deserializeDraw(a,l,r,s,this._INNER_MARGIN,e),d=await super.deserialize(e,t,n);return d.createDrawingOptions(e),d.#s({drawOutlines:c}),d.#c(),d.onScaleChanging(),d.rotate(),d}serializeDraw(e){const[t,n]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#e.serialize([t,n,r,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class cF{#e=new Float64Array(6);#t;#i;#n;#a;#s;#r="";#o=0;#c=new dd;#l;#h;constructor(e,t,n,r,s,a){this.#l=n,this.#h=r,this.#n=s,this.#a=a,[e,t]=this.#d(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t],this.#i=[{line:l,points:this.#s}],this.#e.set(l,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#d(e,t){return ze._normalizePoint(e,t,this.#l,this.#h,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(e,t){[e,t]=this.#d(e,t);const[n,r,s,a]=this.#e.subarray(2,6),l=e-s,c=t-a;return Math.hypot(this.#l*l,this.#h*c)<=2?null:(this.#s.push(e,t),isNaN(n)?(this.#e.set([s,a,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,r,s,a,e,t],0),this.#t.push(...ze.createBezierPoints(n,r,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,s){this.#l=n,this.#h=r,this.#n=s,[e,t]=this.#d(e,t);const a=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t];const l=this.#i.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#i.push({line:a,points:this.#s}),this.#e.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(e){return this.#i?(this.#i.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let e=0,t=this.#i.length;e<t;e++){const{line:n,points:r}=this.#i[e];this.#t=n,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const e=ze.svgRound(this.#t[4]),t=ze.svgRound(this.#t[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${e} ${t} Z`,this.#r;if(this.#s.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${e} ${t}`,this.#o=6}if(this.#s.length===4){const r=ze.svgRound(this.#t[10]),s=ze.svgRound(this.#t[11]);return this.#r=`${this.#r} L ${r} ${s}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let r=this.#o,s=this.#t.length;r<s;r+=6){const[a,l,c,d,h,p]=this.#t.slice(r,r+6).map(ze.svgRound);n.push(`C${a} ${l} ${c} ${d} ${h} ${p}`)}return this.#r+=n.join(" "),this.#o=this.#t.length,this.#r}getOutlines(e,t,n,r){const s=this.#i.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#i,e,t,n,this.#n,this.#a,r),this.#e=null,this.#t=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class dd extends ze{#e;#t=0;#i;#n;#a;#s;#r;#o;#c;build(e,t,n,r,s,a,l){this.#a=t,this.#s=n,this.#r=r,this.#o=s,this.#c=a,this.#i=l??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${ze.svgRound(t[4])} ${ze.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${ze.svgRound(t[10])} ${ze.svgRound(t[11])}`);continue}for(let n=6,r=t.length;n<r;n+=6){const[s,a,l,c,d,h]=t.subarray(n,n+6).map(ze.svgRound);e.push(`C${s} ${a} ${l} ${c} ${d} ${h}`)}}return e.join("")}serialize([e,t,n,r],s){const a=[],l=[],[c,d,h,p]=this.#h();let g,m,v,b,x,D,w,T,C;switch(this.#o){case 0:C=ze._rescale,g=e,m=t+r,v=n,b=-r,x=e+c*n,D=t+(1-d-p)*r,w=e+(c+h)*n,T=t+(1-d)*r;break;case 90:C=ze._rescaleAndSwap,g=e,m=t,v=n,b=r,x=e+d*n,D=t+c*r,w=e+(d+p)*n,T=t+(c+h)*r;break;case 180:C=ze._rescale,g=e+n,m=t,v=-n,b=r,x=e+(1-c-h)*n,D=t+d*r,w=e+(1-c)*n,T=t+(d+p)*r;break;case 270:C=ze._rescaleAndSwap,g=e+n,m=t+r,v=-n,b=-r,x=e+(1-d-p)*n,D=t+(1-c-h)*r,w=e+(1-d)*n,T=t+(1-c)*r;break}for(const{line:E,points:S}of this.#n)a.push(C(E,g,m,v,b,s?new Array(E.length):null)),l.push(C(S,g,m,v,b,s?new Array(S.length):null));return{lines:a,points:l,rect:[x,D,w,T]}}static deserialize(e,t,n,r,s,{paths:{lines:a,points:l},rotation:c,thickness:d}){const h=[];let p,g,m,v,b;switch(c){case 0:b=ze._rescale,p=-e/n,g=t/r+1,m=1/n,v=-1/r;break;case 90:b=ze._rescaleAndSwap,p=-t/r,g=-e/n,m=1/r,v=1/n;break;case 180:b=ze._rescale,p=e/n+1,g=-t/r,m=-1/n,v=1/r;break;case 270:b=ze._rescaleAndSwap,p=t/r+1,g=e/n+1,m=-1/r,v=-1/n;break}if(!a){a=[];for(const D of l){const w=D.length;if(w===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,D[0],D[1]]));continue}if(w===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,D[0],D[1],NaN,NaN,NaN,NaN,D[2],D[3]]));continue}const T=new Float32Array(3*(w-2));a.push(T);let[C,E,S,k]=D.subarray(0,4);T.set([NaN,NaN,NaN,NaN,C,E],0);for(let O=4;O<w;O+=2){const R=D[O],z=D[O+1];T.set(ze.createBezierPoints(C,E,S,k,R,z),(O-2)*3),[C,E,S,k]=[S,k,R,z]}}}for(let D=0,w=a.length;D<w;D++)h.push({line:b(a[D].map(T=>T??NaN),p,g,m,v),points:b(l[D].map(T=>T??NaN),p,g,m,v)});const x=new this.prototype.constructor;return x.build(h,n,r,1,c,d,s),x}#l(e=this.#c){const t=this.#i+e/2*this.#r;return this.#o%180===0?[t/this.#a,t/this.#s]:[t/this.#s,t/this.#a]}#h(){const[e,t,n,r]=this.#e,[s,a]=this.#l(0);return[e+s,t+a,n-2*s,r-2*a]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let l=4,c=r.length;l<c;l+=6)je.pointBoundingBox(r[l],r[l+1],e);continue}let s=r[4],a=r[5];for(let l=6,c=r.length;l<c;l+=6){const[d,h,p,g,m,v]=r.subarray(l,l+6);je.bezierBoundingBox(s,a,d,h,p,g,m,v,e),s=m,a=v}}const[t,n]=this.#l();e[0]=si(e[0]-t,0,1),e[1]=si(e[1]-n,0,1),e[2]=si(e[2]+t,0,1),e[3]=si(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,n]=this.#l();this.#c=e;const[r,s]=this.#l(),[a,l]=[r-t,s-n],c=this.#e;return c[0]-=a,c[1]-=l,c[2]+=2*a,c[3]+=2*l,c}updateParentDimensions([e,t],n){const[r,s]=this.#l();this.#a=e,this.#s=t,this.#r=n;const[a,l]=this.#l(),c=a-r,d=l-s,h=this.#e;return h[0]-=c,h[1]-=d,h[2]+=2*c,h[3]+=2*d,h}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(ze.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(e)} ${ze.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,r=0,s=0,a=0,l=0,c=0;switch(this.#t){case 90:r=t/e,s=-e/t,l=e;break;case 180:n=-1,a=-1,l=e,c=t;break;case 270:r=-t/e,s=e/t,c=t;break;default:return""}return`matrix(${n} ${r} ${s} ${a} ${ze.svgRound(l)} ${ze.svgRound(c)})`}getPathResizingSVGProperties([e,t,n,r]){const[s,a]=this.#l(),[l,c,d,h]=this.#e;if(Math.abs(d-s)<=ze.PRECISION||Math.abs(h-a)<=ze.PRECISION){const b=e+n/2-(l+d/2),x=t+r/2-(c+h/2);return{path:{"transform-origin":`${ze.svgRound(e)} ${ze.svgRound(t)}`,transform:`${this.rotationTransform} translate(${b} ${x})`}}}const p=(n-2*s)/(d-2*s),g=(r-2*a)/(h-2*a),m=d/n,v=h/r;return{path:{"transform-origin":`${ze.svgRound(l)} ${ze.svgRound(c)}`,transform:`${this.rotationTransform} scale(${m} ${v}) translate(${ze.svgRound(s)} ${ze.svgRound(a)}) scale(${p} ${g}) translate(${ze.svgRound(-s)} ${ze.svgRound(-a)})`}}}getPathResizedSVGProperties([e,t,n,r]){const[s,a]=this.#l(),l=this.#e,[c,d,h,p]=l;if(l[0]=e,l[1]=t,l[2]=n,l[3]=r,Math.abs(h-s)<=ze.PRECISION||Math.abs(p-a)<=ze.PRECISION){const x=e+n/2-(c+h/2),D=t+r/2-(d+p/2);for(const{line:w,points:T}of this.#n)ze._translate(w,x,D,w),ze._translate(T,x,D,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(e)} ${ze.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(n-2*s)/(h-2*s),m=(r-2*a)/(p-2*a),v=-g*(c+s)+e+s,b=-m*(d+a)+t+a;if(g!==1||m!==1||v!==0||b!==0)for(const{line:x,points:D}of this.#n)ze._rescale(x,v,b,g,m,x),ze._rescale(D,v,b,g,m,D);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(e)} ${ze.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[r,s]=n,a=this.#e,l=e-a[0],c=t-a[1];if(this.#a===r&&this.#s===s)for(const{line:d,points:h}of this.#n)ze._translate(d,l,c,d),ze._translate(h,l,c,h);else{const d=this.#a/r,h=this.#s/s;this.#a=r,this.#s=s;for(const{line:p,points:g}of this.#n)ze._rescale(p,l,c,d,h,p),ze._rescale(g,l,c,d,h,g);a[2]*=d,a[3]*=h}return a[0]=e,a[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ze.svgRound(e)} ${ze.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ze.svgRound(e[0])} ${ze.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Kp extends lk{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:$e._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Kp(this._viewParameters);return e.updateAll(this),e}}class ev extends kt{static _type="ink";static _editorType=at.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){$e.initialize(e,t),this._defaultDrawingOptions=new Kp(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return lt(this,"typesMap",new Map([[Dt.INK_THICKNESS,"stroke-width"],[Dt.INK_COLOR,"stroke"],[Dt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,r,s){return new cF(e,t,n,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,r,s,a){return dd.deserialize(e,t,n,r,s,a)}static async deserialize(e,t,n){let r=null;if(e instanceof Q1){const{data:{inkLists:a,rect:l,rotation:c,id:d,color:h,opacity:p,borderStyle:{rawWidth:g},popupRef:m,richText:v,contentsObj:b,creationDate:x,modificationDate:D},parent:{page:{pageNumber:w}}}=e;r=e={annotationType:at.INK,color:Array.from(h),thickness:g,opacity:p,paths:{points:a},boxes:null,pageIndex:w-1,rect:l.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:m,richText:v,comment:b?.str||null,creationDate:x,modificationDate:D}}const s=await super.deserialize(e,t,n);return s._initialData=r,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new Pu(this),[["colorPicker",this._colorPicker]]}get colorType(){return Dt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=ev.getDefaultDrawingOptions({stroke:je.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":a}}=this,l=Object.assign(super.serialize(e),{color:$e._colorManager.convert(r),opacity:s,thickness:a,paths:{lines:t,points:n}});return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:t,thickness:n,opacity:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((a,l)=>a!==t[l])||e.thickness!==n||e.opacity!==r||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class a1 extends dd{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const zh=8,iu=3;class kl{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,r){return n-=e,r-=t,n===0?r>0?0:4:n===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,n,r,s,a,l){const c=this.#t(n,r,s,a);for(let d=0;d<8;d++){const h=(-d+c-l+16)%8,p=this.#i[2*h],g=this.#i[2*h+1];if(e[(n+p)*t+(r+g)]!==0)return h}return-1}static#a(e,t,n,r,s,a,l){const c=this.#t(n,r,s,a);for(let d=0;d<8;d++){const h=(d+c+l+16)%8,p=this.#i[2*h],g=this.#i[2*h+1];if(e[(n+p)*t+(r+g)]!==0)return h}return-1}static#s(e,t,n,r){const s=e.length,a=new Int32Array(s);for(let h=0;h<s;h++)a[h]=e[h]<=r?1:0;for(let h=1;h<n-1;h++)a[h*t]=a[h*t+t-1]=0;for(let h=0;h<t;h++)a[h]=a[t*n-1-h]=0;let l=1,c;const d=[];for(let h=1;h<n-1;h++){c=1;for(let p=1;p<t-1;p++){const g=h*t+p,m=a[g];if(m===0)continue;let v=h,b=p;if(m===1&&a[g-1]===0)l+=1,b-=1;else if(m>=1&&a[g+1]===0)l+=1,b+=1,m>1&&(c=m);else{m!==1&&(c=Math.abs(m));continue}const x=[p,h],D=b===p+1,w={isHole:D,points:x,id:l,parent:0};d.push(w);let T;for(const Z of d)if(Z.id===c){T=Z;break}T?T.isHole?w.parent=D?T.parent:c:w.parent=D?c:T.parent:w.parent=D?c:0;const C=this.#n(a,t,h,p,v,b,0);if(C===-1){a[g]=-l,a[g]!==1&&(c=Math.abs(a[g]));continue}let E=this.#i[2*C],S=this.#i[2*C+1];const k=h+E,O=p+S;v=k,b=O;let R=h,z=p;for(;;){const Z=this.#a(a,t,R,z,v,b,1);E=this.#i[2*Z],S=this.#i[2*Z+1];const F=R+E,W=z+S;x.push(W,F);const M=R*t+z;if(a[M+1]===0?a[M]=-l:a[M]===1&&(a[M]=l),F===h&&W===p&&R===k&&z===O){a[g]!==1&&(c=Math.abs(a[g]));break}else v=R,b=z,R=F,z=W}}}return d}static#r(e,t,n,r){if(n-t<=4){for(let k=t;k<n-2;k+=2)r.push(e[k],e[k+1]);return}const s=e[t],a=e[t+1],l=e[n-4]-s,c=e[n-3]-a,d=Math.hypot(l,c),h=l/d,p=c/d,g=h*a-p*s,m=c/l,v=1/d,b=Math.atan(m),x=Math.cos(b),D=Math.sin(b),w=v*(Math.abs(x)+Math.abs(D)),T=v*(1-w+w**2),C=Math.max(Math.atan(Math.abs(D+x)*T),Math.atan(Math.abs(D-x)*T));let E=0,S=t;for(let k=t+2;k<n-2;k+=2){const O=Math.abs(g-h*e[k+1]+p*e[k]);O>E&&(S=k,E=O)}E>(d*C)**2?(this.#r(e,t,S+2,r),this.#r(e,S,n,r)):r.push(s,a)}static#o(e){const t=[],n=e.length;return this.#r(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#c(e,t,n,r,s,a){const l=new Float32Array(a**2),c=-2*r**2,d=a>>1;for(let b=0;b<a;b++){const x=(b-d)**2;for(let D=0;D<a;D++)l[b*a+D]=Math.exp((x+(D-d)**2)/c)}const h=new Float32Array(256),p=-2*s**2;for(let b=0;b<256;b++)h[b]=Math.exp(b**2/p);const g=e.length,m=new Uint8Array(g),v=new Uint32Array(256);for(let b=0;b<n;b++)for(let x=0;x<t;x++){const D=b*t+x,w=e[D];let T=0,C=0;for(let S=0;S<a;S++){const k=b+S-d;if(!(k<0||k>=n))for(let O=0;O<a;O++){const R=x+O-d;if(R<0||R>=t)continue;const z=e[k*t+R],Z=l[S*a+O]*h[Math.abs(z-w)];T+=z*Z,C+=Z}}const E=m[D]=Math.round(T/C);v[E]++}return[m,v]}static#l(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#h(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let l=0,c=n.length;l<c;l++){const d=n[l]=e[l<<2];r=Math.max(r,d),s=Math.min(s,d)}const a=255/(r-s);for(let l=0,c=n.length;l<c;l++)n[l]=(n[l]-s)*a;return n}static#d(e){let t,n=-1/0,r=-1/0;const s=e.findIndex(c=>c!==0);let a=s,l=s;for(t=s;t<256;t++){const c=e[t];c>n&&(t-a>r&&(r=t-a,l=t-1),n=c,a=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:n,height:r}=e,{maxDim:s}=this.#e;let a=n,l=r;if(n>s||r>s){let g=n,m=r,v=Math.log2(Math.max(n,r)/s);const b=Math.floor(v);v=v===b?b-1:b;for(let D=0;D<v;D++){a=Math.ceil(g/2),l=Math.ceil(m/2);const w=new OffscreenCanvas(a,l);w.getContext("2d").drawImage(e,0,0,g,m,0,0,a,l),g=a,m=l,e!==t&&e.close(),e=w.transferToImageBitmap()}const x=Math.min(s/a,s/l);a=Math.round(a*x),l=Math.round(l*x)}const d=new OffscreenCanvas(a,l).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,a,l),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,a,l);const h=d.getImageData(0,0,a,l).data;return[this.#h(h),a,l]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:r},s,a,l,c){let d=new OffscreenCanvas(1,1),h=d.getContext("2d",{alpha:!1});const p=200,g=h.font=`${n} ${r} ${p}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:v,actualBoundingBoxAscent:b,actualBoundingBoxDescent:x,fontBoundingBoxAscent:D,fontBoundingBoxDescent:w,width:T}=h.measureText(e),C=1.5,E=Math.ceil(Math.max(Math.abs(m)+Math.abs(v)||0,T)*C),S=Math.ceil(Math.max(Math.abs(b)+Math.abs(x)||p,Math.abs(D)+Math.abs(w)||p)*C);d=new OffscreenCanvas(E,S),h=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=g,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,E,S),h.fillStyle="black",h.fillText(e,E*(C-1)/2,S*(3-C)/2);const k=this.#h(h.getImageData(0,0,E,S).data),O=this.#l(k),R=this.#d(O),z=this.#s(k,E,S,R);return this.processDrawnLines({lines:{curves:z,width:E,height:S},pageWidth:s,pageHeight:a,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,s){const[a,l,c]=this.#f(e),[d,h]=this.#c(a,l,c,Math.hypot(l,c)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#d(h),g=this.#s(d,l,c,p);return this.processDrawnLines({lines:{curves:g,width:l,height:c},pageWidth:t,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:s,mustSmooth:a,areContours:l}){r%180!==0&&([t,n]=[n,t]);const{curves:c,width:d,height:h}=e,p=e.thickness??0,g=[],m=Math.min(t/d,n/h),v=m/t,b=m/n,x=[];for(const{points:w}of c){const T=a?this.#o(w):w;if(!T)continue;x.push(T);const C=T.length,E=new Float32Array(C),S=new Float32Array(3*(C===2?2:C-2));if(g.push({line:S,points:E}),C===2){E[0]=T[0]*v,E[1]=T[1]*b,S.set([NaN,NaN,NaN,NaN,E[0],E[1]],0);continue}let[k,O,R,z]=T;k*=v,O*=b,R*=v,z*=b,E.set([k,O,R,z],0),S.set([NaN,NaN,NaN,NaN,k,O],0);for(let Z=4;Z<C;Z+=2){const F=E[Z]=T[Z]*v,W=E[Z+1]=T[Z+1]*b;S.set(ze.createBezierPoints(k,O,R,z,F,W),(Z-2)*3),[k,O,R,z]=[R,z,F,W]}}if(g.length===0)return null;const D=l?new a1:new dd;return D.build(g,t,n,1,r,l?0:p,s),{outline:D,newCurves:x,areContours:l,thickness:p,width:d,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:r,height:s}){let a=1/0,l=-1/0,c=0;for(const T of e){c+=T.length;for(let C=2,E=T.length;C<E;C++){const S=T[C]-T[C-2];a=Math.min(a,S),l=Math.max(l,S)}}let d;a>=-128&&l<=127?d=Int8Array:a>=-32768&&l<=32767?d=Int16Array:d=Int32Array;const h=e.length,p=zh+iu*h,g=new Uint32Array(p);let m=0;g[m++]=p*Uint32Array.BYTES_PER_ELEMENT+(c-2*h)*d.BYTES_PER_ELEMENT,g[m++]=0,g[m++]=r,g[m++]=s,g[m++]=t?0:1,g[m++]=Math.max(0,Math.floor(n??0)),g[m++]=h,g[m++]=d.BYTES_PER_ELEMENT;for(const T of e)g[m++]=T.length-2,g[m++]=T[0],g[m++]=T[1];const v=new CompressionStream("deflate-raw"),b=v.writable.getWriter();await b.ready,b.write(g);const x=d.prototype.constructor;for(const T of e){const C=new x(T.length-2);for(let E=2,S=T.length;E<S;E++)C[E-2]=T[E]-T[E-2];b.write(C)}b.close();const D=await new Response(v.readable).arrayBuffer(),w=new Uint8Array(D);return RC(w)}static async decompressSignature(e){try{const t=_5(e),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,l=0;for await(const T of n)a||=new Uint8Array(new Uint32Array(T.buffer,0,4)[0]),a.set(T,l),l+=T.length;const c=new Uint32Array(a.buffer,0,a.length>>2),d=c[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const h=c[2],p=c[3],g=c[4]===0,m=c[5],v=c[6],b=c[7],x=[],D=(zh+iu*v)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(b){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,D);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,D);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,D);break}l=0;for(let T=0;T<v;T++){const C=c[iu*T+zh],E=new Float32Array(C+2);x.push(E);for(let S=0;S<iu-1;S++)E[S]=c[iu*T+zh+S+1];for(let S=0;S<C;S++)E[S+2]=E[S]+w[l++]}return{areContours:g,thickness:m,outlines:x,width:h,height:p}}catch(t){return st(`decompressSignature: ${t}`),null}}}class tv extends lk{constructor(){super(),super.updateProperties({fill:$e._defaultLineColor,"stroke-width":0})}clone(){const e=new tv;return e.updateAll(this),e}}class nv extends Kp{constructor(e){super(e),super.updateProperties({stroke:$e._defaultLineColor,"stroke-width":1})}clone(){const e=new nv(this._viewParameters);return e.updateAll(this),e}}class Lr extends kt{#e=!1;#t=null;#i=null;#n=null;static _type="signature";static _editorType=at.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){$e.initialize(e,t),this._defaultDrawingOptions=new tv,this._defaultDrawnSignatureOptions=new nv(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return lt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:s,areContours:a,description:l,uuid:c,heightInPage:d}=this.#i,{rawDims:{pageWidth:h,pageHeight:p},rotation:g}=this.parent.viewport,m=kl.processDrawnLines({lines:r,pageWidth:h,pageHeight:p,rotation:g,innerMargin:Lr._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(m,d,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:r,height:s}=this.#i,a=Math.max(r,s),l=kl.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:n,width:r,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,r){const{x:s,y:a}=this,{outline:l}=this.#i=e;this.#e=l instanceof a1,this.description=n;let c;this.#e?c=Lr.getDefaultDrawingOptions():(c=Lr._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,d]=this.pageDimensions;let h=t/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return kl.process(e,t,n,r,Lr._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:s}=this.parent.viewport;return kl.extractContoursFromText(e,t,n,r,s,Lr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return kl.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:Lr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=Lr.getDefaultDrawingOptions():(this._drawingOptions=Lr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:r});return this.addComment(s),e?(s.paths={lines:t,points:n},s.uuid=this.#n,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,n,r,s,a){return a.areContours?a1.deserialize(e,t,n,r,s,a):dd.deserialize(e,t,n,r,s,a)}static async deserialize(e,t,n){const r=await super.deserialize(e,t,n);return r.#e=e.areContours,r.description=e.accessibilityData?.alt||"",r.#n=e.uuid,r}}class uF extends $e{#e=null;#t=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=at.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){$e.initialize(e,t)}static isHandlingMimeForPasting(e){return Z0.includes(e)}static paste(e,t){t.pasteEditor({mode:at.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#s=e.file.name),this.#g()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:a}=e||this.copyCanvas(null,null,!0).imageData,l=await n.guess({name:"altText",request:{data:r,width:s,height:a,channels:r.length/(s*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),t&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#d(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#d(r)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(r=>this.#d(r)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=Z0.join(",");const t=this._uiManager._signal;this.#i=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(r)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#g():this.#m()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,r&&(this.#e=r),this.#o=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#g(){const{div:e}=this;let{width:t,height:n}=this.#e;const[r,s]=this.pageDimensions,a=.75;if(this.width)t=this.width*r,n=this.height*s;else if(t>a*r||n>a*s){const c=Math.min(a*r/t,a*s/n);t*=c,n*=c}this._uiManager.enableWaiting(!1);const l=this.#r=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this.width=t/r,this.height=n/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:r,height:s}=this.#e,a=new jr;let l=this.#e,c=r,d=s,h=null;if(t){if(r>t||s>t){const S=Math.min(t/r,t/s);c=Math.floor(r*S),d=Math.floor(s*S)}h=document.createElement("canvas");const g=h.width=Math.ceil(c*a.sx),m=h.height=Math.ceil(d*a.sy);this.#l||(l=this.#u(g,m));const v=h.getContext("2d");v.filter=this._uiManager.hcmFilter;let b="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":M5.isDarkMode&&(b="#8f8f9d",x="#42414d");const D=15,w=D*a.sx,T=D*a.sy,C=new OffscreenCanvas(w*2,T*2),E=C.getContext("2d");E.fillStyle=b,E.fillRect(0,0,w*2,T*2),E.fillStyle=x,E.fillRect(0,0,w,T),E.fillRect(w,T,w,T),v.fillStyle=v.createPattern(C,"repeat"),v.fillRect(0,0,g,m),v.drawImage(l,0,0,l.width,l.height,0,0,g,m)}let p=null;if(n){let g,m;if(a.symmetric&&l.width<e&&l.height<e)g=l.width,m=l.height;else if(l=this.#e,r>e||s>e){const x=Math.min(e/r,e/s);g=Math.floor(r*x),m=Math.floor(s*x),this.#l||(l=this.#u(g,m))}const b=new OffscreenCanvas(g,m).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,g,m),p={width:g,height:m,data:b.getImageData(0,0,g,m).data}}return{canvas:h,width:c,height:d,imageData:p}}#u(e,t){const{width:n,height:r}=this.#e;let s=n,a=r,l=this.#e;for(;s>2*e||a>2*t;){const c=s,d=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(s,a);h.getContext("2d").drawImage(l,0,0,c,d,0,0,s,a),l=h.transferToImageBitmap()}return l}#p(){const[e,t]=this.parentDimensions,{width:n,height:r}=this,s=new jr,a=Math.ceil(n*e*s.sx),l=Math.ceil(r*t*s.sy),c=this.#r;if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const d=this.#l?this.#e:this.#u(a,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,a,l)}#y(e){if(e){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,n]=this.pageDimensions,r=Math.round(this.width*t*Xl.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*Xl.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,s);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),a.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let r=null,s=!1;if(e instanceof ak){const{data:{rect:b,rotation:x,id:D,structParent:w,popupRef:T,richText:C,contentsObj:E,creationDate:S,modificationDate:k},container:O,parent:{page:{pageNumber:R}},canvas:z}=e;let Z,F;z?(delete e.canvas,{id:Z,bitmap:F}=n.imageManager.getFromCanvas(O.id,z),z.remove()):(s=!0,e._hasNoCanvas=!0);const W=(await t._structTree.getAriaAttributes(`${Nl}${D}`))?.get("aria-label")||"";r=e={annotationType:at.STAMP,bitmapId:Z,bitmap:F,pageIndex:R-1,rect:b.slice(0),rotation:x,annotationElementId:D,id:D,deleted:!1,accessibilityData:{decorative:!1,altText:W},isSvg:!1,structParent:w,popupRef:T,richText:C,comment:E?.str||null,creationDate:S,modificationDate:k}}const a=await super.deserialize(e,t,n),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:h,isSvg:p,accessibilityData:g}=e;s?(n.addMissingCanvas(e.id,a),a.#o=!0):h&&n.imageManager.isValidId(h)?(a.#t=h,c&&(a.#e=c)):a.#n=d,a.#l=p;const[m,v]=a.pageDimensions;return a.width=(l[2]-l[0])/m,a.height=(l[3]-l[1])/v,g&&(a.altTextData=g),a._initialData=r,e.comment&&a.setCommentData(e),a.#h=!!r,a}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(n),e)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=this.#v(n);return l.isSame?null:(l.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(t===null)return n;t.stamps||=new Map;const a=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:a,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const l=t.stamps.get(this.#t);a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=this.#y(!1))}return n}#v(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,r=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class bs{#e;#t=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#m=null;#g=-1;#u;static _initialized=!1;static#p=new Map([Rn,ev,uF,hn,Lr].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:l,textLayer:c,viewport:d,l10n:h}){const p=[...bs.#p.values()];if(!bs._initialized){bs._initialized=!0;for(const g of p)g.initialize(h,e)}e.registerEditorTypes(p),this.#u=e,this.pageIndex=t,this.div=n,this.#e=s,this.#i=a,this.viewport=d,this.#d=c,this.drawLayer=l,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===at.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#D(),e){case at.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case at.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case at.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===at.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of bs.#p.values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#i?.togglePointerEvents(e)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const e=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));const t=this.#i;if(t)for(const n of t.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#m){this.#m=new AbortController;const r=this.#u.combinedSignal(this.#m);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:l,clientY:c,timeStamp:d}=s,h=this.#g;if(d-h>500){this.#g=d;return}this.#g=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let m;const v=new RegExp(`^${Fu}[0-9]+$`);for(const x of g)if(v.test(x.id)){m=x.id;break}if(!m)return;const b=this.#s.get(m);b?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),b.dblclick(s))},{signal:r,capture:!0})}const e=this.#i,t=[];if(e){const r=new Map,s=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){r.set(l.annotationElementId,l);continue}else s.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const a=e.getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(this.#u.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let d=s.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=r.get(c),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#D(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of bs.#p.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(t),this.#o=!1}getEditableAnnotation(e){return this.#i?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#v.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#v(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:n}=Xn.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),hn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),$e.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of this.#s.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#b(){return bs.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#_(e){const t=this.#b;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:n,offsetY:r}=this.#A(),s=this.getNextId(),a=this.#_({parent:this,id:s,x:n,y:r,uiManager:this.#u,isCentered:!0,...t});a&&this.add(a)}async deserialize(e){return await bs.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),s=this.#_({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:e,y:t,width:n,height:r}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),l=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+r),d=(s+l)/2-e,h=(a+c)/2-t,[p,g]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:p,offsetY:g}}addNewEditor(e={}){this.createAndAddNewEditor(this.#A(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=Xn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#r||(this.#r=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#u.getMode();if(n===at.STAMP||n===at.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===at.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:t}=Xn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#r=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const n=this.#u.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#b.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#b.endDrawing(e)):null}findNewParent(e,t,n){const r=this.#u.findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#D(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,bo(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#D();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,bo(this.div,{rotation:n}),t!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class jn{#e=null;#t=new Map;#i=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return lt(this,"_svgFactory",new Xf)}static#a(e,[t,n,r,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`}#s(){const e=jn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#r(e,t){const n=jn._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=jn._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}#o(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)}draw(e,t=!1,n=!1){const r=jn.#n++,s=this.#s(),a=jn._svgFactory.createElement("defs");s.append(a);const l=jn._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#i.set(r,l);const d=n?this.#r(a,c):null,h=jn._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(s,e),this.#t.set(r,s),{id:r,clipPathId:`url(#${d})`}}drawOutline(e,t){const n=jn.#n++,r=this.#s(),s=jn._svgFactory.createElement("defs");r.append(s);const a=jn._svgFactory.createElement("path");s.append(a);const l=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const p=jn._svgFactory.createElement("mask");s.append(p),c=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const g=jn._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const m=jn._svgFactory.createElement("use");p.append(m),m.setAttribute("href",`#${l}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const d=jn._svgFactory.createElement("use");r.append(d),d.setAttribute("href",`#${l}`),c&&d.setAttribute("mask",`url(#${c})`);const h=d.cloneNode();return r.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,e),this.#t.set(n,r),n}finalizeDraw(e,t){this.#i.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:r,rootClass:s,path:a}=t,l=typeof e=="number"?this.#t.get(e):e;if(l){if(n&&this.#o(l,n),r&&jn.#a(l,r),s){const{classList:c}=l;for(const[d,h]of Object.entries(s))c.toggle(d,h)}if(a){const d=l.firstChild.firstChild;this.#o(d,a)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#i.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:r1};globalThis.pdfjsLib={AbortException:xa,AnnotationEditorLayer:bs,AnnotationEditorParamsType:Dt,AnnotationEditorType:at,AnnotationEditorUIManager:Da,AnnotationLayer:J1,AnnotationMode:aa,AnnotationType:xn,applyOpacity:O5,build:z8,ColorPicker:or,createValidAbsoluteUrl:CC,CSSConstants:R5,DOMSVGFactory:Xf,DrawLayer:jn,FeatureTest:Xn,fetchData:ad,findContrastColor:N5,getDocument:ZC,getFilenameFromUrl:E5,getPdfFilenameFromUrl:S5,getRGB:ld,getUuid:MC,getXfaPageViewport:k5,GlobalWorkerOptions:Wl,ImageKind:pf,InvalidPDFException:Y0,isDataScheme:Xp,isPdfFile:H1,isValidExplicitDest:V5,MathClamp:si,noContextMenu:fr,normalizeUnicode:A5,OPS:Bu,OutputScale:jr,PasswordResponses:p5,PDFDataRangeTransport:QC,PDFDateString:K0,PDFWorker:Iu,PermissionFlag:f5,PixelsPerInch:Xl,RenderingCancelledException:j1,renderRichText:NC,ResponseException:Vf,setLayerDimensions:bo,shadow:lt,SignatureExtractor:kl,stopEvent:an,SupportedImageMimeTypes:Z0,TextLayer:ii,TouchManager:$p,updateUrlHash:kC,Util:je,VerbosityLevel:qp,version:tk,XfaLayer:OC};var ir={},iv="1.13.7",cT=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Zp=Array.prototype,rv=Object.prototype,uT=typeof Symbol<"u"?Symbol.prototype:null,dF=Zp.push,hd=Zp.slice,zu=rv.toString,hF=rv.hasOwnProperty,ck=typeof ArrayBuffer<"u",fF=typeof DataView<"u",pF=Array.isArray,dT=Object.keys,hT=Object.create,fT=ck&&ArrayBuffer.isView,gF=isNaN,mF=isFinite,uk=!{toString:null}.propertyIsEnumerable("toString"),pT=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],yF=Math.pow(2,53)-1;function li(i,e){return e=e==null?i.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+e];switch(e){case 0:return i.call(this,n);case 1:return i.call(this,arguments[0],n);case 2:return i.call(this,arguments[0],arguments[1],n)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=n,i.apply(this,s)}}function Ea(i){var e=typeof i;return e==="function"||e==="object"&&!!i}function dk(i){return i===null}function sv(i){return i===void 0}function av(i){return i===!0||i===!1||zu.call(i)==="[object Boolean]"}function hk(i){return!!(i&&i.nodeType===1)}function Jn(i){var e="[object "+i+"]";return function(t){return zu.call(t)===e}}const Qp=Jn("String"),ov=Jn("Number"),fk=Jn("Date"),pk=Jn("RegExp"),gk=Jn("Error"),lv=Jn("Symbol"),cv=Jn("ArrayBuffer");var mk=Jn("Function"),bF=cT.document&&cT.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof bF!="function"&&(mk=function(i){return typeof i=="function"||!1});const Qn=mk,yk=Jn("Object");var bk=fF&&(!/\[native code\]/.test(String(DataView))||yk(new DataView(new ArrayBuffer(8)))),uv=typeof Map<"u"&&yk(new Map),vF=Jn("DataView");function xF(i){return i!=null&&Qn(i.getInt8)&&cv(i.buffer)}const Wu=bk?xF:vF,Sa=pF||Jn("Array");function Ca(i,e){return i!=null&&hF.call(i,e)}var o1=Jn("Arguments");(function(){o1(arguments)||(o1=function(i){return Ca(i,"callee")})})();const Jp=o1;function vk(i){return!lv(i)&&mF(i)&&!isNaN(parseFloat(i))}function dv(i){return ov(i)&&gF(i)}function hv(i){return function(){return i}}function xk(i){return function(e){var t=i(e);return typeof t=="number"&&t>=0&&t<=yF}}function Dk(i){return function(e){return e?.[i]}}const $f=Dk("byteLength"),DF=xk($f);var wF=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function AF(i){return fT?fT(i)&&!Wu(i):DF(i)&&wF.test(zu.call(i))}const fv=ck?AF:hv(!1),_i=Dk("length");function TF(i){for(var e={},t=i.length,n=0;n<t;++n)e[i[n]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,i.push(r)}}}function wk(i,e){e=TF(e);var t=pT.length,n=i.constructor,r=Qn(n)&&n.prototype||rv,s="constructor";for(Ca(i,s)&&!e.contains(s)&&e.push(s);t--;)s=pT[t],s in i&&i[s]!==r[s]&&!e.contains(s)&&e.push(s)}function En(i){if(!Ea(i))return[];if(dT)return dT(i);var e=[];for(var t in i)Ca(i,t)&&e.push(t);return uk&&wk(i,e),e}function Ak(i){if(i==null)return!0;var e=_i(i);return typeof e=="number"&&(Sa(i)||Qp(i)||Jp(i))?e===0:_i(En(i))===0}function pv(i,e){var t=En(e),n=t.length;if(i==null)return!n;for(var r=Object(i),s=0;s<n;s++){var a=t[s];if(e[a]!==r[a]||!(a in r))return!1}return!0}function Mt(i){if(i instanceof Mt)return i;if(!(this instanceof Mt))return new Mt(i);this._wrapped=i}Mt.VERSION=iv;Mt.prototype.value=function(){return this._wrapped};Mt.prototype.valueOf=Mt.prototype.toJSON=Mt.prototype.value;Mt.prototype.toString=function(){return String(this._wrapped)};function gT(i){return new Uint8Array(i.buffer||i,i.byteOffset||0,$f(i))}var mT="[object DataView]";function l1(i,e,t,n){if(i===e)return i!==0||1/i===1/e;if(i==null||e==null)return!1;if(i!==i)return e!==e;var r=typeof i;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:Tk(i,e,t,n)}function Tk(i,e,t,n){i instanceof Mt&&(i=i._wrapped),e instanceof Mt&&(e=e._wrapped);var r=zu.call(i);if(r!==zu.call(e))return!1;if(bk&&r=="[object Object]"&&Wu(i)){if(!Wu(e))return!1;r=mT}switch(r){case"[object RegExp]":case"[object String]":return""+i==""+e;case"[object Number]":return+i!=+i?+e!=+e:+i==0?1/+i===1/e:+i==+e;case"[object Date]":case"[object Boolean]":return+i==+e;case"[object Symbol]":return uT.valueOf.call(i)===uT.valueOf.call(e);case"[object ArrayBuffer]":case mT:return Tk(gT(i),gT(e),t,n)}var s=r==="[object Array]";if(!s&&fv(i)){var a=$f(i);if(a!==$f(e))return!1;if(i.buffer===e.buffer&&i.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof i!="object"||typeof e!="object")return!1;var l=i.constructor,c=e.constructor;if(l!==c&&!(Qn(l)&&l instanceof l&&Qn(c)&&c instanceof c)&&"constructor"in i&&"constructor"in e)return!1}t=t||[],n=n||[];for(var d=t.length;d--;)if(t[d]===i)return n[d]===e;if(t.push(i),n.push(e),s){if(d=i.length,d!==e.length)return!1;for(;d--;)if(!l1(i[d],e[d],t,n))return!1}else{var h=En(i),p;if(d=h.length,En(e).length!==d)return!1;for(;d--;)if(p=h[d],!(Ca(e,p)&&l1(i[p],e[p],t,n)))return!1}return t.pop(),n.pop(),!0}function _k(i,e){return l1(i,e)}function ic(i){if(!Ea(i))return[];var e=[];for(var t in i)e.push(t);return uk&&wk(i,e),e}function gv(i){var e=_i(i);return function(t){if(t==null)return!1;var n=ic(t);if(_i(n))return!1;for(var r=0;r<e;r++)if(!Qn(t[i[r]]))return!1;return i!==Ck||!Qn(t[mv])}}var mv="forEach",Ek="has",yv=["clear","delete"],Sk=["get",Ek,"set"],_F=yv.concat(mv,Sk),Ck=yv.concat(Sk),EF=["add"].concat(yv,mv,Ek);const kk=uv?gv(_F):Jn("Map"),Uk=uv?gv(Ck):Jn("WeakMap"),Mk=uv?gv(EF):Jn("Set"),Rk=Jn("WeakSet");function ko(i){for(var e=En(i),t=e.length,n=Array(t),r=0;r<t;r++)n[r]=i[e[r]];return n}function Ok(i){for(var e=En(i),t=e.length,n=Array(t),r=0;r<t;r++)n[r]=[e[r],i[e[r]]];return n}function bv(i){for(var e={},t=En(i),n=0,r=t.length;n<r;n++)e[i[t[n]]]=t[n];return e}function ju(i){var e=[];for(var t in i)Qn(i[t])&&e.push(t);return e.sort()}function vv(i,e){return function(t){var n=arguments.length;if(e&&(t=Object(t)),n<2||t==null)return t;for(var r=1;r<n;r++)for(var s=arguments[r],a=i(s),l=a.length,c=0;c<l;c++){var d=a[c];(!e||t[d]===void 0)&&(t[d]=s[d])}return t}}const xv=vv(ic),$l=vv(En),Dv=vv(ic,!0);function SF(){return function(){}}function Nk(i){if(!Ea(i))return{};if(hT)return hT(i);var e=SF();e.prototype=i;var t=new e;return e.prototype=null,t}function Fk(i,e){var t=Nk(i);return e&&$l(t,e),t}function Bk(i){return Ea(i)?Sa(i)?i.slice():xv({},i):i}function Lk(i,e){return e(i),i}function wv(i){return Sa(i)?i:[i]}Mt.toPath=wv;function fd(i){return Mt.toPath(i)}function Av(i,e){for(var t=e.length,n=0;n<t;n++){if(i==null)return;i=i[e[n]]}return t?i:void 0}function Tv(i,e,t){var n=Av(i,fd(e));return sv(n)?t:n}function Ik(i,e){e=fd(e);for(var t=e.length,n=0;n<t;n++){var r=e[n];if(!Ca(i,r))return!1;i=i[r]}return!!t}function eg(i){return i}function xo(i){return i=$l({},i),function(e){return pv(e,i)}}function tg(i){return i=fd(i),function(e){return Av(e,i)}}function pd(i,e,t){if(e===void 0)return i;switch(t??3){case 1:return function(n){return i.call(e,n)};case 3:return function(n,r,s){return i.call(e,n,r,s)};case 4:return function(n,r,s,a){return i.call(e,n,r,s,a)}}return function(){return i.apply(e,arguments)}}function Pk(i,e,t){return i==null?eg:Qn(i)?pd(i,e,t):Ea(i)&&!Sa(i)?xo(i):tg(i)}function ng(i,e){return Pk(i,e,1/0)}Mt.iteratee=ng;function Ei(i,e,t){return Mt.iteratee!==ng?Mt.iteratee(i,e):Pk(i,e,t)}function zk(i,e,t){e=Ei(e,t);for(var n=En(i),r=n.length,s={},a=0;a<r;a++){var l=n[a];s[l]=e(i[l],l,i)}return s}function _v(){}function Wk(i){return i==null?_v:function(e){return Tv(i,e)}}function jk(i,e,t){var n=Array(Math.max(0,i));e=pd(e,t,1);for(var r=0;r<i;r++)n[r]=e(r);return n}function Yf(i,e){return e==null&&(e=i,i=0),i+Math.floor(Math.random()*(e-i+1))}const Yl=Date.now||function(){return new Date().getTime()};function Hk(i){var e=function(s){return i[s]},t="(?:"+En(i).join("|")+")",n=RegExp(t),r=RegExp(t,"g");return function(s){return s=s==null?"":""+s,n.test(s)?s.replace(r,e):s}}const qk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Vk=Hk(qk),CF=bv(qk),Gk=Hk(CF),Xk=Mt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ob=/(.)^/,kF={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},UF=/\\|'|\r|\n|\u2028|\u2029/g;function MF(i){return"\\"+kF[i]}var RF=/^\s*(\w|\$)+\s*$/;function $k(i,e,t){!e&&t&&(e=t),e=Dv({},e,Mt.templateSettings);var n=RegExp([(e.escape||ob).source,(e.interpolate||ob).source,(e.evaluate||ob).source].join("|")+"|$","g"),r=0,s="__p+='";i.replace(n,function(d,h,p,g,m){return s+=i.slice(r,m).replace(UF,MF),r=m+d.length,h?s+=`'+
((__t=(`+h+`))==null?'':_.escape(__t))+
'`:p?s+=`'+
((__t=(`+p+`))==null?'':__t)+
'`:g&&(s+=`';
`+g+`
__p+='`),d}),s+=`';
`;var a=e.variable;if(a){if(!RF.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var l;try{l=new Function(a,"_",s)}catch(d){throw d.source=s,d}var c=function(d){return l.call(this,d,Mt)};return c.source="function("+a+`){
`+s+"}",c}function Yk(i,e,t){e=fd(e);var n=e.length;if(!n)return Qn(t)?t.call(i):t;for(var r=0;r<n;r++){var s=i?.[e[r]];s===void 0&&(s=t,r=n),i=Qn(s)?s.call(i):s}return i}var OF=0;function Kk(i){var e=++OF+"";return i?i+e:e}function Zk(i){var e=Mt(i);return e._chain=!0,e}function Qk(i,e,t,n,r){if(!(n instanceof e))return i.apply(t,r);var s=Nk(i.prototype),a=i.apply(s,r);return Ea(a)?a:s}var Uo=li(function(i,e){var t=Uo.placeholder,n=function(){for(var r=0,s=e.length,a=Array(s),l=0;l<s;l++)a[l]=e[l]===t?arguments[r++]:e[l];for(;r<arguments.length;)a.push(arguments[r++]);return Qk(i,n,this,this,a)};return n});Uo.placeholder=Mt;const Ev=li(function(i,e,t){if(!Qn(i))throw new TypeError("Bind must be called on a function");var n=li(function(r){return Qk(i,n,e,this,t.concat(r))});return n}),ji=xk(_i);function Mo(i,e,t,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(i);for(var r=n.length,s=0,a=_i(i);s<a;s++){var l=i[s];if(ji(l)&&(Sa(l)||Jp(l)))if(e>1)Mo(l,e-1,t,n),r=n.length;else for(var c=0,d=l.length;c<d;)n[r++]=l[c++];else t||(n[r++]=l)}return n}const Jk=li(function(i,e){e=Mo(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var n=e[t];i[n]=Ev(i[n],i)}return i});function e3(i,e){var t=function(n){var r=t.cache,s=""+(e?e.apply(this,arguments):n);return Ca(r,s)||(r[s]=i.apply(this,arguments)),r[s]};return t.cache={},t}const Sv=li(function(i,e,t){return setTimeout(function(){return i.apply(null,t)},e)}),t3=Uo(Sv,Mt,1);function n3(i,e,t){var n,r,s,a,l=0;t||(t={});var c=function(){l=t.leading===!1?0:Yl(),n=null,a=i.apply(r,s),n||(r=s=null)},d=function(){var h=Yl();!l&&t.leading===!1&&(l=h);var p=e-(h-l);return r=this,s=arguments,p<=0||p>e?(n&&(clearTimeout(n),n=null),l=h,a=i.apply(r,s),n||(r=s=null)):!n&&t.trailing!==!1&&(n=setTimeout(c,p)),a};return d.cancel=function(){clearTimeout(n),l=0,n=r=s=null},d}function i3(i,e,t){var n,r,s,a,l,c=function(){var h=Yl()-r;e>h?n=setTimeout(c,e-h):(n=null,t||(a=i.apply(l,s)),n||(s=l=null))},d=li(function(h){return l=this,s=h,r=Yl(),n||(n=setTimeout(c,e),t&&(a=i.apply(l,s))),a});return d.cancel=function(){clearTimeout(n),n=s=l=null},d}function r3(i,e){return Uo(e,i)}function ig(i){return function(){return!i.apply(this,arguments)}}function s3(){var i=arguments,e=i.length-1;return function(){for(var t=e,n=i[e].apply(this,arguments);t--;)n=i[t].call(this,n);return n}}function a3(i,e){return function(){if(--i<1)return e.apply(this,arguments)}}function Cv(i,e){var t;return function(){return--i>0&&(t=e.apply(this,arguments)),i<=1&&(e=null),t}}const o3=Uo(Cv,2);function kv(i,e,t){e=Ei(e,t);for(var n=En(i),r,s=0,a=n.length;s<a;s++)if(r=n[s],e(i[r],r,i))return r}function l3(i){return function(e,t,n){t=Ei(t,n);for(var r=_i(e),s=i>0?0:r-1;s>=0&&s<r;s+=i)if(t(e[s],s,e))return s;return-1}}const rg=l3(1),Uv=l3(-1);function Mv(i,e,t,n){t=Ei(t,n,1);for(var r=t(e),s=0,a=_i(i);s<a;){var l=Math.floor((s+a)/2);t(i[l])<r?s=l+1:a=l}return s}function c3(i,e,t){return function(n,r,s){var a=0,l=_i(n);if(typeof s=="number")i>0?a=s>=0?s:Math.max(s+l,a):l=s>=0?Math.min(s+1,l):s+l+1;else if(t&&s&&l)return s=t(n,r),n[s]===r?s:-1;if(r!==r)return s=e(hd.call(n,a,l),dv),s>=0?s+a:-1;for(s=i>0?a:l-1;s>=0&&s<l;s+=i)if(n[s]===r)return s;return-1}}const Rv=c3(1,rg,Mv),u3=c3(-1,Uv);function Hu(i,e,t){var n=ji(i)?rg:kv,r=n(i,e,t);if(r!==void 0&&r!==-1)return i[r]}function d3(i,e){return Hu(i,xo(e))}function _r(i,e,t){e=pd(e,t);var n,r;if(ji(i))for(n=0,r=i.length;n<r;n++)e(i[n],n,i);else{var s=En(i);for(n=0,r=s.length;n<r;n++)e(i[s[n]],s[n],i)}return i}function Ts(i,e,t){e=Ei(e,t);for(var n=!ji(i)&&En(i),r=(n||i).length,s=Array(r),a=0;a<r;a++){var l=n?n[a]:a;s[a]=e(i[l],l,i)}return s}function h3(i){var e=function(t,n,r,s){var a=!ji(t)&&En(t),l=(a||t).length,c=i>0?0:l-1;for(s||(r=t[a?a[c]:c],c+=i);c>=0&&c<l;c+=i){var d=a?a[c]:c;r=n(r,t[d],d,t)}return r};return function(t,n,r,s){var a=arguments.length>=3;return e(t,pd(n,s,4),r,a)}}const jl=h3(1),Kf=h3(-1);function wa(i,e,t){var n=[];return e=Ei(e,t),_r(i,function(r,s,a){e(r,s,a)&&n.push(r)}),n}function f3(i,e,t){return wa(i,ig(Ei(e)),t)}function Zf(i,e,t){e=Ei(e,t);for(var n=!ji(i)&&En(i),r=(n||i).length,s=0;s<r;s++){var a=n?n[s]:s;if(!e(i[a],a,i))return!1}return!0}function Qf(i,e,t){e=Ei(e,t);for(var n=!ji(i)&&En(i),r=(n||i).length,s=0;s<r;s++){var a=n?n[s]:s;if(e(i[a],a,i))return!0}return!1}function ur(i,e,t,n){return ji(i)||(i=ko(i)),(typeof t!="number"||n)&&(t=0),Rv(i,e,t)>=0}const p3=li(function(i,e,t){var n,r;return Qn(e)?r=e:(e=fd(e),n=e.slice(0,-1),e=e[e.length-1]),Ts(i,function(s){var a=r;if(!a){if(n&&n.length&&(s=Av(s,n)),s==null)return;a=s[e]}return a==null?a:a.apply(s,t)})});function sg(i,e){return Ts(i,tg(e))}function g3(i,e){return wa(i,xo(e))}function Ov(i,e,t){var n=-1/0,r=-1/0,s,a;if(e==null||typeof e=="number"&&typeof i[0]!="object"&&i!=null){i=ji(i)?i:ko(i);for(var l=0,c=i.length;l<c;l++)s=i[l],s!=null&&s>n&&(n=s)}else e=Ei(e,t),_r(i,function(d,h,p){a=e(d,h,p),(a>r||a===-1/0&&n===-1/0)&&(n=d,r=a)});return n}function m3(i,e,t){var n=1/0,r=1/0,s,a;if(e==null||typeof e=="number"&&typeof i[0]!="object"&&i!=null){i=ji(i)?i:ko(i);for(var l=0,c=i.length;l<c;l++)s=i[l],s!=null&&s<n&&(n=s)}else e=Ei(e,t),_r(i,function(d,h,p){a=e(d,h,p),(a<r||a===1/0&&n===1/0)&&(n=d,r=a)});return n}var NF=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Nv(i){return i?Sa(i)?hd.call(i):Qp(i)?i.match(NF):ji(i)?Ts(i,eg):ko(i):[]}function Fv(i,e,t){if(e==null||t)return ji(i)||(i=ko(i)),i[Yf(i.length-1)];var n=Nv(i),r=_i(n);e=Math.max(Math.min(e,r),0);for(var s=r-1,a=0;a<e;a++){var l=Yf(a,s),c=n[a];n[a]=n[l],n[l]=c}return n.slice(0,e)}function y3(i){return Fv(i,1/0)}function b3(i,e,t){var n=0;return e=Ei(e,t),sg(Ts(i,function(r,s,a){return{value:r,index:n++,criteria:e(r,s,a)}}).sort(function(r,s){var a=r.criteria,l=s.criteria;if(a!==l){if(a>l||a===void 0)return 1;if(a<l||l===void 0)return-1}return r.index-s.index}),"value")}function ag(i,e){return function(t,n,r){var s=e?[[],[]]:{};return n=Ei(n,r),_r(t,function(a,l){var c=n(a,l,t);i(s,a,c)}),s}}const v3=ag(function(i,e,t){Ca(i,t)?i[t].push(e):i[t]=[e]}),x3=ag(function(i,e,t){i[t]=e}),D3=ag(function(i,e,t){Ca(i,t)?i[t]++:i[t]=1}),w3=ag(function(i,e,t){i[t?0:1].push(e)},!0);function A3(i){return i==null?0:ji(i)?i.length:En(i).length}function FF(i,e,t){return e in t}const Bv=li(function(i,e){var t={},n=e[0];if(i==null)return t;Qn(n)?(e.length>1&&(n=pd(n,e[1])),e=ic(i)):(n=FF,e=Mo(e,!1,!1),i=Object(i));for(var r=0,s=e.length;r<s;r++){var a=e[r],l=i[a];n(l,a,i)&&(t[a]=l)}return t}),T3=li(function(i,e){var t=e[0],n;return Qn(t)?(t=ig(t),e.length>1&&(n=e[1])):(e=Ts(Mo(e,!1,!1),String),t=function(r,s){return!ur(e,s)}),Bv(i,t,n)});function Lv(i,e,t){return hd.call(i,0,Math.max(0,i.length-(e==null||t?1:e)))}function Hl(i,e,t){return i==null||i.length<1?e==null||t?void 0:[]:e==null||t?i[0]:Lv(i,i.length-e)}function uo(i,e,t){return hd.call(i,e==null||t?1:e)}function _3(i,e,t){return i==null||i.length<1?e==null||t?void 0:[]:e==null||t?i[i.length-1]:uo(i,Math.max(0,i.length-e))}function E3(i){return wa(i,Boolean)}function S3(i,e){return Mo(i,e,!1)}const Iv=li(function(i,e){return e=Mo(e,!0,!0),wa(i,function(t){return!ur(e,t)})}),C3=li(function(i,e){return Iv(i,e)});function qu(i,e,t,n){av(e)||(n=t,t=e,e=!1),t!=null&&(t=Ei(t,n));for(var r=[],s=[],a=0,l=_i(i);a<l;a++){var c=i[a],d=t?t(c,a,i):c;e&&!t?((!a||s!==d)&&r.push(c),s=d):t?ur(s,d)||(s.push(d),r.push(c)):ur(r,c)||r.push(c)}return r}const k3=li(function(i){return qu(Mo(i,!0,!0))});function U3(i){for(var e=[],t=arguments.length,n=0,r=_i(i);n<r;n++){var s=i[n];if(!ur(e,s)){var a;for(a=1;a<t&&ur(arguments[a],s);a++);a===t&&e.push(s)}}return e}function Vu(i){for(var e=i&&Ov(i,_i).length||0,t=Array(e),n=0;n<e;n++)t[n]=sg(i,n);return t}const M3=li(Vu);function R3(i,e){for(var t={},n=0,r=_i(i);n<r;n++)e?t[i[n]]=e[n]:t[i[n][0]]=i[n][1];return t}function O3(i,e,t){e==null&&(e=i||0,i=0),t||(t=e<i?-1:1);for(var n=Math.max(Math.ceil((e-i)/t),0),r=Array(n),s=0;s<n;s++,i+=t)r[s]=i;return r}function N3(i,e){if(e==null||e<1)return[];for(var t=[],n=0,r=i.length;n<r;)t.push(hd.call(i,n,n+=e));return t}function Pv(i,e){return i._chain?Mt(e).chain():e}function zv(i){return _r(ju(i),function(e){var t=Mt[e]=i[e];Mt.prototype[e]=function(){var n=[this._wrapped];return dF.apply(n,arguments),Pv(this,t.apply(Mt,n))}}),Mt}_r(["pop","push","reverse","shift","sort","splice","unshift"],function(i){var e=Zp[i];Mt.prototype[i]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(i==="shift"||i==="splice")&&t.length===0&&delete t[0]),Pv(this,t)}});_r(["concat","join","slice"],function(i){var e=Zp[i];Mt.prototype[i]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),Pv(this,t)}});const BF=Object.freeze(Object.defineProperty({__proto__:null,VERSION:iv,after:a3,all:Zf,allKeys:ic,any:Qf,assign:$l,before:Cv,bind:Ev,bindAll:Jk,chain:Zk,chunk:N3,clone:Bk,collect:Ts,compact:E3,compose:s3,constant:hv,contains:ur,countBy:D3,create:Fk,debounce:i3,default:Mt,defaults:Dv,defer:t3,delay:Sv,detect:Hu,difference:Iv,drop:uo,each:_r,escape:Vk,every:Zf,extend:xv,extendOwn:$l,filter:wa,find:Hu,findIndex:rg,findKey:kv,findLastIndex:Uv,findWhere:d3,first:Hl,flatten:S3,foldl:jl,foldr:Kf,forEach:_r,functions:ju,get:Tv,groupBy:v3,has:Ik,head:Hl,identity:eg,include:ur,includes:ur,indexBy:x3,indexOf:Rv,initial:Lv,inject:jl,intersection:U3,invert:bv,invoke:p3,isArguments:Jp,isArray:Sa,isArrayBuffer:cv,isBoolean:av,isDataView:Wu,isDate:fk,isElement:hk,isEmpty:Ak,isEqual:_k,isError:gk,isFinite:vk,isFunction:Qn,isMap:kk,isMatch:pv,isNaN:dv,isNull:dk,isNumber:ov,isObject:Ea,isRegExp:pk,isSet:Mk,isString:Qp,isSymbol:lv,isTypedArray:fv,isUndefined:sv,isWeakMap:Uk,isWeakSet:Rk,iteratee:ng,keys:En,last:_3,lastIndexOf:u3,map:Ts,mapObject:zk,matcher:xo,matches:xo,max:Ov,memoize:e3,methods:ju,min:m3,mixin:zv,negate:ig,noop:_v,now:Yl,object:R3,omit:T3,once:o3,pairs:Ok,partial:Uo,partition:w3,pick:Bv,pluck:sg,property:tg,propertyOf:Wk,random:Yf,range:O3,reduce:jl,reduceRight:Kf,reject:f3,rest:uo,restArguments:li,result:Yk,sample:Fv,select:wa,shuffle:y3,size:A3,some:Qf,sortBy:b3,sortedIndex:Mv,tail:uo,take:Hl,tap:Lk,template:$k,templateSettings:Xk,throttle:n3,times:jk,toArray:Nv,toPath:wv,transpose:Vu,unescape:Gk,union:k3,uniq:qu,unique:qu,uniqueId:Kk,unzip:Vu,values:ko,where:g3,without:C3,wrap:r3,zip:M3},Symbol.toStringTag,{value:"Module"}));var c1=zv(BF);c1._=c1;const LF=Object.freeze(Object.defineProperty({__proto__:null,VERSION:iv,after:a3,all:Zf,allKeys:ic,any:Qf,assign:$l,before:Cv,bind:Ev,bindAll:Jk,chain:Zk,chunk:N3,clone:Bk,collect:Ts,compact:E3,compose:s3,constant:hv,contains:ur,countBy:D3,create:Fk,debounce:i3,default:c1,defaults:Dv,defer:t3,delay:Sv,detect:Hu,difference:Iv,drop:uo,each:_r,escape:Vk,every:Zf,extend:xv,extendOwn:$l,filter:wa,find:Hu,findIndex:rg,findKey:kv,findLastIndex:Uv,findWhere:d3,first:Hl,flatten:S3,foldl:jl,foldr:Kf,forEach:_r,functions:ju,get:Tv,groupBy:v3,has:Ik,head:Hl,identity:eg,include:ur,includes:ur,indexBy:x3,indexOf:Rv,initial:Lv,inject:jl,intersection:U3,invert:bv,invoke:p3,isArguments:Jp,isArray:Sa,isArrayBuffer:cv,isBoolean:av,isDataView:Wu,isDate:fk,isElement:hk,isEmpty:Ak,isEqual:_k,isError:gk,isFinite:vk,isFunction:Qn,isMap:kk,isMatch:pv,isNaN:dv,isNull:dk,isNumber:ov,isObject:Ea,isRegExp:pk,isSet:Mk,isString:Qp,isSymbol:lv,isTypedArray:fv,isUndefined:sv,isWeakMap:Uk,isWeakSet:Rk,iteratee:ng,keys:En,last:_3,lastIndexOf:u3,map:Ts,mapObject:zk,matcher:xo,matches:xo,max:Ov,memoize:e3,methods:ju,min:m3,mixin:zv,negate:ig,noop:_v,now:Yl,object:R3,omit:T3,once:o3,pairs:Ok,partial:Uo,partition:w3,pick:Bv,pluck:sg,property:tg,propertyOf:Wk,random:Yf,range:O3,reduce:jl,reduceRight:Kf,reject:f3,rest:uo,restArguments:li,result:Yk,sample:Fv,select:wa,shuffle:y3,size:A3,some:Qf,sortBy:b3,sortedIndex:Mv,tail:uo,take:Hl,tap:Lk,template:$k,templateSettings:Xk,throttle:n3,times:jk,toArray:Nv,toPath:wv,transpose:Vu,unescape:Gk,union:k3,uniq:qu,unique:qu,uniqueId:Kk,unzip:Vu,values:ko,where:g3,without:C3,wrap:r3,zip:M3},Symbol.toStringTag,{value:"Module"})),fn=i5(LF);var Wh={},rr={},lb={exports:{}},jh={exports:{}},yT;function rc(){if(yT)return jh.exports;yT=1;var i=(function(){return this===void 0})();if(i)jh.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(h,p){var g=Object.getOwnPropertyDescriptor(h,p);return!!(!g||g.writable||g.set)}};else{var e={}.hasOwnProperty,t={}.toString,n={}.constructor.prototype,r=function(h){var p=[];for(var g in h)e.call(h,g)&&p.push(g);return p},s=function(h,p){return{value:h[p]}},a=function(h,p,g){return h[p]=g.value,h},l=function(h){return h},c=function(h){try{return Object(h).constructor.prototype}catch{return n}},d=function(h){try{return t.call(h)==="[object Array]"}catch{return!1}};jh.exports={isArray:d,keys:r,names:r,defineProperty:a,getDescriptor:s,freeze:l,getPrototypeOf:c,isES5:i,propertyIsWritable:function(){return!0}}}return jh.exports}var ru,bT;function Ht(){if(bT)return ru;bT=1;var i={},e=rc(),t=typeof navigator>"u",n={e:{}},r,s=typeof self<"u"?self:typeof window<"u"?window:typeof ua<"u"?ua:ru!==void 0?ru:null;function a(){try{var G=r;return r=null,G.apply(this,arguments)}catch(te){return n.e=te,n}}function l(G){return r=G,a}var c=function(G,te){var ce={}.hasOwnProperty;function we(){this.constructor=G,this.constructor$=te;for(var ge in te.prototype)ce.call(te.prototype,ge)&&ge.charAt(ge.length-1)!=="$"&&(this[ge+"$"]=te.prototype[ge])}return we.prototype=te.prototype,G.prototype=new we,G.prototype};function d(G){return G==null||G===!0||G===!1||typeof G=="string"||typeof G=="number"}function h(G){return typeof G=="function"||typeof G=="object"&&G!==null}function p(G){return d(G)?new Error(k(G)):G}function g(G,te){var ce=G.length,we=new Array(ce+1),ge;for(ge=0;ge<ce;++ge)we[ge]=G[ge];return we[ge]=te,we}function m(G,te,ce){if(e.isES5){var we=Object.getOwnPropertyDescriptor(G,te);if(we!=null)return we.get==null&&we.set==null?we.value:ce}else return{}.hasOwnProperty.call(G,te)?G[te]:void 0}function v(G,te,ce){if(d(G))return G;var we={value:ce,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(G,te,we),G}function b(G){throw G}var x=(function(){var G=[Array.prototype,Object.prototype,Function.prototype],te=function(ge){for(var Ce=0;Ce<G.length;++Ce)if(G[Ce]===ge)return!0;return!1};if(e.isES5){var ce=Object.getOwnPropertyNames;return function(ge){for(var Ce=[],Ue=Object.create(null);ge!=null&&!te(ge);){var Fe;try{Fe=ce(ge)}catch{return Ce}for(var Pe=0;Pe<Fe.length;++Pe){var Qe=Fe[Pe];if(!Ue[Qe]){Ue[Qe]=!0;var pt=Object.getOwnPropertyDescriptor(ge,Qe);pt!=null&&pt.get==null&&pt.set==null&&Ce.push(Qe)}}ge=e.getPrototypeOf(ge)}return Ce}}else{var we={}.hasOwnProperty;return function(ge){if(te(ge))return[];var Ce=[];e:for(var Ue in ge)if(we.call(ge,Ue))Ce.push(Ue);else{for(var Fe=0;Fe<G.length;++Fe)if(we.call(G[Fe],Ue))continue e;Ce.push(Ue)}return Ce}}})(),D=/this\s*\.\s*\S+\s*=/;function w(G){try{if(typeof G=="function"){var te=e.names(G.prototype),ce=e.isES5&&te.length>1,we=te.length>0&&!(te.length===1&&te[0]==="constructor"),ge=D.test(G+"")&&e.names(G).length>0;if(ce||we||ge)return!0}return!1}catch{return!1}}function T(G){return G}var C=/^[a-z$_][a-z$_0-9]*$/i;function E(G){return C.test(G)}function S(G,te,ce){for(var we=new Array(G),ge=0;ge<G;++ge)we[ge]=te+ge+ce;return we}function k(G){try{return G+""}catch{return"[no string representation]"}}function O(G){return G!==null&&typeof G=="object"&&typeof G.message=="string"&&typeof G.name=="string"}function R(G){try{v(G,"isOperational",!0)}catch{}}function z(G){return G==null?!1:G instanceof Error.__BluebirdErrorTypes__.OperationalError||G.isOperational===!0}function Z(G){return O(G)&&e.propertyIsWritable(G,"stack")}var F=(function(){return"stack"in new Error?function(G){return Z(G)?G:new Error(k(G))}:function(G){if(Z(G))return G;try{throw new Error(k(G))}catch(te){return te}}})();function W(G){return{}.toString.call(G)}function M(G,te,ce){for(var we=e.names(G),ge=0;ge<we.length;++ge){var Ce=we[ge];if(ce(Ce))try{e.defineProperty(te,Ce,e.getDescriptor(G,Ce))}catch{}}}var Y=function(G){return e.isArray(G)?G:null};if(typeof Symbol<"u"&&Symbol.iterator){var B=typeof Array.from=="function"?function(G){return Array.from(G)}:function(G){for(var te=[],ce=G[Symbol.iterator](),we;!(we=ce.next()).done;)te.push(we.value);return te};Y=function(G){return e.isArray(G)?G:G!=null&&typeof G[Symbol.iterator]=="function"?B(G):null}}var I=typeof process<"u"&&W(process).toLowerCase()==="[object process]",V=typeof process<"u"&&typeof i<"u";function K(G){return V?i[G]:void 0}function ae(){if(typeof Promise=="function")try{var G=new Promise(function(){});if({}.toString.call(G)==="[object Promise]")return Promise}catch{}}function L(G,te){return G.bind(te)}var H={isClass:w,isIdentifier:E,inheritedDataKeys:x,getDataPropertyOrDefault:m,thrower:b,isArray:e.isArray,asArray:Y,notEnumerableProp:v,isPrimitive:d,isObject:h,isError:O,canEvaluate:t,errorObj:n,tryCatch:l,inherits:c,withAppended:g,maybeWrapAsError:p,toFastProperties:T,filledRange:S,toString:k,canAttachTrace:Z,ensureErrorObject:F,originatesFromRejection:z,markAsOriginatingFromRejection:R,classString:W,copyDescriptors:M,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:I,hasEnvVariables:V,env:K,global:s,getNativePromise:ae,domainBind:L};H.isRecentNode=H.isNode&&(function(){var G=process.versions.node.split(".").map(Number);return G[0]===0&&G[1]>10||G[0]>0})(),H.isNode&&H.toFastProperties(process);try{throw new Error}catch(G){H.lastLineError=G}return ru=H,ru}var Hh={exports:{}},cb,vT;function IF(){if(vT)return cb;vT=1;var i=Ht(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},n=i.getNativePromise();if(i.isNode&&typeof MutationObserver>"u"){var r=ua.setImmediate,s=process.nextTick;e=i.isRecentNode?function(l){r.call(ua,l)}:function(l){s.call(process,l)}}else if(typeof n=="function"&&typeof n.resolve=="function"){var a=n.resolve();e=function(l){a.then(l)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var l=document.createElement("div"),c={attributes:!0},d=!1,h=document.createElement("div"),p=new MutationObserver(function(){l.classList.toggle("foo"),d=!1});p.observe(h,c);var g=function(){d||(d=!0,h.classList.toggle("foo"))};return function(v){var b=new MutationObserver(function(){b.disconnect(),v()});b.observe(l,c),g()}})():typeof setImmediate<"u"?e=function(l){setImmediate(l)}:typeof setTimeout<"u"?e=function(l){setTimeout(l,0)}:e=t;return cb=e,cb}var ub,xT;function PF(){if(xT)return ub;xT=1;function i(t,n,r,s,a){for(var l=0;l<a;++l)r[l+s]=t[l+n],t[l+n]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var n=this.length();this._checkCapacity(n+1);var r=this._front+n&this._capacity-1;this[r]=t,this._length=n+1},e.prototype.push=function(t,n,r){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(t),this._pushOne(n),this._pushOne(r);return}var a=this._front+s-3;this._checkCapacity(s);var l=this._capacity-1;this[a+0&l]=t,this[a+1&l]=n,this[a+2&l]=r,this._length=s},e.prototype.shift=function(){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,n},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var n=this._capacity;this._capacity=t;var r=this._front,s=this._length,a=r+s&n-1;i(this,0,this,n,a)},ub=e,ub}var DT;function zF(){if(DT)return Hh.exports;DT=1;var i;try{throw new Error}catch(c){i=c}var e=IF(),t=PF(),n=Ht();function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var c=this;this.drainQueues=function(){c._drainQueues()},this._schedule=e}r.prototype.setScheduler=function(c){var d=this._schedule;return this._schedule=c,this._customScheduler=!0,d},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){n.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(c,d){d?(process.stderr.write("Fatal "+(c instanceof Error?c.stack:c)+`
`),process.exit(2)):this.throwLater(c)},r.prototype.throwLater=function(c,d){if(arguments.length===1&&(d=c,c=function(){throw d}),typeof setTimeout<"u")setTimeout(function(){c(d)},0);else try{this._schedule(function(){c(d)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(c,d,h){this._lateQueue.push(c,d,h),this._queueTick()}function a(c,d,h){this._normalQueue.push(c,d,h),this._queueTick()}function l(c){this._normalQueue._pushOne(c),this._queueTick()}return n.hasDevTools?(r.prototype.invokeLater=function(c,d,h){this._trampolineEnabled?s.call(this,c,d,h):this._schedule(function(){setTimeout(function(){c.call(d,h)},100)})},r.prototype.invoke=function(c,d,h){this._trampolineEnabled?a.call(this,c,d,h):this._schedule(function(){c.call(d,h)})},r.prototype.settlePromises=function(c){this._trampolineEnabled?l.call(this,c):this._schedule(function(){c._settlePromises()})}):(r.prototype.invokeLater=s,r.prototype.invoke=a,r.prototype.settlePromises=l),r.prototype._drainQueue=function(c){for(;c.length()>0;){var d=c.shift();if(typeof d!="function"){d._settlePromises();continue}var h=c.shift(),p=c.shift();d.call(h,p)}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},Hh.exports=r,Hh.exports.firstLineError=i,Hh.exports}var db,wT;function Aa(){if(wT)return db;wT=1;var i=rc(),e=i.freeze,t=Ht(),n=t.inherits,r=t.notEnumerableProp;function s(D,w){function T(C){if(!(this instanceof T))return new T(C);r(this,"message",typeof C=="string"?C:w),r(this,"name",D),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return n(T,Error),T}var a,l,c=s("Warning","warning"),d=s("CancellationError","cancellation error"),h=s("TimeoutError","timeout error"),p=s("AggregateError","aggregate error");try{a=TypeError,l=RangeError}catch{a=s("TypeError","type error"),l=s("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)typeof Array.prototype[g[m]]=="function"&&(p.prototype[g[m]]=Array.prototype[g[m]]);i.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var v=0;p.prototype.toString=function(){var D=Array(v*4+1).join(" "),w=`
`+D+`AggregateError of:
`;v++,D=Array(v*4+1).join(" ");for(var T=0;T<this.length;++T){for(var C=this[T]===this?"[Circular AggregateError]":this[T]+"",E=C.split(`
`),S=0;S<E.length;++S)E[S]=D+E[S];C=E.join(`
`),w+=C+`
`}return v--,w};function b(D){if(!(this instanceof b))return new b(D);r(this,"name","OperationalError"),r(this,"message",D),this.cause=D,this.isOperational=!0,D instanceof Error?(r(this,"message",D.message),r(this,"stack",D.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}n(b,Error);var x=Error.__BluebirdErrorTypes__;return x||(x=e({CancellationError:d,TimeoutError:h,OperationalError:b,RejectionError:b,AggregateError:p}),i.defineProperty(Error,"__BluebirdErrorTypes__",{value:x,writable:!1,enumerable:!1,configurable:!1})),db={Error,TypeError:a,RangeError:l,CancellationError:x.CancellationError,OperationalError:x.OperationalError,TimeoutError:x.TimeoutError,AggregateError:x.AggregateError,Warning:c},db}var hb,AT;function WF(){return AT||(AT=1,hb=function(i,e){var t=Ht(),n=t.errorObj,r=t.isObject;function s(p,g){if(r(p)){if(p instanceof i)return p;var m=l(p);if(m===n){g&&g._pushContext();var v=i.reject(m.e);return g&&g._popContext(),v}else if(typeof m=="function"){if(d(p)){var v=new i(e);return p._then(v._fulfill,v._reject,void 0,v,null),v}return h(p,m,g)}}return p}function a(p){return p.then}function l(p){try{return a(p)}catch(g){return n.e=g,n}}var c={}.hasOwnProperty;function d(p){try{return c.call(p,"_promise0")}catch{return!1}}function h(p,g,m){var v=new i(e),b=v;m&&m._pushContext(),v._captureStackTrace(),m&&m._popContext();var x=!0,D=t.tryCatch(g).call(p,w,T);x=!1,v&&D===n&&(v._rejectCallback(D.e,!0,!0),v=null);function w(C){v&&(v._resolveCallback(C),v=null)}function T(C){v&&(v._rejectCallback(C,x,!0),v=null)}return b}return s}),hb}var fb,TT;function jF(){return TT||(TT=1,fb=function(i,e,t,n,r){var s=Ht();s.isArray;function a(c){switch(c){case-2:return[];case-3:return{}}}function l(c){var d=this._promise=new i(e);c instanceof i&&d._propagateFrom(c,3),d._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(l,r),l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function c(d,h){var p=t(this._values,this._promise);if(p instanceof i){p=p._target();var g=p._bitField;if(this._values=p,(g&50397184)===0)return this._promise._setAsyncGuaranteed(),p._then(c,this._reject,void 0,this,h);if((g&33554432)!==0)p=p._value();else return(g&16777216)!==0?this._reject(p._reason()):this._cancel()}if(p=s.asArray(p),p===null){var m=n("expecting an array or an iterable object but got "+s.classString(p)).reason();this._promise._rejectCallback(m,!1);return}if(p.length===0){h===-5?this._resolveEmptyArray():this._resolve(a(h));return}this._iterate(p)},l.prototype._iterate=function(c){var d=this.getActualLength(c.length);this._length=d,this._values=this.shouldCopyValues()?new Array(d):this._values;for(var h=this._promise,p=!1,g=null,m=0;m<d;++m){var v=t(c[m],h);v instanceof i?(v=v._target(),g=v._bitField):g=null,p?g!==null&&v.suppressUnhandledRejections():g!==null?(g&50397184)===0?(v._proxy(this,m),this._values[m]=v):(g&33554432)!==0?p=this._promiseFulfilled(v._value(),m):(g&16777216)!==0?p=this._promiseRejected(v._reason(),m):p=this._promiseCancelled(m):p=this._promiseFulfilled(v,m)}p||h._setAsyncGuaranteed()},l.prototype._isResolved=function(){return this._values===null},l.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},l.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},l.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},l.prototype._promiseFulfilled=function(c,d){this._values[d]=c;var h=++this._totalResolved;return h>=this._length?(this._resolve(this._values),!0):!1},l.prototype._promiseCancelled=function(){return this._cancel(),!0},l.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},l.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof i)c.cancel();else for(var d=0;d<c.length;++d)c[d]instanceof i&&c[d].cancel()}},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(c){return c},l}),fb}var pb,_T;function HF(){return _T||(_T=1,pb=function(i){var e=!1,t=[];i.prototype._promiseCreated=function(){},i.prototype._pushContext=function(){},i.prototype._popContext=function(){return null},i._peekContext=i.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(s())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var a=t.pop(),l=a._promiseCreated;return a._promiseCreated=null,l}return null};function r(){if(e)return new n}function s(){var a=t.length-1;if(a>=0)return t[a]}return n.CapturedTrace=null,n.create=r,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var a=i.prototype._pushContext,l=i.prototype._popContext,c=i._peekContext,d=i.prototype._peekContext,h=i.prototype._promiseCreated;n.deactivateLongStackTraces=function(){i.prototype._pushContext=a,i.prototype._popContext=l,i._peekContext=c,i.prototype._peekContext=d,i.prototype._promiseCreated=h,e=!1},e=!0,i.prototype._pushContext=n.prototype._pushContext,i.prototype._popContext=n.prototype._popContext,i._peekContext=i.prototype._peekContext=s,i.prototype._promiseCreated=function(){var p=this._peekContext();p&&p._promiseCreated==null&&(p._promiseCreated=this)}},n}),pb}var gb,ET;function qF(){return ET||(ET=1,gb=function(i,e){var t=i._getDomain,n=i._async,r=Aa().Warning,s=Ht(),a=s.canAttachTrace,l,c,d=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,h=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,g=null,m=null,v=!1,b,x=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),D=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(x||s.env("BLUEBIRD_WARNINGS"))),w=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(x||s.env("BLUEBIRD_LONG_STACK_TRACES"))),T=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(D||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));i.prototype.suppressUnhandledRejections=function(){var Q=this._target();Q._bitField=Q._bitField&-1048577|524288},i.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},i.prototype._notifyUnhandledRejectionIsHandled=function(){Qe("rejectionHandled",l,void 0,this)},i.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},i.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},i.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Q=this._settledValue();this._setUnhandledRejectionIsNotified(),Qe("unhandledRejection",c,Q,this)}},i.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},i.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},i.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},i.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},i.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},i.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},i.prototype._warn=function(Q,J,de){return te(Q,J,de||this)},i.onPossiblyUnhandledRejection=function(Q){var J=t();c=typeof Q=="function"?J===null?Q:s.domainBind(J,Q):void 0},i.onUnhandledRejectionHandled=function(Q){var J=t();l=typeof Q=="function"?J===null?Q:s.domainBind(J,Q):void 0};var C=function(){};i.longStackTraces=function(){if(n.haveItemsQueued()&&!se.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!se.longStackTraces&&le()){var Q=i.prototype._captureStackTrace,J=i.prototype._attachExtraTrace;se.longStackTraces=!0,C=function(){if(n.haveItemsQueued()&&!se.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);i.prototype._captureStackTrace=Q,i.prototype._attachExtraTrace=J,e.deactivateLongStackTraces(),n.enableTrampoline(),se.longStackTraces=!1},i.prototype._captureStackTrace=ae,i.prototype._attachExtraTrace=L,e.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},i.hasLongStackTraces=function(){return se.longStackTraces&&le()};var E=(function(){try{if(typeof CustomEvent=="function"){var Q=new CustomEvent("CustomEvent");return s.global.dispatchEvent(Q),function(J,de){var be=new CustomEvent(J.toLowerCase(),{detail:de,cancelable:!0});return!s.global.dispatchEvent(be)}}else if(typeof Event=="function"){var Q=new Event("CustomEvent");return s.global.dispatchEvent(Q),function(de,be){var Re=new Event(de.toLowerCase(),{cancelable:!0});return Re.detail=be,!s.global.dispatchEvent(Re)}}else{var Q=document.createEvent("CustomEvent");return Q.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(Q),function(de,be){var Re=document.createEvent("CustomEvent");return Re.initCustomEvent(de.toLowerCase(),!1,!0,be),!s.global.dispatchEvent(Re)}}}catch{}return function(){return!1}})(),S=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(Q){var J="on"+Q.toLowerCase(),de=s.global[J];return de?(de.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function k(Q,J){return{promise:J}}var O={promiseCreated:k,promiseFulfilled:k,promiseRejected:k,promiseResolved:k,promiseCancelled:k,promiseChained:function(Q,J,de){return{promise:J,child:de}},warning:function(Q,J){return{warning:J}},unhandledRejection:function(Q,J,de){return{reason:J,promise:de}},rejectionHandled:k},R=function(Q){var J=!1;try{J=S.apply(null,arguments)}catch(be){n.throwLater(be),J=!0}var de=!1;try{de=E(Q,O[Q].apply(null,arguments))}catch(be){n.throwLater(be),de=!0}return de||J};i.config=function(Q){if(Q=Object(Q),"longStackTraces"in Q&&(Q.longStackTraces?i.longStackTraces():!Q.longStackTraces&&i.hasLongStackTraces()&&C()),"warnings"in Q){var J=Q.warnings;se.warnings=!!J,T=se.warnings,s.isObject(J)&&"wForgottenReturn"in J&&(T=!!J.wForgottenReturn)}if("cancellation"in Q&&Q.cancellation&&!se.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");i.prototype._clearCancellationData=Y,i.prototype._propagateFrom=B,i.prototype._onCancel=W,i.prototype._setOnCancel=M,i.prototype._attachCancellationCallback=F,i.prototype._execute=Z,V=B,se.cancellation=!0}return"monitoring"in Q&&(Q.monitoring&&!se.monitoring?(se.monitoring=!0,i.prototype._fireEvent=R):!Q.monitoring&&se.monitoring&&(se.monitoring=!1,i.prototype._fireEvent=z)),i};function z(){return!1}i.prototype._fireEvent=z,i.prototype._execute=function(Q,J,de){try{Q(J,de)}catch(be){return be}},i.prototype._onCancel=function(){},i.prototype._setOnCancel=function(Q){},i.prototype._attachCancellationCallback=function(Q){},i.prototype._captureStackTrace=function(){},i.prototype._attachExtraTrace=function(){},i.prototype._clearCancellationData=function(){},i.prototype._propagateFrom=function(Q,J){};function Z(Q,J,de){var be=this;try{Q(J,de,function(Re){if(typeof Re!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Re));be._attachCancellationCallback(Re)})}catch(Re){return Re}}function F(Q){if(!this._isCancellable())return this;var J=this._onCancel();J!==void 0?s.isArray(J)?J.push(Q):this._setOnCancel([J,Q]):this._setOnCancel(Q)}function W(){return this._onCancelField}function M(Q){this._onCancelField=Q}function Y(){this._cancellationParent=void 0,this._onCancelField=void 0}function B(Q,J){if((J&1)!==0){this._cancellationParent=Q;var de=Q._branchesRemainingToCancel;de===void 0&&(de=0),Q._branchesRemainingToCancel=de+1}(J&2)!==0&&Q._isBound()&&this._setBoundTo(Q._boundTo)}function I(Q,J){(J&2)!==0&&Q._isBound()&&this._setBoundTo(Q._boundTo)}var V=I;function K(){var Q=this._boundTo;return Q!==void 0&&Q instanceof i?Q.isFulfilled()?Q.value():void 0:Q}function ae(){this._trace=new ve(this._peekContext())}function L(Q,J){if(a(Q)){var de=this._trace;if(de!==void 0&&J&&(de=de._parent),de!==void 0)de.attachExtraTrace(Q);else if(!Q.__stackCleaned__){var be=Fe(Q);s.notEnumerableProp(Q,"stack",be.message+`
`+be.stack.join(`
`)),s.notEnumerableProp(Q,"__stackCleaned__",!0)}}}function H(Q,J,de,be,Re){if(Q===void 0&&J!==null&&T){if(Re!==void 0&&Re._returnedNonUndefined()||(be._bitField&65535)===0)return;de&&(de=de+" ");var Ie="",et="";if(J._trace){for(var Ge=J._trace.stack.split(`
`),nt=Ce(Ge),vt=nt.length-1;vt>=0;--vt){var ue=nt[vt];if(!h.test(ue)){var _e=ue.match(p);_e&&(Ie="at "+_e[1]+":"+_e[2]+":"+_e[3]+" ");break}}if(nt.length>0){for(var Ne=nt[0],vt=0;vt<Ge.length;++vt)if(Ge[vt]===Ne){vt>0&&(et=`
`+Ge[vt-1]);break}}}var Be="a promise was created in a "+de+"handler "+Ie+"but was not returned from it, see http://goo.gl/rRqMUw"+et;be._warn(Be,!0,J)}}function G(Q,J){var de=Q+" is deprecated and will be removed in a future version.";return J&&(de+=" Use "+J+" instead."),te(de)}function te(Q,J,de){if(se.warnings){var be=new r(Q),Re;if(J)de._attachExtraTrace(be);else if(se.longStackTraces&&(Re=i._peekContext()))Re.attachExtraTrace(be);else{var Ie=Fe(be);be.stack=Ie.message+`
`+Ie.stack.join(`
`)}R("warning",be)||Pe(be,"",!0)}}function ce(Q,J){for(var de=0;de<J.length-1;++de)J[de].push("From previous event:"),J[de]=J[de].join(`
`);return de<J.length&&(J[de]=J[de].join(`
`)),Q+`
`+J.join(`
`)}function we(Q){for(var J=0;J<Q.length;++J)(Q[J].length===0||J+1<Q.length&&Q[J][0]===Q[J+1][0])&&(Q.splice(J,1),J--)}function ge(Q){for(var J=Q[0],de=1;de<Q.length;++de){for(var be=Q[de],Re=J.length-1,Ie=J[Re],et=-1,Ge=be.length-1;Ge>=0;--Ge)if(be[Ge]===Ie){et=Ge;break}for(var Ge=et;Ge>=0;--Ge){var nt=be[Ge];if(J[Re]===nt)J.pop(),Re--;else break}J=be}}function Ce(Q){for(var J=[],de=0;de<Q.length;++de){var be=Q[de],Re=be==="    (No stack trace)"||g.test(be),Ie=Re&&ie(be);Re&&!Ie&&(v&&be.charAt(0)!==" "&&(be="    "+be),J.push(be))}return J}function Ue(Q){for(var J=Q.stack.replace(/\s+$/g,"").split(`
`),de=0;de<J.length;++de){var be=J[de];if(be==="    (No stack trace)"||g.test(be))break}return de>0&&Q.name!="SyntaxError"&&(J=J.slice(de)),J}function Fe(Q){var J=Q.stack,de=Q.toString();return J=typeof J=="string"&&J.length>0?Ue(Q):["    (No stack trace)"],{message:de,stack:Q.name=="SyntaxError"?J:Ce(J)}}function Pe(Q,J,de){if(typeof console<"u"){var be;if(s.isObject(Q)){var Re=Q.stack;be=J+m(Re,Q)}else be=J+String(Q);typeof b=="function"?b(be,de):(typeof console.log=="function"||typeof console.log=="object")&&console.log(be)}}function Qe(Q,J,de,be){var Re=!1;try{typeof J=="function"&&(Re=!0,Q==="rejectionHandled"?J(be):J(de,be))}catch(Ie){n.throwLater(Ie)}Q==="unhandledRejection"?!R(Q,de,be)&&!Re&&Pe(de,"Unhandled rejection "):R(Q,be)}function pt(Q){var J;if(typeof Q=="function")J="[function "+(Q.name||"anonymous")+"]";else{J=Q&&typeof Q.toString=="function"?Q.toString():s.toString(Q);var de=/\[object [a-zA-Z0-9$_]+\]/;if(de.test(J))try{var be=JSON.stringify(Q);J=be}catch{}J.length===0&&(J="(empty array)")}return"(<"+U(J)+">, no stack trace)"}function U(Q){var J=41;return Q.length<J?Q:Q.substr(0,J-3)+"..."}function le(){return typeof xe=="function"}var ie=function(){return!1},$=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(Q){var J=Q.match($);if(J)return{fileName:J[1],line:parseInt(J[2],10)}}function re(Q,J){if(le()){for(var de=Q.stack.split(`
`),be=J.stack.split(`
`),Re=-1,Ie=-1,et,Ge,nt=0;nt<de.length;++nt){var vt=X(de[nt]);if(vt){et=vt.fileName,Re=vt.line;break}}for(var nt=0;nt<be.length;++nt){var vt=X(be[nt]);if(vt){Ge=vt.fileName,Ie=vt.line;break}}Re<0||Ie<0||!et||!Ge||et!==Ge||Re>=Ie||(ie=function(ue){if(d.test(ue))return!0;var _e=X(ue);return!!(_e&&_e.fileName===et&&Re<=_e.line&&_e.line<=Ie)})}}function ve(Q){this._parent=Q,this._promisesCreated=0;var J=this._length=1+(Q===void 0?0:Q._length);xe(this,ve),J>32&&this.uncycle()}s.inherits(ve,Error),e.CapturedTrace=ve,ve.prototype.uncycle=function(){var Q=this._length;if(!(Q<2)){for(var J=[],de={},be=0,Re=this;Re!==void 0;++be)J.push(Re),Re=Re._parent;Q=this._length=be;for(var be=Q-1;be>=0;--be){var Ie=J[be].stack;de[Ie]===void 0&&(de[Ie]=be)}for(var be=0;be<Q;++be){var et=J[be].stack,Ge=de[et];if(Ge!==void 0&&Ge!==be){Ge>0&&(J[Ge-1]._parent=void 0,J[Ge-1]._length=1),J[be]._parent=void 0,J[be]._length=1;var nt=be>0?J[be-1]:this;Ge<Q-1?(nt._parent=J[Ge+1],nt._parent.uncycle(),nt._length=nt._parent._length+1):(nt._parent=void 0,nt._length=1);for(var vt=nt._length+1,ue=be-2;ue>=0;--ue)J[ue]._length=vt,vt++;return}}}},ve.prototype.attachExtraTrace=function(Q){if(!Q.__stackCleaned__){this.uncycle();for(var J=Fe(Q),de=J.message,be=[J.stack],Re=this;Re!==void 0;)be.push(Ce(Re.stack.split(`
`))),Re=Re._parent;ge(be),we(be),s.notEnumerableProp(Q,"stack",ce(de,be)),s.notEnumerableProp(Q,"__stackCleaned__",!0)}};var xe=(function(){var J=/^\s*at\s*/,de=function(et,Ge){return typeof et=="string"?et:Ge.name!==void 0&&Ge.message!==void 0?Ge.toString():pt(Ge)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,g=J,m=de;var be=Error.captureStackTrace;return ie=function(et){return d.test(et)},function(et,Ge){Error.stackTraceLimit+=6,be(et,Ge),Error.stackTraceLimit-=6}}var Re=new Error;if(typeof Re.stack=="string"&&Re.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return g=/@/,m=de,v=!0,function(Ge){Ge.stack=new Error().stack};var Ie;try{throw new Error}catch(et){Ie="stack"in et}return!("stack"in Re)&&Ie&&typeof Error.stackTraceLimit=="number"?(g=J,m=de,function(Ge){Error.stackTraceLimit+=6;try{throw new Error}catch(nt){Ge.stack=nt.stack}Error.stackTraceLimit-=6}):(m=function(et,Ge){return typeof et=="string"?et:(typeof Ge=="object"||typeof Ge=="function")&&Ge.name!==void 0&&Ge.message!==void 0?Ge.toString():pt(Ge)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(b=function(Q){console.warn(Q)},s.isNode&&process.stderr.isTTY?b=function(Q,J){var de=J?"\x1B[33m":"\x1B[31m";console.warn(de+Q+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(b=function(Q,J){console.warn("%c"+Q,J?"color: darkorange":"color: red")}));var se={warnings:D,longStackTraces:!1,cancellation:!1,monitoring:!1};return w&&i.longStackTraces(),{longStackTraces:function(){return se.longStackTraces},warnings:function(){return se.warnings},cancellation:function(){return se.cancellation},monitoring:function(){return se.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return K},checkForgottenReturns:H,setBounds:re,warn:te,deprecated:G,CapturedTrace:ve,fireDomEvent:E,fireGlobalEvent:S}}),gb}var mb,ST;function VF(){return ST||(ST=1,mb=function(i,e){var t=Ht(),n=i.CancellationError,r=t.errorObj;function s(p,g,m){this.promise=p,this.type=g,this.handler=m,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(p){this.finallyHandler=p}a.prototype._resultCancelled=function(){l(this.finallyHandler)};function l(p,g){return p.cancelPromise!=null?(arguments.length>1?p.cancelPromise._reject(g):p.cancelPromise._cancel(),p.cancelPromise=null,!0):!1}function c(){return h.call(this,this.promise._target()._settledValue())}function d(p){if(!l(this,p))return r.e=p,r}function h(p){var g=this.promise,m=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?m.call(g._boundValue()):m.call(g._boundValue(),p);if(v!==void 0){g._setReturnedNonUndefined();var b=e(v,g);if(b instanceof i){if(this.cancelPromise!=null)if(b._isCancelled()){var x=new n("late cancellation observer");return g._attachExtraTrace(x),r.e=x,r}else b.isPending()&&b._attachCancellationCallback(new a(this));return b._then(c,d,void 0,this,void 0)}}}return g.isRejected()?(l(this),r.e=p,r):(l(this),p)}return i.prototype._passThrough=function(p,g,m,v){return typeof p!="function"?this.then():this._then(m,v,void 0,new s(this,g,p),void 0)},i.prototype.lastly=i.prototype.finally=function(p){return this._passThrough(p,0,h,h)},i.prototype.tap=function(p){return this._passThrough(p,1,h)},s}),mb}var yb,CT;function GF(){return CT||(CT=1,yb=function(i){var e=Ht(),t=rc().keys,n=e.tryCatch,r=e.errorObj;function s(a,l,c){return function(d){var h=c._boundValue();e:for(var p=0;p<a.length;++p){var g=a[p];if(g===Error||g!=null&&g.prototype instanceof Error){if(d instanceof g)return n(l).call(h,d)}else if(typeof g=="function"){var m=n(g).call(h,d);if(m===r)return m;if(m)return n(l).call(h,d)}else if(e.isObject(d)){for(var v=t(g),b=0;b<v.length;++b){var x=v[b];if(g[x]!=d[x])continue e}return n(l).call(h,d)}}return i}}return s}),yb}var bb,kT;function F3(){if(kT)return bb;kT=1;var i=Ht(),e=i.maybeWrapAsError,t=Aa(),n=t.OperationalError,r=rc();function s(d){return d instanceof Error&&r.getPrototypeOf(d)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function l(d){var h;if(s(d)){h=new n(d),h.name=d.name,h.message=d.message,h.stack=d.stack;for(var p=r.keys(d),g=0;g<p.length;++g){var m=p[g];a.test(m)||(h[m]=d[m])}return h}return i.markAsOriginatingFromRejection(d),d}function c(d,h){return function(p,g){if(d!==null){if(p){var m=l(e(p));d._attachExtraTrace(m),d._reject(m)}else if(!h)d._fulfill(g);else{for(var v=arguments.length,b=new Array(Math.max(v-1,0)),x=1;x<v;++x)b[x-1]=arguments[x];d._fulfill(b)}d=null}}}return bb=c,bb}var vb,UT;function XF(){return UT||(UT=1,vb=function(i,e,t,n,r){var s=Ht(),a=s.tryCatch;i.method=function(l){if(typeof l!="function")throw new i.TypeError("expecting a function but got "+s.classString(l));return function(){var c=new i(e);c._captureStackTrace(),c._pushContext();var d=a(l).apply(this,arguments),h=c._popContext();return r.checkForgottenReturns(d,h,"Promise.method",c),c._resolveFromSyncValue(d),c}},i.attempt=i.try=function(l){if(typeof l!="function")return n("expecting a function but got "+s.classString(l));var c=new i(e);c._captureStackTrace(),c._pushContext();var d;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var h=arguments[1],p=arguments[2];d=s.isArray(h)?a(l).apply(p,h):a(l).call(p,h)}else d=a(l)();var g=c._popContext();return r.checkForgottenReturns(d,g,"Promise.try",c),c._resolveFromSyncValue(d),c},i.prototype._resolveFromSyncValue=function(l){l===s.errorObj?this._rejectCallback(l.e,!1):this._resolveCallback(l,!0)}}),vb}var xb,MT;function $F(){return MT||(MT=1,xb=function(i,e,t,n){var r=!1,s=function(d,h){this._reject(h)},a=function(d,h){h.promiseRejectionQueued=!0,h.bindingPromise._then(s,s,null,this,d)},l=function(d,h){(this._bitField&50397184)===0&&this._resolveCallback(h.target)},c=function(d,h){h.promiseRejectionQueued||this._reject(d)};i.prototype.bind=function(d){r||(r=!0,i.prototype._propagateFrom=n.propagateFromFunction(),i.prototype._boundValue=n.boundValueFunction());var h=t(d),p=new i(e);p._propagateFrom(this,1);var g=this._target();if(p._setBoundTo(h),h instanceof i){var m={promiseRejectionQueued:!1,promise:p,target:g,bindingPromise:h};g._then(e,a,void 0,p,m),h._then(l,c,void 0,p,m),p._setOnCancel(h)}else p._resolveCallback(g);return p},i.prototype._setBoundTo=function(d){d!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=d):this._bitField=this._bitField&-2097153},i.prototype._isBound=function(){return(this._bitField&2097152)===2097152},i.bind=function(d,h){return i.resolve(h).bind(d)}}),xb}var Db,RT;function YF(){return RT||(RT=1,Db=function(i,e,t,n){var r=Ht(),s=r.tryCatch,a=r.errorObj,l=i._async;i.prototype.break=i.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var c=this,d=c;c._isCancellable();){if(!c._cancelBy(d)){d._isFollowing()?d._followee().cancel():d._cancelBranched();break}var h=c._cancellationParent;if(h==null||!h._isCancellable()){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}else c._isFollowing()&&c._followee().cancel(),c._setWillBeCancelled(),d=c,c=h}},i.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},i.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},i.prototype._cancelBy=function(c){return c===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},i.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},i.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},i.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},i.prototype._unsetOnCancel=function(){this._onCancelField=void 0},i.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},i.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},i.prototype._doInvokeOnCancel=function(c,d){if(r.isArray(c))for(var h=0;h<c.length;++h)this._doInvokeOnCancel(c[h],d);else if(c!==void 0)if(typeof c=="function"){if(!d){var p=s(c).call(this._boundValue());p===a&&(this._attachExtraTrace(p.e),l.throwLater(p.e))}}else c._resultCancelled(this)},i.prototype._invokeOnCancel=function(){var c=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,c)},i.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},i.prototype._resultCancelled=function(){this.cancel()}}),Db}var wb,OT;function KF(){return OT||(OT=1,wb=function(i){function e(){return this.value}function t(){throw this.reason}i.prototype.return=i.prototype.thenReturn=function(n){return n instanceof i&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},i.prototype.throw=i.prototype.thenThrow=function(n){return this._then(t,void 0,void 0,{reason:n},void 0)},i.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:n},void 0);var r=arguments[1],s=function(){throw r};return this.caught(n,s)},i.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof i&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof i&&r.suppressUnhandledRejections();var s=function(){return r};return this.caught(n,s)}}),wb}var Ab,NT;function ZF(){return NT||(NT=1,Ab=function(i){function e(c){c!==void 0?(c=c._target(),this._bitField=c._bitField,this._settledValueField=c._isFateSealed()?c._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},l=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},i.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},i.prototype._isCancelled=function(){return this._target().__isCancelled()},i.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},i.prototype.isPending=function(){return a.call(this._target())},i.prototype.isRejected=function(){return s.call(this._target())},i.prototype.isFulfilled=function(){return r.call(this._target())},i.prototype.isResolved=function(){return l.call(this._target())},i.prototype.value=function(){return t.call(this._target())},i.prototype.reason=function(){var c=this._target();return c._unsetRejectionIsUnhandled(),n.call(c)},i.prototype._value=function(){return this._settledValue()},i.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},i.PromiseInspection=e}),Ab}var Tb,FT;function QF(){return FT||(FT=1,Tb=function(i,e,t,n,r,s){var a=Ht(),l=a.canEvaluate,c=a.tryCatch,d=a.errorObj,h;if(l){for(var p=function(w){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,w))},g=function(w){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,w))},m=function(w){for(var T=new Array(w),C=0;C<T.length;++C)T[C]="this.p"+(C+1);var E=T.join(" = ")+" = null;",S=`var promise;
`+T.map(function(z){return`                                                         
	                promise = `+z+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),k=T.join(", "),O="Holder$"+w,R=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return R=R.replace(/\[TheName\]/g,O).replace(/\[TheTotal\]/g,w).replace(/\[ThePassedArguments\]/g,k).replace(/\[TheProperties\]/g,E).replace(/\[CancellationCode\]/g,S),new Function("tryCatch","errorObj","Promise","async",R)(c,d,i,r)},v=[],b=[],x=[],D=0;D<8;++D)v.push(m(D+1)),b.push(p(D+1)),x.push(g(D+1));h=function(w){this._reject(w)}}i.join=function(){var w=arguments.length-1,T;if(w>0&&typeof arguments[w]=="function"&&(T=arguments[w],w<=8&&l)){var M=new i(n);M._captureStackTrace();for(var C=v[w-1],E=new C(T),S=b,k=0;k<w;++k){var O=t(arguments[k],M);if(O instanceof i){O=O._target();var R=O._bitField;(R&50397184)===0?(O._then(S[k],h,void 0,M,E),x[k](O,E),E.asyncNeeded=!1):(R&33554432)!==0?S[k].call(M,O._value(),E):(R&16777216)!==0?M._reject(O._reason()):M._cancel()}else S[k].call(M,O,E)}if(!M._isFateSealed()){if(E.asyncNeeded){var z=s();z!==null&&(E.fn=a.domainBind(z,E.fn))}M._setAsyncGuaranteed(),M._setOnCancel(E)}return M}for(var Z=arguments.length,F=new Array(Z),W=0;W<Z;++W)F[W]=arguments[W];T&&F.pop();var M=new e(F).promise();return T!==void 0?M.spread(T):M}}),Tb}var _b,BT;function JF(){return BT||(BT=1,_b=function(i,e,t,n,r,s){var a=i._getDomain,l=Ht(),c=l.tryCatch,d=l.errorObj,h=i._async;function p(m,v,b,x){this.constructor$(m),this._promise._captureStackTrace();var D=a();this._callback=D===null?v:l.domainBind(D,v),this._preservedValues=x===r?new Array(this.length()):null,this._limit=b,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}l.inherits(p,e),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(m,v){var b=this._values,x=this.length(),D=this._preservedValues,w=this._limit;if(v<0){if(v=v*-1-1,b[v]=m,w>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(w>=1&&this._inFlight>=w)return b[v]=m,this._queue.push(v),!1;D!==null&&(D[v]=m);var T=this._promise,C=this._callback,E=T._boundValue();T._pushContext();var S=c(C).call(E,m,v,x),k=T._popContext();if(s.checkForgottenReturns(S,k,D!==null?"Promise.filter":"Promise.map",T),S===d)return this._reject(S.e),!0;var O=n(S,this._promise);if(O instanceof i){O=O._target();var R=O._bitField;if((R&50397184)===0)return w>=1&&this._inFlight++,b[v]=O,O._proxy(this,(v+1)*-1),!1;if((R&33554432)!==0)S=O._value();else return(R&16777216)!==0?(this._reject(O._reason()),!0):(this._cancel(),!0)}b[v]=S}var z=++this._totalResolved;return z>=x?(D!==null?this._filter(b,D):this._resolve(b),!0):!1},p.prototype._drainQueue=function(){for(var m=this._queue,v=this._limit,b=this._values;m.length>0&&this._inFlight<v;){if(this._isResolved())return;var x=m.pop();this._promiseFulfilled(b[x],x)}},p.prototype._filter=function(m,v){for(var b=v.length,x=new Array(b),D=0,w=0;w<b;++w)m[w]&&(x[D++]=v[w]);x.length=D,this._resolve(x)},p.prototype.preservedValues=function(){return this._preservedValues};function g(m,v,b,x){if(typeof v!="function")return t("expecting a function but got "+l.classString(v));var D=0;if(b!==void 0)if(typeof b=="object"&&b!==null){if(typeof b.concurrency!="number")return i.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(b.concurrency)));D=b.concurrency}else return i.reject(new TypeError("options argument must be an object but it is "+l.classString(b)));return D=typeof D=="number"&&isFinite(D)&&D>=1?D:0,new p(m,v,D,x).promise()}i.prototype.map=function(m,v){return g(this,m,v,null)},i.map=function(m,v,b,x){return g(m,v,b,x)}}),_b}var Eb,LT;function e4(){if(LT)return Eb;LT=1;var i=Object.create;if(i){var e=i(null),t=i(null);e[" size"]=t[" size"]=0}return Eb=function(n){var r=Ht(),s=r.canEvaluate,a=r.isIdentifier,l,c;{var d=function(x){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,x))(g)},h=function(x){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",x))},p=function(x,D,w){var T=w[x];if(typeof T!="function"){if(!a(x))return null;if(T=D(x),w[x]=T,w[" size"]++,w[" size"]>512){for(var C=Object.keys(w),E=0;E<256;++E)delete w[C[E]];w[" size"]=C.length-256}}return T};l=function(x){return p(x,d,e)},c=function(x){return p(x,h,t)}}function g(x,D){var w;if(x!=null&&(w=x[D]),typeof w!="function"){var T="Object "+r.classString(x)+" has no method '"+r.toString(D)+"'";throw new n.TypeError(T)}return w}function m(x){var D=this.pop(),w=g(x,D);return w.apply(x,this)}n.prototype.call=function(x){for(var D=arguments.length,w=new Array(Math.max(D-1,0)),T=1;T<D;++T)w[T-1]=arguments[T];if(s){var C=l(x);if(C!==null)return this._then(C,void 0,void 0,w,void 0)}return w.push(x),this._then(m,void 0,void 0,w,void 0)};function v(x){return x[this]}function b(x){var D=+this;return D<0&&(D=Math.max(0,D+x.length)),x[D]}n.prototype.get=function(x){var D=typeof x=="number",w;if(D)w=b;else if(s){var T=c(x);w=T!==null?T:v}else w=v;return this._then(w,void 0,void 0,x,void 0)}},Eb}var Sb,IT;function t4(){return IT||(IT=1,Sb=function(i,e,t,n,r,s){var a=Ht(),l=Aa().TypeError,c=Ht().inherits,d=a.errorObj,h=a.tryCatch,p={};function g(T){setTimeout(function(){throw T},0)}function m(T){var C=t(T);return C!==T&&typeof T._isDisposable=="function"&&typeof T._getDisposer=="function"&&T._isDisposable()&&C._setDisposable(T._getDisposer()),C}function v(T,C){var E=0,S=T.length,k=new i(r);function O(){if(E>=S)return k._fulfill();var R=m(T[E++]);if(R instanceof i&&R._isDisposable()){try{R=t(R._getDisposer().tryDispose(C),T.promise)}catch(z){return g(z)}if(R instanceof i)return R._then(O,g,null,null,null)}O()}return O(),k}function b(T,C,E){this._data=T,this._promise=C,this._context=E}b.prototype.data=function(){return this._data},b.prototype.promise=function(){return this._promise},b.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():p},b.prototype.tryDispose=function(T){var C=this.resource(),E=this._context;E!==void 0&&E._pushContext();var S=C!==p?this.doDispose(C,T):null;return E!==void 0&&E._popContext(),this._promise._unsetDisposable(),this._data=null,S},b.isDisposer=function(T){return T!=null&&typeof T.resource=="function"&&typeof T.tryDispose=="function"};function x(T,C,E){this.constructor$(T,C,E)}c(x,b),x.prototype.doDispose=function(T,C){var E=this.data();return E.call(T,T,C)};function D(T){return b.isDisposer(T)?(this.resources[this.index]._setDisposable(T),T.promise()):T}function w(T){this.length=T,this.promise=null,this[T-1]=null}w.prototype._resultCancelled=function(){for(var T=this.length,C=0;C<T;++C){var E=this[C];E instanceof i&&E.cancel()}},i.using=function(){var T=arguments.length;if(T<2)return e("you must pass at least 2 arguments to Promise.using");var C=arguments[T-1];if(typeof C!="function")return e("expecting a function but got "+a.classString(C));var E,S=!0;T===2&&Array.isArray(arguments[0])?(E=arguments[0],T=E.length,S=!1):(E=arguments,T--);for(var k=new w(T),O=0;O<T;++O){var R=E[O];if(b.isDisposer(R)){var z=R;R=R.promise(),R._setDisposable(z)}else{var Z=t(R);Z instanceof i&&(R=Z._then(D,null,null,{resources:k,index:O},void 0))}k[O]=R}for(var F=new Array(k.length),O=0;O<F.length;++O)F[O]=i.resolve(k[O]).reflect();var W=i.all(F).then(function(Y){for(var B=0;B<Y.length;++B){var I=Y[B];if(I.isRejected())return d.e=I.error(),d;if(!I.isFulfilled()){W.cancel();return}Y[B]=I.value()}M._pushContext(),C=h(C);var V=S?C.apply(void 0,Y):C(Y),K=M._popContext();return s.checkForgottenReturns(V,K,"Promise.using",M),V}),M=W.lastly(function(){var Y=new i.PromiseInspection(W);return v(k,Y)});return k.promise=M,M._setOnCancel(k),M},i.prototype._setDisposable=function(T){this._bitField=this._bitField|131072,this._disposer=T},i.prototype._isDisposable=function(){return(this._bitField&131072)>0},i.prototype._getDisposer=function(){return this._disposer},i.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},i.prototype.disposer=function(T){if(typeof T=="function")return new x(T,this,n());throw new l}}),Sb}var Cb,PT;function n4(){return PT||(PT=1,Cb=function(i,e,t){var n=Ht(),r=i.TimeoutError;function s(p){this.handle=p}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(p){return l(+this).thenReturn(p)},l=i.delay=function(p,g){var m,v;return g!==void 0?(m=i.resolve(g)._then(a,null,null,p,void 0),t.cancellation()&&g instanceof i&&m._setOnCancel(g)):(m=new i(e),v=setTimeout(function(){m._fulfill()},+p),t.cancellation()&&m._setOnCancel(new s(v)),m._captureStackTrace()),m._setAsyncGuaranteed(),m};i.prototype.delay=function(p){return l(p,this)};var c=function(p,g,m){var v;typeof g!="string"?g instanceof Error?v=g:v=new r("operation timed out"):v=new r(g),n.markAsOriginatingFromRejection(v),p._attachExtraTrace(v),p._reject(v),m?.cancel()};function d(p){return clearTimeout(this.handle),p}function h(p){throw clearTimeout(this.handle),p}i.prototype.timeout=function(p,g){p=+p;var m,v,b=new s(setTimeout(function(){m.isPending()&&c(m,g,v)},p));return t.cancellation()?(v=this.then(),m=v._then(d,h,void 0,b,void 0),m._setOnCancel(b)):m=this._then(d,h,void 0,b,void 0),m}}),Cb}var kb,zT;function i4(){return zT||(zT=1,kb=function(i,e,t,n,r,s){var a=Aa(),l=a.TypeError,c=Ht(),d=c.errorObj,h=c.tryCatch,p=[];function g(v,b,x){for(var D=0;D<b.length;++D){x._pushContext();var w=h(b[D])(v);if(x._popContext(),w===d){x._pushContext();var T=i.reject(d.e);return x._popContext(),T}var C=n(w,x);if(C instanceof i)return C}return null}function m(v,b,x,D){if(s.cancellation()){var w=new i(t),T=this._finallyPromise=new i(t);this._promise=w.lastly(function(){return T}),w._captureStackTrace(),w._setOnCancel(this)}else{var C=this._promise=new i(t);C._captureStackTrace()}this._stack=D,this._generatorFunction=v,this._receiver=b,this._generator=void 0,this._yieldHandlers=typeof x=="function"?[x].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(m,r),m.prototype._isResolved=function(){return this._promise===null},m.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},m.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",b;if(v)this._promise._pushContext(),b=h(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var x=new i.CancellationError("generator .return() sentinel");i.coroutine.returnSentinel=x,this._promise._attachExtraTrace(x),this._promise._pushContext(),b=h(this._generator.throw).call(this._generator,x),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(b)}},m.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var b=h(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(b)},m.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var b=h(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(b)},m.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof i){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},m.prototype.promise=function(){return this._promise},m.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},m.prototype._continue=function(v){var b=this._promise;if(v===d)return this._cleanup(),this._cancellationPhase?b.cancel():b._rejectCallback(v.e,!1);var x=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?b.cancel():b._resolveCallback(x);var D=n(x,this._promise);if(!(D instanceof i)&&(D=g(D,this._yieldHandlers,this._promise),D===null)){this._promiseRejected(new l(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",x)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}D=D._target();var w=D._bitField;(w&50397184)===0?(this._yieldedPromise=D,D._proxy(this,null)):(w&33554432)!==0?i._async.invoke(this._promiseFulfilled,this,D._value()):(w&16777216)!==0?i._async.invoke(this._promiseRejected,this,D._reason()):this._promiseCancelled()},i.coroutine=function(v,b){if(typeof v!="function")throw new l(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var x=Object(b).yieldHandler,D=m,w=new Error().stack;return function(){var T=v.apply(this,arguments),C=new D(void 0,void 0,x,w),E=C.promise();return C._generator=T,C._promiseFulfilled(void 0),E}},i.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new l("expecting a function but got "+c.classString(v));p.push(v)},i.spawn=function(v){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var b=new m(v,this),x=b.promise();return b._run(i.spawn),x}}),kb}var Ub,WT;function r4(){return WT||(WT=1,Ub=function(i){var e=Ht(),t=i._async,n=e.tryCatch,r=e.errorObj;function s(c,d){var h=this;if(!e.isArray(c))return a.call(h,c,d);var p=n(d).apply(h._boundValue(),[null].concat(c));p===r&&t.throwLater(p.e)}function a(c,d){var h=this,p=h._boundValue(),g=c===void 0?n(d).call(p,null):n(d).call(p,null,c);g===r&&t.throwLater(g.e)}function l(c,d){var h=this;if(!c){var p=new Error(c+"");p.cause=c,c=p}var g=n(d).call(h._boundValue(),c);g===r&&t.throwLater(g.e)}i.prototype.asCallback=i.prototype.nodeify=function(c,d){if(typeof c=="function"){var h=a;d!==void 0&&Object(d).spread&&(h=s),this._then(h,l,void 0,this,c)}return this}}),Ub}var Mb,jT;function s4(){return jT||(jT=1,Mb=function(i,e){var t={},n=Ht(),r=F3(),s=n.withAppended,a=n.maybeWrapAsError,l=n.canEvaluate,c=Aa().TypeError,d="Async",h={__isPromisified__:!0},p=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],g=new RegExp("^(?:"+p.join("|")+")$"),m=function(W){return n.isIdentifier(W)&&W.charAt(0)!=="_"&&W!=="constructor"};function v(W){return!g.test(W)}function b(W){try{return W.__isPromisified__===!0}catch{return!1}}function x(W,M,Y){var B=n.getDataPropertyOrDefault(W,M+Y,h);return B?b(B):!1}function D(W,M,Y){for(var B=0;B<W.length;B+=2){var I=W[B];if(Y.test(I)){for(var V=I.replace(Y,""),K=0;K<W.length;K+=2)if(W[K]===V)throw new c(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",M))}}}function w(W,M,Y,B){for(var I=n.inheritedDataKeys(W),V=[],K=0;K<I.length;++K){var ae=I[K],L=W[ae],H=B===m?!0:m(ae);typeof L=="function"&&!b(L)&&!x(W,ae,M)&&B(ae,L,W,H)&&V.push(ae,L)}return D(V,M,Y),V}var T=function(W){return W.replace(/([$])/,"\\$")},C;{var E=function(W){for(var M=[W],Y=Math.max(0,W-1-3),B=W-1;B>=Y;--B)M.push(B);for(var B=W+1;B<=3;++B)M.push(B);return M},S=function(W){return n.filledRange(W,"_arg","")},k=function(W){return n.filledRange(Math.max(W,3),"_arg","")},O=function(W){return typeof W.length=="number"?Math.max(Math.min(W.length,1024),0):0};C=function(W,M,Y,B,I,V){var K=Math.max(0,O(B)-1),ae=E(K),L=typeof W=="string"||M===t;function H(we){var ge=S(we).join(", "),Ce=we>0?", ":"",Ue;return L?Ue=`ret = callback.call(this, {{args}}, nodeback); break;
`:Ue=M===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Ue.replace("{{args}}",ge).replace(", ",Ce)}function G(){for(var we="",ge=0;ge<ae.length;++ge)we+="case "+ae[ge]+":"+H(ae[ge]);return we+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",L?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),we}var te=typeof W=="string"?"this != null ? this['"+W+"'] : fn":"fn",ce=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+V+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",G()).replace("[GetFunctionCode]",te);return ce=ce.replace("Parameters",k(K)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",ce)(i,B,M,s,a,r,n.tryCatch,n.errorObj,n.notEnumerableProp,e)}}function R(W,M,Y,B,I,V){var K=(function(){return this})(),ae=W;typeof ae=="string"&&(W=B);function L(){var H=M;M===t&&(H=this);var G=new i(e);G._captureStackTrace();var te=typeof ae=="string"&&this!==K?this[ae]:W,ce=r(G,V);try{te.apply(H,s(arguments,ce))}catch(we){G._rejectCallback(a(we),!0,!0)}return G._isFateSealed()||G._setAsyncGuaranteed(),G}return n.notEnumerableProp(L,"__isPromisified__",!0),L}var z=l?C:R;function Z(W,M,Y,B,I){for(var V=new RegExp(T(M)+"$"),K=w(W,M,V,Y),ae=0,L=K.length;ae<L;ae+=2){var H=K[ae],G=K[ae+1],te=H+M;if(B===z)W[te]=z(H,t,H,G,M,I);else{var ce=B(G,function(){return z(H,t,H,G,M,I)});n.notEnumerableProp(ce,"__isPromisified__",!0),W[te]=ce}}return n.toFastProperties(W),W}function F(W,M,Y){return z(W,M,void 0,W,null,Y)}i.promisify=function(W,M){if(typeof W!="function")throw new c("expecting a function but got "+n.classString(W));if(b(W))return W;M=Object(M);var Y=M.context===void 0?t:M.context,B=!!M.multiArgs,I=F(W,Y,B);return n.copyDescriptors(W,I,v),I},i.promisifyAll=function(W,M){if(typeof W!="function"&&typeof W!="object")throw new c(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);M=Object(M);var Y=!!M.multiArgs,B=M.suffix;typeof B!="string"&&(B=d);var I=M.filter;typeof I!="function"&&(I=m);var V=M.promisifier;if(typeof V!="function"&&(V=z),!n.isIdentifier(B))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var K=n.inheritedDataKeys(W),ae=0;ae<K.length;++ae){var L=W[K[ae]];K[ae]!=="constructor"&&n.isClass(L)&&(Z(L.prototype,B,I,V,Y),Z(L,B,I,V,Y))}return Z(W,B,I,V,Y)}}),Mb}var Rb,HT;function a4(){return HT||(HT=1,Rb=function(i,e,t,n){var r=Ht(),s=r.isObject,a=rc(),l;typeof Map=="function"&&(l=Map);var c=(function(){var g=0,m=0;function v(b,x){this[g]=b,this[g+m]=x,g++}return function(x){m=x.size,g=0;var D=new Array(x.size*2);return x.forEach(v,D),D}})(),d=function(g){for(var m=new l,v=g.length/2|0,b=0;b<v;++b){var x=g[v+b],D=g[b];m.set(x,D)}return m};function h(g){var m=!1,v;if(l!==void 0&&g instanceof l)v=c(g),m=!0;else{var b=a.keys(g),x=b.length;v=new Array(x*2);for(var D=0;D<x;++D){var w=b[D];v[D]=g[w],v[D+x]=w}}this.constructor$(v),this._isMap=m,this._init$(void 0,-3)}r.inherits(h,e),h.prototype._init=function(){},h.prototype._promiseFulfilled=function(g,m){this._values[m]=g;var v=++this._totalResolved;if(v>=this._length){var b;if(this._isMap)b=d(this._values);else{b={};for(var x=this.length(),D=0,w=this.length();D<w;++D)b[this._values[D+x]]=this._values[D]}return this._resolve(b),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(g){return g>>1};function p(g){var m,v=t(g);if(s(v))v instanceof i?m=v._then(i.props,void 0,void 0,void 0,void 0):m=new h(v).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof i&&m._propagateFrom(v,2),m}i.prototype.props=function(){return p(this)},i.props=function(g){return p(g)}}),Rb}var Ob,qT;function o4(){return qT||(qT=1,Ob=function(i,e,t,n){var r=Ht(),s=function(l){return l.then(function(c){return a(c,l)})};function a(l,c){var d=t(l);if(d instanceof i)return s(d);if(l=r.asArray(l),l===null)return n("expecting an array or an iterable object but got "+r.classString(l));var h=new i(e);c!==void 0&&h._propagateFrom(c,3);for(var p=h._fulfill,g=h._reject,m=0,v=l.length;m<v;++m){var b=l[m];b===void 0&&!(m in l)||i.cast(b)._then(p,g,void 0,h,null)}return h}i.race=function(l){return a(l,void 0)},i.prototype.race=function(){return a(this,void 0)}}),Ob}var Nb,VT;function l4(){return VT||(VT=1,Nb=function(i,e,t,n,r,s){var a=i._getDomain,l=Ht(),c=l.tryCatch;function d(v,b,x,D){this.constructor$(v);var w=a();this._fn=w===null?b:l.domainBind(w,b),x!==void 0&&(x=i.resolve(x),x._attachCancellationCallback(this)),this._initialValue=x,this._currentCancellable=null,D===r?this._eachValues=Array(this._length):D===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}l.inherits(d,e),d.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==r&&this._eachValues.push(v)},d.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},d.prototype._init=function(){},d.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},d.prototype.shouldCopyValues=function(){return!1},d.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},d.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof i&&this._currentCancellable.cancel(),this._initialValue instanceof i&&this._initialValue.cancel())},d.prototype._iterate=function(v){this._values=v;var b,x,D=v.length;if(this._initialValue!==void 0?(b=this._initialValue,x=0):(b=i.resolve(v[0]),x=1),this._currentCancellable=b,!b.isRejected())for(;x<D;++x){var w={accum:null,value:v[x],index:x,length:D,array:this};b=b._then(g,void 0,void 0,w,void 0)}this._eachValues!==void 0&&(b=b._then(this._eachComplete,void 0,void 0,this,void 0)),b._then(h,h,void 0,b,this)},i.prototype.reduce=function(v,b){return p(this,v,b,null)},i.reduce=function(v,b,x,D){return p(v,b,x,D)};function h(v,b){this.isFulfilled()?b._resolve(v):b._reject(v)}function p(v,b,x,D){if(typeof b!="function")return t("expecting a function but got "+l.classString(b));var w=new d(v,b,x,D);return w.promise()}function g(v){this.accum=v,this.array._gotAccum(v);var b=n(this.value,this.array._promise);return b instanceof i?(this.array._currentCancellable=b,b._then(m,void 0,void 0,this,void 0)):m.call(this,b)}function m(v){var b=this.array,x=b._promise,D=c(b._fn);x._pushContext();var w;b._eachValues!==void 0?w=D.call(x._boundValue(),v,this.index,this.length):w=D.call(x._boundValue(),this.accum,v,this.index,this.length),w instanceof i&&(b._currentCancellable=w);var T=x._popContext();return s.checkForgottenReturns(w,T,b._eachValues!==void 0?"Promise.each":"Promise.reduce",x),w}}),Nb}var Fb,GT;function c4(){return GT||(GT=1,Fb=function(i,e,t){var n=i.PromiseInspection,r=Ht();function s(a){this.constructor$(a)}r.inherits(s,e),s.prototype._promiseResolved=function(a,l){this._values[a]=l;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,l){var c=new n;return c._bitField=33554432,c._settledValueField=a,this._promiseResolved(l,c)},s.prototype._promiseRejected=function(a,l){var c=new n;return c._bitField=16777216,c._settledValueField=a,this._promiseResolved(l,c)},i.settle=function(a){return t.deprecated(".settle()",".reflect()"),new s(a).promise()},i.prototype.settle=function(){return i.settle(this)}}),Fb}var Bb,XT;function u4(){return XT||(XT=1,Bb=function(i,e,t){var n=Ht(),r=Aa().RangeError,s=Aa().AggregateError,a=n.isArray,l={};function c(h){this.constructor$(h),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(c,e),c.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var h=a(this._values);!this._isResolved()&&h&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(h){this._howMany=h},c.prototype._promiseFulfilled=function(h){return this._addFulfilled(h),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},c.prototype._promiseRejected=function(h){return this._addRejected(h),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof i||this._values==null?this._cancel():(this._addRejected(l),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var h=new s,p=this.length();p<this._values.length;++p)this._values[p]!==l&&h.push(this._values[p]);return h.length>0?this._reject(h):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(h){this._values.push(h)},c.prototype._addFulfilled=function(h){this._values[this._totalResolved++]=h},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(h){var p="Input array must contain at least "+this._howMany+" items but contains only "+h+" items";return new r(p)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function d(h,p){if((p|0)!==p||p<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var g=new c(h),m=g.promise();return g.setHowMany(p),g.init(),m}i.some=function(h,p){return d(h,p)},i.prototype.some=function(h){return d(this,h)},i._SomePromiseArray=c}),Bb}var Lb,$T;function d4(){return $T||($T=1,Lb=function(i,e){var t=i.map;i.prototype.filter=function(n,r){return t(this,n,r,e)},i.filter=function(n,r,s){return t(n,r,s,e)}}),Lb}var Ib,YT;function h4(){return YT||(YT=1,Ib=function(i,e){var t=i.reduce,n=i.all;function r(){return n(this)}function s(a,l){return t(a,l,e,e)}i.prototype.each=function(a){return t(this,a,e,0)._then(r,void 0,void 0,this,void 0)},i.prototype.mapSeries=function(a){return t(this,a,e,e)},i.each=function(a,l){return t(a,l,e,0)._then(r,void 0,void 0,a,void 0)},i.mapSeries=s}),Ib}var Pb,KT;function f4(){return KT||(KT=1,Pb=function(i){var e=i._SomePromiseArray;function t(n){var r=new e(n),s=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),s}i.any=function(n){return t(n)},i.prototype.any=function(){return t(this)}}),Pb}var ZT;function p4(){return ZT||(ZT=1,(function(i){i.exports=function(){var e=function(){return new g(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new F.PromiseInspection(this._target())},n=function(B){return F.reject(new g(B))};function r(){}var s={},a=Ht(),l;a.isNode?l=function(){var B=process.domain;return B===void 0&&(B=null),B}:l=function(){return null},a.notEnumerableProp(F,"_getDomain",l);var c=rc(),d=zF(),h=new d;c.defineProperty(F,"_async",{value:h});var p=Aa(),g=F.TypeError=p.TypeError;F.RangeError=p.RangeError;var m=F.CancellationError=p.CancellationError;F.TimeoutError=p.TimeoutError,F.OperationalError=p.OperationalError,F.RejectionError=p.OperationalError,F.AggregateError=p.AggregateError;var v=function(){},b={},x={},D=WF()(F,v),w=jF()(F,v,D,n,r),T=HF()(F),C=T.create,E=qF()(F,T);E.CapturedTrace;var S=VF()(F,D),k=GF()(x),O=F3(),R=a.errorObj,z=a.tryCatch;function Z(B,I){if(typeof I!="function")throw new g("expecting a function but got "+a.classString(I));if(B.constructor!==F)throw new g(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function F(B){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,B!==v&&(Z(this,B),this._resolveFromExecutor(B)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}F.prototype.toString=function(){return"[object Promise]"},F.prototype.caught=F.prototype.catch=function(B){var I=arguments.length;if(I>1){var V=new Array(I-1),K=0,ae;for(ae=0;ae<I-1;++ae){var L=arguments[ae];if(a.isObject(L))V[K++]=L;else return n("expecting an object but got A catch statement predicate "+a.classString(L))}return V.length=K,B=arguments[ae],this.then(void 0,k(V,B,this))}return this.then(void 0,B)},F.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},F.prototype.then=function(B,I){if(E.warnings()&&arguments.length>0&&typeof B!="function"&&typeof I!="function"){var V=".then() only accepts functions but was passed: "+a.classString(B);arguments.length>1&&(V+=", "+a.classString(I)),this._warn(V)}return this._then(B,I,void 0,void 0,void 0)},F.prototype.done=function(B,I){var V=this._then(B,I,void 0,void 0,void 0);V._setIsFinal()},F.prototype.spread=function(B){return typeof B!="function"?n("expecting a function but got "+a.classString(B)):this.all()._then(B,void 0,void 0,b,void 0)},F.prototype.toJSON=function(){var B={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(B.fulfillmentValue=this.value(),B.isFulfilled=!0):this.isRejected()&&(B.rejectionReason=this.reason(),B.isRejected=!0),B},F.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new w(this).promise()},F.prototype.error=function(B){return this.caught(a.originatesFromRejection,B)},F.getNewLibraryCopy=i.exports,F.is=function(B){return B instanceof F},F.fromNode=F.fromCallback=function(B){var I=new F(v);I._captureStackTrace();var V=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,K=z(B)(O(I,V));return K===R&&I._rejectCallback(K.e,!0),I._isFateSealed()||I._setAsyncGuaranteed(),I},F.all=function(B){return new w(B).promise()},F.cast=function(B){var I=D(B);return I instanceof F||(I=new F(v),I._captureStackTrace(),I._setFulfilled(),I._rejectionHandler0=B),I},F.resolve=F.fulfilled=F.cast,F.reject=F.rejected=function(B){var I=new F(v);return I._captureStackTrace(),I._rejectCallback(B,!0),I},F.setScheduler=function(B){if(typeof B!="function")throw new g("expecting a function but got "+a.classString(B));return h.setScheduler(B)},F.prototype._then=function(B,I,V,K,ae){var L=ae!==void 0,H=L?ae:new F(v),G=this._target(),te=G._bitField;L||(H._propagateFrom(this,3),H._captureStackTrace(),K===void 0&&(this._bitField&2097152)!==0&&((te&50397184)!==0?K=this._boundValue():K=G===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,H));var ce=l();if((te&50397184)!==0){var we,ge,Ce=G._settlePromiseCtx;(te&33554432)!==0?(ge=G._rejectionHandler0,we=B):(te&16777216)!==0?(ge=G._fulfillmentHandler0,we=I,G._unsetRejectionIsUnhandled()):(Ce=G._settlePromiseLateCancellationObserver,ge=new m("late cancellation observer"),G._attachExtraTrace(ge),we=I),h.invoke(Ce,G,{handler:ce===null?we:typeof we=="function"&&a.domainBind(ce,we),promise:H,receiver:K,value:ge})}else G._addCallbacks(B,I,H,K,ce);return H},F.prototype._length=function(){return this._bitField&65535},F.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},F.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},F.prototype._setLength=function(B){this._bitField=this._bitField&-65536|B&65535},F.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},F.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},F.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},F.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},F.prototype._isFinal=function(){return(this._bitField&4194304)>0},F.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},F.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},F.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},F.prototype._setAsyncGuaranteed=function(){h.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},F.prototype._receiverAt=function(B){var I=B===0?this._receiver0:this[B*4-4+3];if(I!==s)return I===void 0&&this._isBound()?this._boundValue():I},F.prototype._promiseAt=function(B){return this[B*4-4+2]},F.prototype._fulfillmentHandlerAt=function(B){return this[B*4-4+0]},F.prototype._rejectionHandlerAt=function(B){return this[B*4-4+1]},F.prototype._boundValue=function(){},F.prototype._migrateCallback0=function(B){B._bitField;var I=B._fulfillmentHandler0,V=B._rejectionHandler0,K=B._promise0,ae=B._receiverAt(0);ae===void 0&&(ae=s),this._addCallbacks(I,V,K,ae,null)},F.prototype._migrateCallbackAt=function(B,I){var V=B._fulfillmentHandlerAt(I),K=B._rejectionHandlerAt(I),ae=B._promiseAt(I),L=B._receiverAt(I);L===void 0&&(L=s),this._addCallbacks(V,K,ae,L,null)},F.prototype._addCallbacks=function(B,I,V,K,ae){var L=this._length();if(L>=65531&&(L=0,this._setLength(0)),L===0)this._promise0=V,this._receiver0=K,typeof B=="function"&&(this._fulfillmentHandler0=ae===null?B:a.domainBind(ae,B)),typeof I=="function"&&(this._rejectionHandler0=ae===null?I:a.domainBind(ae,I));else{var H=L*4-4;this[H+2]=V,this[H+3]=K,typeof B=="function"&&(this[H+0]=ae===null?B:a.domainBind(ae,B)),typeof I=="function"&&(this[H+1]=ae===null?I:a.domainBind(ae,I))}return this._setLength(L+1),L},F.prototype._proxy=function(B,I){this._addCallbacks(void 0,void 0,I,B,null)},F.prototype._resolveCallback=function(B,I){if((this._bitField&117506048)===0){if(B===this)return this._rejectCallback(e(),!1);var V=D(B,this);if(!(V instanceof F))return this._fulfill(B);I&&this._propagateFrom(V,2);var K=V._target();if(K===this){this._reject(e());return}var ae=K._bitField;if((ae&50397184)===0){var L=this._length();L>0&&K._migrateCallback0(this);for(var H=1;H<L;++H)K._migrateCallbackAt(this,H);this._setFollowing(),this._setLength(0),this._setFollowee(K)}else if((ae&33554432)!==0)this._fulfill(K._value());else if((ae&16777216)!==0)this._reject(K._reason());else{var G=new m("late cancellation observer");K._attachExtraTrace(G),this._reject(G)}}},F.prototype._rejectCallback=function(B,I,V){var K=a.ensureErrorObject(B),ae=K===B;if(!ae&&!V&&E.warnings()){var L="a promise was rejected with a non-error: "+a.classString(B);this._warn(L,!0)}this._attachExtraTrace(K,I?ae:!1),this._reject(B)},F.prototype._resolveFromExecutor=function(B){var I=this;this._captureStackTrace(),this._pushContext();var V=!0,K=this._execute(B,function(ae){I._resolveCallback(ae)},function(ae){I._rejectCallback(ae,V)});V=!1,this._popContext(),K!==void 0&&I._rejectCallback(K,!0)},F.prototype._settlePromiseFromHandler=function(B,I,V,K){var ae=K._bitField;if((ae&65536)===0){K._pushContext();var L;I===b?!V||typeof V.length!="number"?(L=R,L.e=new g("cannot .spread() a non-array: "+a.classString(V))):L=z(B).apply(this._boundValue(),V):L=z(B).call(I,V);var H=K._popContext();ae=K._bitField,(ae&65536)===0&&(L===x?K._reject(V):L===R?K._rejectCallback(L.e,!1):(E.checkForgottenReturns(L,H,"",K,this),K._resolveCallback(L)))}},F.prototype._target=function(){for(var B=this;B._isFollowing();)B=B._followee();return B},F.prototype._followee=function(){return this._rejectionHandler0},F.prototype._setFollowee=function(B){this._rejectionHandler0=B},F.prototype._settlePromise=function(B,I,V,K){var ae=B instanceof F,L=this._bitField,H=(L&134217728)!==0;(L&65536)!==0?(ae&&B._invokeInternalOnCancel(),V instanceof S&&V.isFinallyHandler()?(V.cancelPromise=B,z(I).call(V,K)===R&&B._reject(R.e)):I===t?B._fulfill(t.call(V)):V instanceof r?V._promiseCancelled(B):ae||B instanceof w?B._cancel():V.cancel()):typeof I=="function"?ae?(H&&B._setAsyncGuaranteed(),this._settlePromiseFromHandler(I,V,K,B)):I.call(V,K,B):V instanceof r?V._isResolved()||((L&33554432)!==0?V._promiseFulfilled(K,B):V._promiseRejected(K,B)):ae&&(H&&B._setAsyncGuaranteed(),(L&33554432)!==0?B._fulfill(K):B._reject(K))},F.prototype._settlePromiseLateCancellationObserver=function(B){var I=B.handler,V=B.promise,K=B.receiver,ae=B.value;typeof I=="function"?V instanceof F?this._settlePromiseFromHandler(I,K,ae,V):I.call(K,ae,V):V instanceof F&&V._reject(ae)},F.prototype._settlePromiseCtx=function(B){this._settlePromise(B.promise,B.handler,B.receiver,B.value)},F.prototype._settlePromise0=function(B,I,V){var K=this._promise0,ae=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(K,B,ae,I)},F.prototype._clearCallbackDataAtIndex=function(B){var I=B*4-4;this[I+2]=this[I+3]=this[I+0]=this[I+1]=void 0},F.prototype._fulfill=function(B){var I=this._bitField;if(!((I&117506048)>>>16)){if(B===this){var V=e();return this._attachExtraTrace(V),this._reject(V)}this._setFulfilled(),this._rejectionHandler0=B,(I&65535)>0&&((I&134217728)!==0?this._settlePromises():h.settlePromises(this))}},F.prototype._reject=function(B){var I=this._bitField;if(!((I&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=B,this._isFinal())return h.fatalError(B,a.isNode);(I&65535)>0?h.settlePromises(this):this._ensurePossibleRejectionHandled()}},F.prototype._fulfillPromises=function(B,I){for(var V=1;V<B;V++){var K=this._fulfillmentHandlerAt(V),ae=this._promiseAt(V),L=this._receiverAt(V);this._clearCallbackDataAtIndex(V),this._settlePromise(ae,K,L,I)}},F.prototype._rejectPromises=function(B,I){for(var V=1;V<B;V++){var K=this._rejectionHandlerAt(V),ae=this._promiseAt(V),L=this._receiverAt(V);this._clearCallbackDataAtIndex(V),this._settlePromise(ae,K,L,I)}},F.prototype._settlePromises=function(){var B=this._bitField,I=B&65535;if(I>0){if((B&16842752)!==0){var V=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,V,B),this._rejectPromises(I,V)}else{var K=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,K,B),this._fulfillPromises(I,K)}this._setLength(0)}this._clearCancellationData()},F.prototype._settledValue=function(){var B=this._bitField;if((B&33554432)!==0)return this._rejectionHandler0;if((B&16777216)!==0)return this._fulfillmentHandler0};function W(B){this.promise._resolveCallback(B)}function M(B){this.promise._rejectCallback(B,!1)}F.defer=F.pending=function(){E.deprecated("Promise.defer","new Promise");var B=new F(v);return{promise:B,resolve:W,reject:M}},a.notEnumerableProp(F,"_makeSelfResolutionError",e),XF()(F,v,D,n,E),$F()(F,v,D,E),YF()(F,w,n,E),KF()(F),ZF()(F),QF()(F,w,D,v,h,l),F.Promise=F,F.version="3.4.7",JF()(F,w,n,D,v,E),e4()(F),t4()(F,n,D,C,v,E),n4()(F,v,E),i4()(F,n,v,D,r,E),r4()(F),s4()(F,v),a4()(F,w,D,n),o4()(F,v,D,n),l4()(F,w,n,D,v,E),c4()(F,w,E),u4()(F,w,n),d4()(F,v),h4()(F,v),f4()(F),a.toFastProperties(F),a.toFastProperties(F.prototype);function Y(B){var I=new F(v);I._fulfillmentHandler0=B,I._rejectionHandler0=B,I._promise0=B,I._receiver0=B}return Y({a:1}),Y({b:2}),Y({c:3}),Y(1),Y(function(){}),Y(void 0),Y(!1),Y(new F(v)),E.setBounds(d.firstLineError,a.lastLineError),F}})(lb)),lb.exports}var QT;function ka(){if(QT)return rr;QT=1;var i=fn,e=p4()();rr.defer=t,rr.when=e.resolve,rr.resolve=e.resolve,rr.all=e.all,rr.props=e.props,rr.reject=e.reject,rr.promisify=e.promisify,rr.mapSeries=e.mapSeries,rr.attempt=e.attempt,rr.nfcall=function(n){var r=Array.prototype.slice.call(arguments,1),s=e.promisify(n);return s.apply(null,r)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(n){return this.then(function(r){var s=i.extend({},r,n(r));return e.props(s)})};function t(){var n,r,s=new e.Promise(function(a,l){n=a,r=l});return{resolve:n,reject:r,promise:s}}return rr}var Ct={},JT;function Ro(){if(JT)return Ct;JT=1;var i=fn,e=Ct.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t(S,k){return k=k||{},{type:e.document,children:S,notes:k.notes||new p({}),comments:k.comments||[]}}function n(S,k){k=k||{};var O=k.indent||{};return{type:e.paragraph,children:S,styleId:k.styleId||null,styleName:k.styleName||null,numbering:k.numbering||null,alignment:k.alignment||null,indent:{start:O.start||null,end:O.end||null,firstLine:O.firstLine||null,hanging:O.hanging||null}}}function r(S,k){return k=k||{},{type:e.run,children:S,styleId:k.styleId||null,styleName:k.styleName||null,isBold:!!k.isBold,isUnderline:!!k.isUnderline,isItalic:!!k.isItalic,isStrikethrough:!!k.isStrikethrough,isAllCaps:!!k.isAllCaps,isSmallCaps:!!k.isSmallCaps,verticalAlignment:k.verticalAlignment||s.baseline,font:k.font||null,fontSize:k.fontSize||null,highlight:k.highlight||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(S){return{type:e.text,value:S}}function l(){return{type:e.tab}}function c(S){return{type:e.checkbox,checked:S.checked}}function d(S,k){return{type:e.hyperlink,children:S,href:k.href,anchor:k.anchor,targetFrame:k.targetFrame}}function h(S){return{type:e.noteReference,noteType:S.noteType,noteId:S.noteId}}function p(S){this._notes=i.indexBy(S,function(k){return b(k.noteType,k.noteId)})}p.prototype.resolve=function(S){return this.findNoteByKey(b(S.noteType,S.noteId))},p.prototype.findNoteByKey=function(S){return this._notes[S]||null};function g(S){return{type:e.note,noteType:S.noteType,noteId:S.noteId,body:S.body}}function m(S){return{type:e.commentReference,commentId:S.commentId}}function v(S){return{type:e.comment,commentId:S.commentId,body:S.body,authorName:S.authorName,authorInitials:S.authorInitials}}function b(S,k){return S+"-"+k}function x(S){return{type:e.image,read:function(k){return k?S.readImage(k):S.readImage().then(function(O){return Buffer.from(O)})},readAsArrayBuffer:function(){return S.readImage()},readAsBase64String:function(){return S.readImage("base64")},readAsBuffer:function(){return S.readImage().then(function(k){return Buffer.from(k)})},altText:S.altText,contentType:S.contentType}}function D(S,k){return k=k||{},{type:e.table,children:S,styleId:k.styleId||null,styleName:k.styleName||null}}function w(S,k){return k=k||{},{type:e.tableRow,children:S,isHeader:k.isHeader||!1}}function T(S,k){return k=k||{},{type:e.tableCell,children:S,colSpan:k.colSpan==null?1:k.colSpan,rowSpan:k.rowSpan==null?1:k.rowSpan}}function C(S){return{type:e.break,breakType:S}}function E(S){return{type:e.bookmarkStart,name:S.name}}return Ct.document=Ct.Document=t,Ct.paragraph=Ct.Paragraph=n,Ct.run=Ct.Run=r,Ct.text=Ct.Text=a,Ct.tab=Ct.Tab=l,Ct.checkbox=Ct.Checkbox=c,Ct.Hyperlink=d,Ct.noteReference=Ct.NoteReference=h,Ct.Notes=p,Ct.Note=g,Ct.commentReference=m,Ct.comment=v,Ct.Image=x,Ct.Table=D,Ct.TableRow=w,Ct.TableCell=T,Ct.lineBreak=C("line"),Ct.pageBreak=C("page"),Ct.columnBreak=C("column"),Ct.BookmarkStart=E,Ct.verticalAlignment=s,Ct}var xl={},e_;function _s(){if(e_)return xl;e_=1;var i=fn;xl.Result=e,xl.success=t,xl.warning=n,xl.error=r;function e(c,d){this.value=c,this.messages=d||[]}e.prototype.map=function(c){return new e(c(this.value),this.messages)},e.prototype.flatMap=function(c){var d=c(this.value);return new e(d.value,s([this,d]))},e.prototype.flatMapThen=function(c){var d=this;return c(this.value).then(function(h){return new e(h.value,s([d,h]))})},e.combine=function(c){var d=i.flatten(i.pluck(c,"value")),h=s(c);return new e(d,h)};function t(c){return new e(c,[])}function n(c){return{type:"warning",message:c}}function r(c){return{type:"error",message:c.message,error:c}}function s(c){var d=[];return i.flatten(i.pluck(c,"messages"),!0).forEach(function(h){a(d,h)||d.push(h)}),d}function a(c,d){return i.find(c,l.bind(null,d))!==void 0}function l(c,d){return c.type===d.type&&c.message===d.message}return xl}var su={},au={},t_;function g4(){if(t_)return au;t_=1,au.byteLength=l,au.toByteArray=d,au.fromByteArray=g;for(var i=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=n.length;r<s;++r)i[r]=n[r],e[n.charCodeAt(r)]=r;e[45]=62,e[95]=63;function a(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=m.indexOf("=");b===-1&&(b=v);var x=b===v?0:4-b%4;return[b,x]}function l(m){var v=a(m),b=v[0],x=v[1];return(b+x)*3/4-x}function c(m,v,b){return(v+b)*3/4-b}function d(m){var v,b=a(m),x=b[0],D=b[1],w=new t(c(m,x,D)),T=0,C=D>0?x-4:x,E;for(E=0;E<C;E+=4)v=e[m.charCodeAt(E)]<<18|e[m.charCodeAt(E+1)]<<12|e[m.charCodeAt(E+2)]<<6|e[m.charCodeAt(E+3)],w[T++]=v>>16&255,w[T++]=v>>8&255,w[T++]=v&255;return D===2&&(v=e[m.charCodeAt(E)]<<2|e[m.charCodeAt(E+1)]>>4,w[T++]=v&255),D===1&&(v=e[m.charCodeAt(E)]<<10|e[m.charCodeAt(E+1)]<<4|e[m.charCodeAt(E+2)]>>2,w[T++]=v>>8&255,w[T++]=v&255),w}function h(m){return i[m>>18&63]+i[m>>12&63]+i[m>>6&63]+i[m&63]}function p(m,v,b){for(var x,D=[],w=v;w<b;w+=3)x=(m[w]<<16&16711680)+(m[w+1]<<8&65280)+(m[w+2]&255),D.push(h(x));return D.join("")}function g(m){for(var v,b=m.length,x=b%3,D=[],w=16383,T=0,C=b-x;T<C;T+=w)D.push(p(m,T,T+w>C?C:T+w));return x===1?(v=m[b-1],D.push(i[v>>2]+i[v<<4&63]+"==")):x===2&&(v=(m[b-2]<<8)+m[b-1],D.push(i[v>>10]+i[v>>4&63]+i[v<<2&63]+"=")),D.join("")}return au}function qh(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zb={exports:{}};var n_;function m4(){return n_||(n_=1,(function(i,e){(function(t){i.exports=t()})(function(){return(function t(n,r,s){function a(d,h){if(!r[d]){if(!n[d]){var p=typeof qh=="function"&&qh;if(!h&&p)return p(d,!0);if(l)return l(d,!0);var g=new Error("Cannot find module '"+d+"'");throw g.code="MODULE_NOT_FOUND",g}var m=r[d]={exports:{}};n[d][0].call(m.exports,function(v){var b=n[d][1][v];return a(b||v)},m,m.exports,t,n,r,s)}return r[d].exports}for(var l=typeof qh=="function"&&qh,c=0;c<s.length;c++)a(s[c]);return a})({1:[function(t,n,r){var s=t("./utils"),a=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(c){for(var d,h,p,g,m,v,b,x=[],D=0,w=c.length,T=w,C=s.getTypeOf(c)!=="string";D<c.length;)T=w-D,p=C?(d=c[D++],h=D<w?c[D++]:0,D<w?c[D++]:0):(d=c.charCodeAt(D++),h=D<w?c.charCodeAt(D++):0,D<w?c.charCodeAt(D++):0),g=d>>2,m=(3&d)<<4|h>>4,v=1<T?(15&h)<<2|p>>6:64,b=2<T?63&p:64,x.push(l.charAt(g)+l.charAt(m)+l.charAt(v)+l.charAt(b));return x.join("")},r.decode=function(c){var d,h,p,g,m,v,b=0,x=0,D="data:";if(c.substr(0,D.length)===D)throw new Error("Invalid base64 input, it looks like a data url.");var w,T=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&T--,c.charAt(c.length-2)===l.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=a.uint8array?new Uint8Array(0|T):new Array(0|T);b<c.length;)d=l.indexOf(c.charAt(b++))<<2|(g=l.indexOf(c.charAt(b++)))>>4,h=(15&g)<<4|(m=l.indexOf(c.charAt(b++)))>>2,p=(3&m)<<6|(v=l.indexOf(c.charAt(b++))),w[x++]=d,m!==64&&(w[x++]=h),v!==64&&(w[x++]=p);return w}},{"./support":30,"./utils":32}],2:[function(t,n,r){var s=t("./external"),a=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function d(h,p,g,m,v){this.compressedSize=h,this.uncompressedSize=p,this.crc32=g,this.compression=m,this.compressedContent=v}d.prototype={getContentWorker:function(){var h=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),p=this;return h.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(h,p,g){return h.pipe(new l).pipe(new c("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new c("compressedSize")).withStreamInfo("compression",p)},n.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,r){var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,r){var s=t("./utils"),a=(function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c})();n.exports=function(l,c){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?(function(d,h,p,g){var m=a,v=g+p;d^=-1;for(var b=g;b<v;b++)d=d>>>8^m[255&(d^h[b])];return-1^d})(0|c,l,l.length,0):(function(d,h,p,g){var m=a,v=g+p;d^=-1;for(var b=g;b<v;b++)d=d>>>8^m[255&(d^h.charCodeAt(b))];return-1^d})(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(t,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,n,r){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),l=t("./utils"),c=t("./stream/GenericWorker"),d=s?"uint8array":"array";function h(p,g){c.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}r.magic="\b\0",l.inherits(h,c),h.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,p.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},r.compressWorker=function(p){return new h("Deflate",p)},r.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,r){function s(m,v){var b,x="";for(b=0;b<v;b++)x+=String.fromCharCode(255&m),m>>>=8;return x}function a(m,v,b,x,D,w){var T,C,E=m.file,S=m.compression,k=w!==d.utf8encode,O=l.transformTo("string",w(E.name)),R=l.transformTo("string",d.utf8encode(E.name)),z=E.comment,Z=l.transformTo("string",w(z)),F=l.transformTo("string",d.utf8encode(z)),W=R.length!==E.name.length,M=F.length!==z.length,Y="",B="",I="",V=E.dir,K=E.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};v&&!b||(ae.crc32=m.crc32,ae.compressedSize=m.compressedSize,ae.uncompressedSize=m.uncompressedSize);var L=0;v&&(L|=8),k||!W&&!M||(L|=2048);var H=0,G=0;V&&(H|=16),D==="UNIX"?(G=798,H|=(function(ce,we){var ge=ce;return ce||(ge=we?16893:33204),(65535&ge)<<16})(E.unixPermissions,V)):(G=20,H|=(function(ce){return 63&(ce||0)})(E.dosPermissions)),T=K.getUTCHours(),T<<=6,T|=K.getUTCMinutes(),T<<=5,T|=K.getUTCSeconds()/2,C=K.getUTCFullYear()-1980,C<<=4,C|=K.getUTCMonth()+1,C<<=5,C|=K.getUTCDate(),W&&(B=s(1,1)+s(h(O),4)+R,Y+="up"+s(B.length,2)+B),M&&(I=s(1,1)+s(h(Z),4)+F,Y+="uc"+s(I.length,2)+I);var te="";return te+=`
\0`,te+=s(L,2),te+=S.magic,te+=s(T,2),te+=s(C,2),te+=s(ae.crc32,4),te+=s(ae.compressedSize,4),te+=s(ae.uncompressedSize,4),te+=s(O.length,2),te+=s(Y.length,2),{fileRecord:p.LOCAL_FILE_HEADER+te+O+Y,dirRecord:p.CENTRAL_FILE_HEADER+s(G,2)+te+s(Z.length,2)+"\0\0\0\0"+s(H,4)+s(x,4)+O+Y+Z}}var l=t("../utils"),c=t("../stream/GenericWorker"),d=t("../utf8"),h=t("../crc32"),p=t("../signature");function g(m,v,b,x){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=b,this.encodeFileName=x,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,c),g.prototype.push=function(m){var v=m.meta.percent||0,b=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:b?(v+100*(b-x-1))/b:100}}))},g.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var v=this.streamFiles&&!m.file.dir;if(v){var b=a(m,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(m){this.accumulate=!1;var v=this.streamFiles&&!m.file.dir,b=a(m,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),v)this.push({data:(function(x){return p.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)})(m),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var m=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var b=this.bytesWritten-m,x=(function(D,w,T,C,E){var S=l.transformTo("string",E(C));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(D,2)+s(D,2)+s(w,4)+s(T,4)+s(S.length,2)+S})(this.dirRecords.length,b,m,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(m){this._sources.push(m);var v=this;return m.on("data",function(b){v.processChunk(b)}),m.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),m.on("error",function(b){v.error(b)}),this},g.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(m){var v=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var b=0;b<v.length;b++)try{v[b].error(m)}catch{}return!0},g.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,v=0;v<m.length;v++)m[v].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,r){var s=t("../compressions"),a=t("./ZipFileWorker");r.generateWorker=function(l,c,d){var h=new a(c.streamFiles,d,c.platform,c.encodeFileName),p=0;try{l.forEach(function(g,m){p++;var v=(function(w,T){var C=w||T,E=s[C];if(!E)throw new Error(C+" is not a valid compression method !");return E})(m.options.compression,c.compression),b=m.options.compressionOptions||c.compressionOptions||{},x=m.dir,D=m.date;m._compressWorker(v,b).withStreamInfo("file",{name:g,dir:x,date:D,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(h)}),h.entriesCount=p}catch(g){h.error(g)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var l in this)typeof this[l]!="function"&&(a[l]=this[l]);return a}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,l){return new s().loadAsync(a,l)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,r){var s=t("./utils"),a=t("./external"),l=t("./utf8"),c=t("./zipEntries"),d=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function p(g){return new a.Promise(function(m,v){var b=g.decompressed.getContentWorker().pipe(new d);b.on("error",function(x){v(x)}).on("end",function(){b.streamInfo.crc32!==g.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(g,m){var v=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",g,!0,m.optimizedBinaryString,m.base64).then(function(b){var x=new c(m);return x.load(b),x}).then(function(b){var x=[a.Promise.resolve(b)],D=b.files;if(m.checkCRC32)for(var w=0;w<D.length;w++)x.push(p(D[w]));return a.Promise.all(x)}).then(function(b){for(var x=b.shift(),D=x.files,w=0;w<D.length;w++){var T=D[w],C=T.fileNameStr,E=s.resolve(T.fileNameStr);v.file(E,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:m.createFolders}),T.dir||(v.file(E).unsafeOriginalName=C)}return x.zipComment.length&&(v.comment=x.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,r){var s=t("../utils"),a=t("../stream/GenericWorker");function l(c,d){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}s.inherits(l,a),l.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(h){d.push({data:h,meta:{percent:0}})}).on("error",function(h){d.isPaused?this.generatedError=h:d.error(h)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,r){var s=t("readable-stream").Readable;function a(l,c,d){s.call(this,c),this._helper=l;var h=this;l.on("data",function(p,g){h.push(p)||h._helper.pause(),d&&d(g)}).on("error",function(p){h.emit("error",p)}).on("end",function(){h.push(null)})}t("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,n,r){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,r){function s(E,S,k){var O,R=l.getTypeOf(S),z=l.extend(k||{},h);z.date=z.date||new Date,z.compression!==null&&(z.compression=z.compression.toUpperCase()),typeof z.unixPermissions=="string"&&(z.unixPermissions=parseInt(z.unixPermissions,8)),z.unixPermissions&&16384&z.unixPermissions&&(z.dir=!0),z.dosPermissions&&16&z.dosPermissions&&(z.dir=!0),z.dir&&(E=D(E)),z.createFolders&&(O=x(E))&&w.call(this,O,!0);var Z=R==="string"&&z.binary===!1&&z.base64===!1;k&&k.binary!==void 0||(z.binary=!Z),(S instanceof p&&S.uncompressedSize===0||z.dir||!S||S.length===0)&&(z.base64=!1,z.binary=!0,S="",z.compression="STORE",R="string");var F=null;F=S instanceof p||S instanceof c?S:v.isNode&&v.isStream(S)?new b(E,S):l.prepareContent(E,S,z.binary,z.optimizedBinaryString,z.base64);var W=new g(E,F,z);this.files[E]=W}var a=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),h=t("./defaults"),p=t("./compressedObject"),g=t("./zipObject"),m=t("./generate"),v=t("./nodejsUtils"),b=t("./nodejs/NodejsStreamInputAdapter"),x=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var S=E.lastIndexOf("/");return 0<S?E.substring(0,S):""},D=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},w=function(E,S){return S=S!==void 0?S:h.createFolders,E=D(E),this.files[E]||s.call(this,E,null,{dir:!0,createFolders:S}),this.files[E]};function T(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var S,k,O;for(S in this.files)O=this.files[S],(k=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&E(k,O)},filter:function(E){var S=[];return this.forEach(function(k,O){E(k,O)&&S.push(O)}),S},file:function(E,S,k){if(arguments.length!==1)return E=this.root+E,s.call(this,E,S,k),this;if(T(E)){var O=E;return this.filter(function(z,Z){return!Z.dir&&O.test(z)})}var R=this.files[this.root+E];return R&&!R.dir?R:null},folder:function(E){if(!E)return this;if(T(E))return this.filter(function(R,z){return z.dir&&E.test(R)});var S=this.root+E,k=w.call(this,S),O=this.clone();return O.root=k.name,O},remove:function(E){E=this.root+E;var S=this.files[E];if(S||(E.slice(-1)!=="/"&&(E+="/"),S=this.files[E]),S&&!S.dir)delete this.files[E];else for(var k=this.filter(function(R,z){return z.name.slice(0,E.length)===E}),O=0;O<k.length;O++)delete this.files[k[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var S,k={};try{if((k=l.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");l.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var O=k.comment||this.comment||"";S=m.generateWorker(this,k,O)}catch(R){(S=new c("error")).error(R)}return new d(S,k.type||"string",k.mimeType)},generateAsync:function(E,S){return this.generateInternalStream(E).accumulate(S)},generateNodeStream:function(E,S){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(S)}};n.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,r){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,r){var s=t("./DataReader");function a(l){s.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}t("../utils").inherits(a,s),a.prototype.byteAt=function(l){return this.data[this.zero+l]},a.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),p=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===c&&this.data[g+1]===d&&this.data[g+2]===h&&this.data[g+3]===p)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),p=l.charCodeAt(3),g=this.readData(4);return c===g[0]&&d===g[1]&&h===g[2]&&p===g[3]},a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,n,r){var s=t("../utils");function a(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,d=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=l,d},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=a},{"../utils":32}],19:[function(t,n,r){var s=t("./Uint8ArrayReader");function a(l){s.call(this,l)}t("../utils").inherits(a,s),a.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,r){var s=t("./DataReader");function a(l){s.call(this,l)}t("../utils").inherits(a,s),a.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},a.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},a.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},a.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,n,r){var s=t("./ArrayReader");function a(l){s.call(this,l)}t("../utils").inherits(a,s),a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,r){var s=t("../utils"),a=t("../support"),l=t("./ArrayReader"),c=t("./StringReader"),d=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");n.exports=function(p){var g=s.getTypeOf(p);return s.checkSupport(g),g!=="string"||a.uint8array?g==="nodebuffer"?new d(p):a.uint8array?new h(s.transformTo("uint8array",p)):new l(s.transformTo("array",p)):new c(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,r){var s=t("./GenericWorker"),a=t("../utils");function l(c){s.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(l,s),l.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,r){var s=t("./GenericWorker"),a=t("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,s),l.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,r){var s=t("../utils"),a=t("./GenericWorker");function l(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(l,a),l.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}a.prototype.processChunk.call(this,c)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,r){var s=t("../utils"),a=t("./GenericWorker");function l(c){a.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){d.dataIsReady=!0,d.data=h,d.max=h&&h.length||0,d.type=s.getTypeOf(h),d.isPaused||d._tickAndRepeat()},function(h){d.error(h)})}s.inherits(l,a),l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,r){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,l){return this._listeners[a].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,l){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,l)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var l=this;return a.on("data",function(c){l.processChunk(c)}),a.on("end",function(){l.end()}),a.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,l){return this.extraStreamInfo[a]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(t,n,r){var s=t("../utils"),a=t("./ConvertWorker"),l=t("./GenericWorker"),c=t("../base64"),d=t("../support"),h=t("../external"),p=null;if(d.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(v,b){return new h.Promise(function(x,D){var w=[],T=v._internalType,C=v._outputType,E=v._mimeType;v.on("data",function(S,k){w.push(S),b&&b(k)}).on("error",function(S){w=[],D(S)}).on("end",function(){try{var S=(function(k,O,R){switch(k){case"blob":return s.newBlob(s.transformTo("arraybuffer",O),R);case"base64":return c.encode(O);default:return s.transformTo(k,O)}})(C,(function(k,O){var R,z=0,Z=null,F=0;for(R=0;R<O.length;R++)F+=O[R].length;switch(k){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(Z=new Uint8Array(F),R=0;R<O.length;R++)Z.set(O[R],z),z+=O[R].length;return Z;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+k+"'")}})(T,w),E);x(S)}catch(k){D(k)}w=[]}).resume()})}function m(v,b,x){var D=b;switch(b){case"blob":case"arraybuffer":D="uint8array";break;case"base64":D="string"}try{this._internalType=D,this._outputType=b,this._mimeType=x,s.checkSupport(D),this._worker=v.pipe(new a(D)),v.lock()}catch(w){this._worker=new l("error"),this._worker.error(w)}}m.prototype={accumulate:function(v){return g(this,v)},on:function(v,b){var x=this;return v==="data"?this._worker.on(v,function(D){b.call(x,D.data,D.meta)}):this._worker.on(v,function(){s.delay(b,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),r.blob=a.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,r){for(var s=t("./utils"),a=t("./support"),l=t("./nodejsUtils"),c=t("./stream/GenericWorker"),d=new Array(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;d[254]=d[254]=1;function p(){c.call(this,"utf-8 decode"),this.leftOver=null}function g(){c.call(this,"utf-8 encode")}r.utf8encode=function(m){return a.nodebuffer?l.newBufferFrom(m,"utf-8"):(function(v){var b,x,D,w,T,C=v.length,E=0;for(w=0;w<C;w++)(64512&(x=v.charCodeAt(w)))==55296&&w+1<C&&(64512&(D=v.charCodeAt(w+1)))==56320&&(x=65536+(x-55296<<10)+(D-56320),w++),E+=x<128?1:x<2048?2:x<65536?3:4;for(b=a.uint8array?new Uint8Array(E):new Array(E),w=T=0;T<E;w++)(64512&(x=v.charCodeAt(w)))==55296&&w+1<C&&(64512&(D=v.charCodeAt(w+1)))==56320&&(x=65536+(x-55296<<10)+(D-56320),w++),x<128?b[T++]=x:(x<2048?b[T++]=192|x>>>6:(x<65536?b[T++]=224|x>>>12:(b[T++]=240|x>>>18,b[T++]=128|x>>>12&63),b[T++]=128|x>>>6&63),b[T++]=128|63&x);return b})(m)},r.utf8decode=function(m){return a.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):(function(v){var b,x,D,w,T=v.length,C=new Array(2*T);for(b=x=0;b<T;)if((D=v[b++])<128)C[x++]=D;else if(4<(w=d[D]))C[x++]=65533,b+=w-1;else{for(D&=w===2?31:w===3?15:7;1<w&&b<T;)D=D<<6|63&v[b++],w--;1<w?C[x++]=65533:D<65536?C[x++]=D:(D-=65536,C[x++]=55296|D>>10&1023,C[x++]=56320|1023&D)}return C.length!==x&&(C.subarray?C=C.subarray(0,x):C.length=x),s.applyFromCharCode(C)})(m=s.transformTo(a.uint8array?"uint8array":"array",m))},s.inherits(p,c),p.prototype.processChunk=function(m){var v=s.transformTo(a.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var b=v;(v=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),v.set(b,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var x=(function(w,T){var C;for((T=T||w.length)>w.length&&(T=w.length),C=T-1;0<=C&&(192&w[C])==128;)C--;return C<0||C===0?T:C+d[w[C]]>T?C:T})(v),D=v;x!==v.length&&(a.uint8array?(D=v.subarray(0,x),this.leftOver=v.subarray(x,v.length)):(D=v.slice(0,x),this.leftOver=v.slice(x,v.length))),this.push({data:r.utf8decode(D),meta:m.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=p,s.inherits(g,c),g.prototype.processChunk=function(m){this.push({data:r.utf8encode(m.data),meta:m.meta})},r.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,r){var s=t("./support"),a=t("./base64"),l=t("./nodejsUtils"),c=t("./external");function d(b){return b}function h(b,x){for(var D=0;D<b.length;++D)x[D]=255&b.charCodeAt(D);return x}t("setimmediate"),r.newBlob=function(b,x){r.checkSupport("blob");try{return new Blob([b],{type:x})}catch{try{var D=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return D.append(b),D.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(b,x,D){var w=[],T=0,C=b.length;if(C<=D)return String.fromCharCode.apply(null,b);for(;T<C;)x==="array"||x==="nodebuffer"?w.push(String.fromCharCode.apply(null,b.slice(T,Math.min(T+D,C)))):w.push(String.fromCharCode.apply(null,b.subarray(T,Math.min(T+D,C)))),T+=D;return w.join("")},stringifyByChar:function(b){for(var x="",D=0;D<b.length;D++)x+=String.fromCharCode(b[D]);return x},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function g(b){var x=65536,D=r.getTypeOf(b),w=!0;if(D==="uint8array"?w=p.applyCanBeUsed.uint8array:D==="nodebuffer"&&(w=p.applyCanBeUsed.nodebuffer),w)for(;1<x;)try{return p.stringifyByChunk(b,D,x)}catch{x=Math.floor(x/2)}return p.stringifyByChar(b)}function m(b,x){for(var D=0;D<b.length;D++)x[D]=b[D];return x}r.applyFromCharCode=g;var v={};v.string={string:d,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return v.string.uint8array(b).buffer},uint8array:function(b){return h(b,new Uint8Array(b.length))},nodebuffer:function(b){return h(b,l.allocBuffer(b.length))}},v.array={string:g,array:d,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(b)}},v.arraybuffer={string:function(b){return g(new Uint8Array(b))},array:function(b){return m(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:d,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(new Uint8Array(b))}},v.uint8array={string:g,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:d,nodebuffer:function(b){return l.newBufferFrom(b)}},v.nodebuffer={string:g,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return v.nodebuffer.uint8array(b).buffer},uint8array:function(b){return m(b,new Uint8Array(b.length))},nodebuffer:d},r.transformTo=function(b,x){if(x=x||"",!b)return x;r.checkSupport(b);var D=r.getTypeOf(x);return v[D][b](x)},r.resolve=function(b){for(var x=b.split("/"),D=[],w=0;w<x.length;w++){var T=x[w];T==="."||T===""&&w!==0&&w!==x.length-1||(T===".."?D.pop():D.push(T))}return D.join("/")},r.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(b)?"nodebuffer":s.uint8array&&b instanceof Uint8Array?"uint8array":s.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(b){if(!s[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(b){var x,D,w="";for(D=0;D<(b||"").length;D++)w+="\\x"+((x=b.charCodeAt(D))<16?"0":"")+x.toString(16).toUpperCase();return w},r.delay=function(b,x,D){setImmediate(function(){b.apply(D||null,x||[])})},r.inherits=function(b,x){function D(){}D.prototype=x.prototype,b.prototype=new D},r.extend=function(){var b,x,D={};for(b=0;b<arguments.length;b++)for(x in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],x)&&D[x]===void 0&&(D[x]=arguments[b][x]);return D},r.prepareContent=function(b,x,D,w,T){return c.Promise.resolve(x).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new c.Promise(function(E,S){var k=new FileReader;k.onload=function(O){E(O.target.result)},k.onerror=function(O){S(O.target.error)},k.readAsArrayBuffer(C)}):C}).then(function(C){var E=r.getTypeOf(C);return E?(E==="arraybuffer"?C=r.transformTo("uint8array",C):E==="string"&&(T?C=a.decode(C):D&&w!==!0&&(C=(function(S){return h(S,s.uint8array?new Uint8Array(S.length):new Array(S.length))})(C))),C):c.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,r){var s=t("./reader/readerFor"),a=t("./utils"),l=t("./signature"),c=t("./zipEntry"),d=t("./support");function h(p){this.files=[],this.loadOptions=p}h.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(p)+")")}},isSignature:function(p,g){var m=this.reader.index;this.reader.setIndex(p);var v=this.reader.readString(4)===g;return this.reader.setIndex(m),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=d.uint8array?"uint8array":"array",m=a.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,m,v=this.zip64EndOfCentralSize-44;0<v;)p=this.reader.readInt(2),g=this.reader.readInt(4),m=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var v=g-m;if(0<v)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,r){var s=t("./reader/readerFor"),a=t("./utils"),l=t("./compressedObject"),c=t("./crc32"),d=t("./utf8"),h=t("./compressions"),p=t("./support");function g(m,v){this.options=m,this.loadOptions=v}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var v,b;if(m.skip(22),this.fileNameLength=m.readInt(2),b=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(x){for(var D in h)if(Object.prototype.hasOwnProperty.call(h,D)&&h[D].magic===x)return h[D];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,v,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var v=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(v),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var v,b,x,D=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<D;)v=m.readInt(2),b=m.readInt(2),x=m.readData(b),this.extraFields[v]={id:v,length:b,value:x};m.setIndex(D)},handleUTF8:function(){var m=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var b=a.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var D=a.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(D)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var v=s(m.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:d.utf8decode(v.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var v=s(m.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:d.utf8decode(v.readData(m.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,r){function s(v,b,x){this.name=v,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=b,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var a=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),c=t("./utf8"),d=t("./compressedObject"),h=t("./stream/GenericWorker");s.prototype={internalStream:function(v){var b=null,x="string";try{if(!v)throw new Error("No output type specified.");var D=(x=v.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),b=this._decompressWorker();var w=!this._dataBinary;w&&!D&&(b=b.pipe(new c.Utf8EncodeWorker)),!w&&D&&(b=b.pipe(new c.Utf8DecodeWorker))}catch(T){(b=new h("error")).error(T)}return new a(b,x,"")},async:function(v,b){return this.internalStream(v).accumulate(b)},nodeStream:function(v,b){return this.internalStream(v||"nodebuffer").toNodejsStream(b)},_compressWorker:function(v,b){if(this._data instanceof d&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(x,v,b)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<p.length;m++)s.prototype[p[m]]=g;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,r){(function(s){var a,l,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var d=0,h=new c(v),p=s.document.createTextNode("");h.observe(p,{characterData:!0}),a=function(){p.data=d=++d%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var b=s.document.createElement("script");b.onreadystatechange=function(){v(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},s.document.documentElement.appendChild(b)}:function(){setTimeout(v,0)};else{var g=new s.MessageChannel;g.port1.onmessage=v,a=function(){g.port2.postMessage(0)}}var m=[];function v(){var b,x;l=!0;for(var D=m.length;D;){for(x=m,m=[],b=-1;++b<D;)x[b]();D=m.length}l=!1}n.exports=function(b){m.push(b)!==1||l||a()}}).call(this,typeof ua<"u"?ua:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,r){var s=t("immediate");function a(){}var l={},c=["REJECTED"],d=["FULFILLED"],h=["PENDING"];function p(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,D!==a&&b(this,D)}function g(D,w,T){this.promise=D,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function m(D,w,T){s(function(){var C;try{C=w(T)}catch(E){return l.reject(D,E)}C===D?l.reject(D,new TypeError("Cannot resolve promise with itself")):l.resolve(D,C)})}function v(D){var w=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof w=="function")return function(){w.apply(D,arguments)}}function b(D,w){var T=!1;function C(k){T||(T=!0,l.reject(D,k))}function E(k){T||(T=!0,l.resolve(D,k))}var S=x(function(){w(E,C)});S.status==="error"&&C(S.value)}function x(D,w){var T={};try{T.value=D(w),T.status="success"}catch(C){T.status="error",T.value=C}return T}(n.exports=p).prototype.finally=function(D){if(typeof D!="function")return this;var w=this.constructor;return this.then(function(T){return w.resolve(D()).then(function(){return T})},function(T){return w.resolve(D()).then(function(){throw T})})},p.prototype.catch=function(D){return this.then(null,D)},p.prototype.then=function(D,w){if(typeof D!="function"&&this.state===d||typeof w!="function"&&this.state===c)return this;var T=new this.constructor(a);return this.state!==h?m(T,this.state===d?D:w,this.outcome):this.queue.push(new g(T,D,w)),T},g.prototype.callFulfilled=function(D){l.resolve(this.promise,D)},g.prototype.otherCallFulfilled=function(D){m(this.promise,this.onFulfilled,D)},g.prototype.callRejected=function(D){l.reject(this.promise,D)},g.prototype.otherCallRejected=function(D){m(this.promise,this.onRejected,D)},l.resolve=function(D,w){var T=x(v,w);if(T.status==="error")return l.reject(D,T.value);var C=T.value;if(C)b(D,C);else{D.state=d,D.outcome=w;for(var E=-1,S=D.queue.length;++E<S;)D.queue[E].callFulfilled(w)}return D},l.reject=function(D,w){D.state=c,D.outcome=w;for(var T=-1,C=D.queue.length;++T<C;)D.queue[T].callRejected(w);return D},p.resolve=function(D){return D instanceof this?D:l.resolve(new this(a),D)},p.reject=function(D){var w=new this(a);return l.reject(w,D)},p.all=function(D){var w=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=D.length,C=!1;if(!T)return this.resolve([]);for(var E=new Array(T),S=0,k=-1,O=new this(a);++k<T;)R(D[k],k);return O;function R(z,Z){w.resolve(z).then(function(F){E[Z]=F,++S!==T||C||(C=!0,l.resolve(O,E))},function(F){C||(C=!0,l.reject(O,F))})}},p.race=function(D){var w=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=D.length,C=!1;if(!T)return this.resolve([]);for(var E=-1,S=new this(a);++E<T;)k=D[E],w.resolve(k).then(function(O){C||(C=!0,l.resolve(S,O))},function(O){C||(C=!0,l.reject(S,O))});var k;return S}},{immediate:36}],38:[function(t,n,r){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,r){var s=t("./zlib/deflate"),a=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/messages"),d=t("./zlib/zstream"),h=Object.prototype.toString,p=0,g=-1,m=0,v=8;function b(D){if(!(this instanceof b))return new b(D);this.options=a.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},D||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var T=s.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(T!==p)throw new Error(c[T]);if(w.header&&s.deflateSetHeader(this.strm,w.header),w.dictionary){var C;if(C=typeof w.dictionary=="string"?l.string2buf(w.dictionary):h.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(T=s.deflateSetDictionary(this.strm,C))!==p)throw new Error(c[T]);this._dict_set=!0}}function x(D,w){var T=new b(w);if(T.push(D,!0),T.err)throw T.msg||c[T.err];return T.result}b.prototype.push=function(D,w){var T,C,E=this.strm,S=this.options.chunkSize;if(this.ended)return!1;C=w===~~w?w:w===!0?4:0,typeof D=="string"?E.input=l.string2buf(D):h.call(D)==="[object ArrayBuffer]"?E.input=new Uint8Array(D):E.input=D,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new a.Buf8(S),E.next_out=0,E.avail_out=S),(T=s.deflate(E,C))!==1&&T!==p)return this.onEnd(T),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(a.shrinkBuf(E.output,E.next_out))):this.onData(a.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&T!==1);return C===4?(T=s.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===p):C!==2||(this.onEnd(p),!(E.avail_out=0))},b.prototype.onData=function(D){this.chunks.push(D)},b.prototype.onEnd=function(D){D===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},r.Deflate=b,r.deflate=x,r.deflateRaw=function(D,w){return(w=w||{}).raw=!0,x(D,w)},r.gzip=function(D,w){return(w=w||{}).gzip=!0,x(D,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,r){var s=t("./zlib/inflate"),a=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),d=t("./zlib/messages"),h=t("./zlib/zstream"),p=t("./zlib/gzheader"),g=Object.prototype.toString;function m(b){if(!(this instanceof m))return new m(b);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},b||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||b&&b.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var D=s.inflateInit2(this.strm,x.windowBits);if(D!==c.Z_OK)throw new Error(d[D]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function v(b,x){var D=new m(x);if(D.push(b,!0),D.err)throw D.msg||d[D.err];return D.result}m.prototype.push=function(b,x){var D,w,T,C,E,S,k=this.strm,O=this.options.chunkSize,R=this.options.dictionary,z=!1;if(this.ended)return!1;w=x===~~x?x:x===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof b=="string"?k.input=l.binstring2buf(b):g.call(b)==="[object ArrayBuffer]"?k.input=new Uint8Array(b):k.input=b,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new a.Buf8(O),k.next_out=0,k.avail_out=O),(D=s.inflate(k,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&R&&(S=typeof R=="string"?l.string2buf(R):g.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,D=s.inflateSetDictionary(this.strm,S)),D===c.Z_BUF_ERROR&&z===!0&&(D=c.Z_OK,z=!1),D!==c.Z_STREAM_END&&D!==c.Z_OK)return this.onEnd(D),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&D!==c.Z_STREAM_END&&(k.avail_in!==0||w!==c.Z_FINISH&&w!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=l.utf8border(k.output,k.next_out),C=k.next_out-T,E=l.buf2string(k.output,T),k.next_out=C,k.avail_out=O-C,C&&a.arraySet(k.output,k.output,T,C,0),this.onData(E)):this.onData(a.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(z=!0)}while((0<k.avail_in||k.avail_out===0)&&D!==c.Z_STREAM_END);return D===c.Z_STREAM_END&&(w=c.Z_FINISH),w===c.Z_FINISH?(D=s.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===c.Z_OK):w!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(k.avail_out=0))},m.prototype.onData=function(b){this.chunks.push(b)},m.prototype.onEnd=function(b){b===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},r.Inflate=m,r.inflate=v,r.inflateRaw=function(b,x){return(x=x||{}).raw=!0,v(b,x)},r.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var p in h)h.hasOwnProperty(p)&&(c[p]=h[p])}}return c},r.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var a={arraySet:function(c,d,h,p,g){if(d.subarray&&c.subarray)c.set(d.subarray(h,h+p),g);else for(var m=0;m<p;m++)c[g+m]=d[h+m]},flattenChunks:function(c){var d,h,p,g,m,v;for(d=p=0,h=c.length;d<h;d++)p+=c[d].length;for(v=new Uint8Array(p),d=g=0,h=c.length;d<h;d++)m=c[d],v.set(m,g),g+=m.length;return v}},l={arraySet:function(c,d,h,p,g){for(var m=0;m<p;m++)c[g+m]=d[h+m]},flattenChunks:function(c){return[].concat.apply([],c)}};r.setTyped=function(c){c?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,l))},r.setTyped(s)},{}],42:[function(t,n,r){var s=t("./common"),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new s.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function h(p,g){if(g<65537&&(p.subarray&&l||!p.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(p,g));for(var m="",v=0;v<g;v++)m+=String.fromCharCode(p[v]);return m}c[254]=c[254]=1,r.string2buf=function(p){var g,m,v,b,x,D=p.length,w=0;for(b=0;b<D;b++)(64512&(m=p.charCodeAt(b)))==55296&&b+1<D&&(64512&(v=p.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),b++),w+=m<128?1:m<2048?2:m<65536?3:4;for(g=new s.Buf8(w),b=x=0;x<w;b++)(64512&(m=p.charCodeAt(b)))==55296&&b+1<D&&(64512&(v=p.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),b++),m<128?g[x++]=m:(m<2048?g[x++]=192|m>>>6:(m<65536?g[x++]=224|m>>>12:(g[x++]=240|m>>>18,g[x++]=128|m>>>12&63),g[x++]=128|m>>>6&63),g[x++]=128|63&m);return g},r.buf2binstring=function(p){return h(p,p.length)},r.binstring2buf=function(p){for(var g=new s.Buf8(p.length),m=0,v=g.length;m<v;m++)g[m]=p.charCodeAt(m);return g},r.buf2string=function(p,g){var m,v,b,x,D=g||p.length,w=new Array(2*D);for(m=v=0;m<D;)if((b=p[m++])<128)w[v++]=b;else if(4<(x=c[b]))w[v++]=65533,m+=x-1;else{for(b&=x===2?31:x===3?15:7;1<x&&m<D;)b=b<<6|63&p[m++],x--;1<x?w[v++]=65533:b<65536?w[v++]=b:(b-=65536,w[v++]=55296|b>>10&1023,w[v++]=56320|1023&b)}return h(w,v)},r.utf8border=function(p,g){var m;for((g=g||p.length)>p.length&&(g=p.length),m=g-1;0<=m&&(192&p[m])==128;)m--;return m<0||m===0?g:m+c[p[m]]>g?m:g}},{"./common":41}],43:[function(t,n,r){n.exports=function(s,a,l,c){for(var d=65535&s|0,h=s>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;h=h+(d=d+a[c++]|0)|0,--p;);d%=65521,h%=65521}return d|h<<16|0}},{}],44:[function(t,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,r){var s=(function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l})();n.exports=function(a,l,c,d){var h=s,p=d+c;a^=-1;for(var g=d;g<p;g++)a=a>>>8^h[255&(a^l[g])];return-1^a}},{}],46:[function(t,n,r){var s,a=t("../utils/common"),l=t("./trees"),c=t("./adler32"),d=t("./crc32"),h=t("./messages"),p=0,g=4,m=0,v=-2,b=-1,x=4,D=2,w=8,T=9,C=286,E=30,S=19,k=2*C+1,O=15,R=3,z=258,Z=z+R+1,F=42,W=113,M=1,Y=2,B=3,I=4;function V(U,le){return U.msg=h[le],le}function K(U){return(U<<1)-(4<U?9:0)}function ae(U){for(var le=U.length;0<=--le;)U[le]=0}function L(U){var le=U.state,ie=le.pending;ie>U.avail_out&&(ie=U.avail_out),ie!==0&&(a.arraySet(U.output,le.pending_buf,le.pending_out,ie,U.next_out),U.next_out+=ie,le.pending_out+=ie,U.total_out+=ie,U.avail_out-=ie,le.pending-=ie,le.pending===0&&(le.pending_out=0))}function H(U,le){l._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,le),U.block_start=U.strstart,L(U.strm)}function G(U,le){U.pending_buf[U.pending++]=le}function te(U,le){U.pending_buf[U.pending++]=le>>>8&255,U.pending_buf[U.pending++]=255&le}function ce(U,le){var ie,$,X=U.max_chain_length,re=U.strstart,ve=U.prev_length,xe=U.nice_match,se=U.strstart>U.w_size-Z?U.strstart-(U.w_size-Z):0,Q=U.window,J=U.w_mask,de=U.prev,be=U.strstart+z,Re=Q[re+ve-1],Ie=Q[re+ve];U.prev_length>=U.good_match&&(X>>=2),xe>U.lookahead&&(xe=U.lookahead);do if(Q[(ie=le)+ve]===Ie&&Q[ie+ve-1]===Re&&Q[ie]===Q[re]&&Q[++ie]===Q[re+1]){re+=2,ie++;do;while(Q[++re]===Q[++ie]&&Q[++re]===Q[++ie]&&Q[++re]===Q[++ie]&&Q[++re]===Q[++ie]&&Q[++re]===Q[++ie]&&Q[++re]===Q[++ie]&&Q[++re]===Q[++ie]&&Q[++re]===Q[++ie]&&re<be);if($=z-(be-re),re=be-z,ve<$){if(U.match_start=le,xe<=(ve=$))break;Re=Q[re+ve-1],Ie=Q[re+ve]}}while((le=de[le&J])>se&&--X!=0);return ve<=U.lookahead?ve:U.lookahead}function we(U){var le,ie,$,X,re,ve,xe,se,Q,J,de=U.w_size;do{if(X=U.window_size-U.lookahead-U.strstart,U.strstart>=de+(de-Z)){for(a.arraySet(U.window,U.window,de,de,0),U.match_start-=de,U.strstart-=de,U.block_start-=de,le=ie=U.hash_size;$=U.head[--le],U.head[le]=de<=$?$-de:0,--ie;);for(le=ie=de;$=U.prev[--le],U.prev[le]=de<=$?$-de:0,--ie;);X+=de}if(U.strm.avail_in===0)break;if(ve=U.strm,xe=U.window,se=U.strstart+U.lookahead,Q=X,J=void 0,J=ve.avail_in,Q<J&&(J=Q),ie=J===0?0:(ve.avail_in-=J,a.arraySet(xe,ve.input,ve.next_in,J,se),ve.state.wrap===1?ve.adler=c(ve.adler,xe,J,se):ve.state.wrap===2&&(ve.adler=d(ve.adler,xe,J,se)),ve.next_in+=J,ve.total_in+=J,J),U.lookahead+=ie,U.lookahead+U.insert>=R)for(re=U.strstart-U.insert,U.ins_h=U.window[re],U.ins_h=(U.ins_h<<U.hash_shift^U.window[re+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[re+R-1])&U.hash_mask,U.prev[re&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=re,re++,U.insert--,!(U.lookahead+U.insert<R)););}while(U.lookahead<Z&&U.strm.avail_in!==0)}function ge(U,le){for(var ie,$;;){if(U.lookahead<Z){if(we(U),U.lookahead<Z&&le===p)return M;if(U.lookahead===0)break}if(ie=0,U.lookahead>=R&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+R-1])&U.hash_mask,ie=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),ie!==0&&U.strstart-ie<=U.w_size-Z&&(U.match_length=ce(U,ie)),U.match_length>=R)if($=l._tr_tally(U,U.strstart-U.match_start,U.match_length-R),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=R){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+R-1])&U.hash_mask,ie=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else $=l._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if($&&(H(U,!1),U.strm.avail_out===0))return M}return U.insert=U.strstart<R-1?U.strstart:R-1,le===g?(H(U,!0),U.strm.avail_out===0?B:I):U.last_lit&&(H(U,!1),U.strm.avail_out===0)?M:Y}function Ce(U,le){for(var ie,$,X;;){if(U.lookahead<Z){if(we(U),U.lookahead<Z&&le===p)return M;if(U.lookahead===0)break}if(ie=0,U.lookahead>=R&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+R-1])&U.hash_mask,ie=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=R-1,ie!==0&&U.prev_length<U.max_lazy_match&&U.strstart-ie<=U.w_size-Z&&(U.match_length=ce(U,ie),U.match_length<=5&&(U.strategy===1||U.match_length===R&&4096<U.strstart-U.match_start)&&(U.match_length=R-1)),U.prev_length>=R&&U.match_length<=U.prev_length){for(X=U.strstart+U.lookahead-R,$=l._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-R),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=X&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+R-1])&U.hash_mask,ie=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=R-1,U.strstart++,$&&(H(U,!1),U.strm.avail_out===0))return M}else if(U.match_available){if(($=l._tr_tally(U,0,U.window[U.strstart-1]))&&H(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return M}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&($=l._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<R-1?U.strstart:R-1,le===g?(H(U,!0),U.strm.avail_out===0?B:I):U.last_lit&&(H(U,!1),U.strm.avail_out===0)?M:Y}function Ue(U,le,ie,$,X){this.good_length=U,this.max_lazy=le,this.nice_length=ie,this.max_chain=$,this.func=X}function Fe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*k),this.dyn_dtree=new a.Buf16(2*(2*E+1)),this.bl_tree=new a.Buf16(2*(2*S+1)),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(O+1),this.heap=new a.Buf16(2*C+1),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*C+1),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pe(U){var le;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=D,(le=U.state).pending=0,le.pending_out=0,le.wrap<0&&(le.wrap=-le.wrap),le.status=le.wrap?F:W,U.adler=le.wrap===2?0:1,le.last_flush=p,l._tr_init(le),m):V(U,v)}function Qe(U){var le=Pe(U);return le===m&&(function(ie){ie.window_size=2*ie.w_size,ae(ie.head),ie.max_lazy_match=s[ie.level].max_lazy,ie.good_match=s[ie.level].good_length,ie.nice_match=s[ie.level].nice_length,ie.max_chain_length=s[ie.level].max_chain,ie.strstart=0,ie.block_start=0,ie.lookahead=0,ie.insert=0,ie.match_length=ie.prev_length=R-1,ie.match_available=0,ie.ins_h=0})(U.state),le}function pt(U,le,ie,$,X,re){if(!U)return v;var ve=1;if(le===b&&(le=6),$<0?(ve=0,$=-$):15<$&&(ve=2,$-=16),X<1||T<X||ie!==w||$<8||15<$||le<0||9<le||re<0||x<re)return V(U,v);$===8&&($=9);var xe=new Fe;return(U.state=xe).strm=U,xe.wrap=ve,xe.gzhead=null,xe.w_bits=$,xe.w_size=1<<xe.w_bits,xe.w_mask=xe.w_size-1,xe.hash_bits=X+7,xe.hash_size=1<<xe.hash_bits,xe.hash_mask=xe.hash_size-1,xe.hash_shift=~~((xe.hash_bits+R-1)/R),xe.window=new a.Buf8(2*xe.w_size),xe.head=new a.Buf16(xe.hash_size),xe.prev=new a.Buf16(xe.w_size),xe.lit_bufsize=1<<X+6,xe.pending_buf_size=4*xe.lit_bufsize,xe.pending_buf=new a.Buf8(xe.pending_buf_size),xe.d_buf=1*xe.lit_bufsize,xe.l_buf=3*xe.lit_bufsize,xe.level=le,xe.strategy=re,xe.method=ie,Qe(U)}s=[new Ue(0,0,0,0,function(U,le){var ie=65535;for(ie>U.pending_buf_size-5&&(ie=U.pending_buf_size-5);;){if(U.lookahead<=1){if(we(U),U.lookahead===0&&le===p)return M;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var $=U.block_start+ie;if((U.strstart===0||U.strstart>=$)&&(U.lookahead=U.strstart-$,U.strstart=$,H(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-Z&&(H(U,!1),U.strm.avail_out===0))return M}return U.insert=0,le===g?(H(U,!0),U.strm.avail_out===0?B:I):(U.strstart>U.block_start&&(H(U,!1),U.strm.avail_out),M)}),new Ue(4,4,8,4,ge),new Ue(4,5,16,8,ge),new Ue(4,6,32,32,ge),new Ue(4,4,16,16,Ce),new Ue(8,16,32,32,Ce),new Ue(8,16,128,128,Ce),new Ue(8,32,128,256,Ce),new Ue(32,128,258,1024,Ce),new Ue(32,258,258,4096,Ce)],r.deflateInit=function(U,le){return pt(U,le,w,15,8,0)},r.deflateInit2=pt,r.deflateReset=Qe,r.deflateResetKeep=Pe,r.deflateSetHeader=function(U,le){return U&&U.state?U.state.wrap!==2?v:(U.state.gzhead=le,m):v},r.deflate=function(U,le){var ie,$,X,re;if(!U||!U.state||5<le||le<0)return U?V(U,v):v;if($=U.state,!U.output||!U.input&&U.avail_in!==0||$.status===666&&le!==g)return V(U,U.avail_out===0?-5:v);if($.strm=U,ie=$.last_flush,$.last_flush=le,$.status===F)if($.wrap===2)U.adler=0,G($,31),G($,139),G($,8),$.gzhead?(G($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),G($,255&$.gzhead.time),G($,$.gzhead.time>>8&255),G($,$.gzhead.time>>16&255),G($,$.gzhead.time>>24&255),G($,$.level===9?2:2<=$.strategy||$.level<2?4:0),G($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(G($,255&$.gzhead.extra.length),G($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(U.adler=d(U.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(G($,0),G($,0),G($,0),G($,0),G($,0),G($,$.level===9?2:2<=$.strategy||$.level<2?4:0),G($,3),$.status=W);else{var ve=w+($.w_bits-8<<4)<<8;ve|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(ve|=32),ve+=31-ve%31,$.status=W,te($,ve),$.strstart!==0&&(te($,U.adler>>>16),te($,65535&U.adler)),U.adler=1}if($.status===69)if($.gzhead.extra){for(X=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>X&&(U.adler=d(U.adler,$.pending_buf,$.pending-X,X)),L(U),X=$.pending,$.pending!==$.pending_buf_size));)G($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>X&&(U.adler=d(U.adler,$.pending_buf,$.pending-X,X)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){X=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>X&&(U.adler=d(U.adler,$.pending_buf,$.pending-X,X)),L(U),X=$.pending,$.pending===$.pending_buf_size)){re=1;break}re=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,G($,re)}while(re!==0);$.gzhead.hcrc&&$.pending>X&&(U.adler=d(U.adler,$.pending_buf,$.pending-X,X)),re===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){X=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>X&&(U.adler=d(U.adler,$.pending_buf,$.pending-X,X)),L(U),X=$.pending,$.pending===$.pending_buf_size)){re=1;break}re=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,G($,re)}while(re!==0);$.gzhead.hcrc&&$.pending>X&&(U.adler=d(U.adler,$.pending_buf,$.pending-X,X)),re===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&L(U),$.pending+2<=$.pending_buf_size&&(G($,255&U.adler),G($,U.adler>>8&255),U.adler=0,$.status=W)):$.status=W),$.pending!==0){if(L(U),U.avail_out===0)return $.last_flush=-1,m}else if(U.avail_in===0&&K(le)<=K(ie)&&le!==g)return V(U,-5);if($.status===666&&U.avail_in!==0)return V(U,-5);if(U.avail_in!==0||$.lookahead!==0||le!==p&&$.status!==666){var xe=$.strategy===2?(function(se,Q){for(var J;;){if(se.lookahead===0&&(we(se),se.lookahead===0)){if(Q===p)return M;break}if(se.match_length=0,J=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,J&&(H(se,!1),se.strm.avail_out===0))return M}return se.insert=0,Q===g?(H(se,!0),se.strm.avail_out===0?B:I):se.last_lit&&(H(se,!1),se.strm.avail_out===0)?M:Y})($,le):$.strategy===3?(function(se,Q){for(var J,de,be,Re,Ie=se.window;;){if(se.lookahead<=z){if(we(se),se.lookahead<=z&&Q===p)return M;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=R&&0<se.strstart&&(de=Ie[be=se.strstart-1])===Ie[++be]&&de===Ie[++be]&&de===Ie[++be]){Re=se.strstart+z;do;while(de===Ie[++be]&&de===Ie[++be]&&de===Ie[++be]&&de===Ie[++be]&&de===Ie[++be]&&de===Ie[++be]&&de===Ie[++be]&&de===Ie[++be]&&be<Re);se.match_length=z-(Re-be),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=R?(J=l._tr_tally(se,1,se.match_length-R),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(J=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),J&&(H(se,!1),se.strm.avail_out===0))return M}return se.insert=0,Q===g?(H(se,!0),se.strm.avail_out===0?B:I):se.last_lit&&(H(se,!1),se.strm.avail_out===0)?M:Y})($,le):s[$.level].func($,le);if(xe!==B&&xe!==I||($.status=666),xe===M||xe===B)return U.avail_out===0&&($.last_flush=-1),m;if(xe===Y&&(le===1?l._tr_align($):le!==5&&(l._tr_stored_block($,0,0,!1),le===3&&(ae($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),L(U),U.avail_out===0))return $.last_flush=-1,m}return le!==g?m:$.wrap<=0?1:($.wrap===2?(G($,255&U.adler),G($,U.adler>>8&255),G($,U.adler>>16&255),G($,U.adler>>24&255),G($,255&U.total_in),G($,U.total_in>>8&255),G($,U.total_in>>16&255),G($,U.total_in>>24&255)):(te($,U.adler>>>16),te($,65535&U.adler)),L(U),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?m:1)},r.deflateEnd=function(U){var le;return U&&U.state?(le=U.state.status)!==F&&le!==69&&le!==73&&le!==91&&le!==103&&le!==W&&le!==666?V(U,v):(U.state=null,le===W?V(U,-3):m):v},r.deflateSetDictionary=function(U,le){var ie,$,X,re,ve,xe,se,Q,J=le.length;if(!U||!U.state||(re=(ie=U.state).wrap)===2||re===1&&ie.status!==F||ie.lookahead)return v;for(re===1&&(U.adler=c(U.adler,le,J,0)),ie.wrap=0,J>=ie.w_size&&(re===0&&(ae(ie.head),ie.strstart=0,ie.block_start=0,ie.insert=0),Q=new a.Buf8(ie.w_size),a.arraySet(Q,le,J-ie.w_size,ie.w_size,0),le=Q,J=ie.w_size),ve=U.avail_in,xe=U.next_in,se=U.input,U.avail_in=J,U.next_in=0,U.input=le,we(ie);ie.lookahead>=R;){for($=ie.strstart,X=ie.lookahead-(R-1);ie.ins_h=(ie.ins_h<<ie.hash_shift^ie.window[$+R-1])&ie.hash_mask,ie.prev[$&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=$,$++,--X;);ie.strstart=$,ie.lookahead=R-1,we(ie)}return ie.strstart+=ie.lookahead,ie.block_start=ie.strstart,ie.insert=ie.lookahead,ie.lookahead=0,ie.match_length=ie.prev_length=R-1,ie.match_available=0,U.next_in=xe,U.input=se,U.avail_in=ve,ie.wrap=re,m},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,r){n.exports=function(s,a){var l,c,d,h,p,g,m,v,b,x,D,w,T,C,E,S,k,O,R,z,Z,F,W,M,Y;l=s.state,c=s.next_in,M=s.input,d=c+(s.avail_in-5),h=s.next_out,Y=s.output,p=h-(a-s.avail_out),g=h+(s.avail_out-257),m=l.dmax,v=l.wsize,b=l.whave,x=l.wnext,D=l.window,w=l.hold,T=l.bits,C=l.lencode,E=l.distcode,S=(1<<l.lenbits)-1,k=(1<<l.distbits)-1;e:do{T<15&&(w+=M[c++]<<T,T+=8,w+=M[c++]<<T,T+=8),O=C[w&S];t:for(;;){if(w>>>=R=O>>>24,T-=R,(R=O>>>16&255)===0)Y[h++]=65535&O;else{if(!(16&R)){if((64&R)==0){O=C[(65535&O)+(w&(1<<R)-1)];continue t}if(32&R){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}z=65535&O,(R&=15)&&(T<R&&(w+=M[c++]<<T,T+=8),z+=w&(1<<R)-1,w>>>=R,T-=R),T<15&&(w+=M[c++]<<T,T+=8,w+=M[c++]<<T,T+=8),O=E[w&k];n:for(;;){if(w>>>=R=O>>>24,T-=R,!(16&(R=O>>>16&255))){if((64&R)==0){O=E[(65535&O)+(w&(1<<R)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(Z=65535&O,T<(R&=15)&&(w+=M[c++]<<T,(T+=8)<R&&(w+=M[c++]<<T,T+=8)),m<(Z+=w&(1<<R)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(w>>>=R,T-=R,(R=h-p)<Z){if(b<(R=Z-R)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(W=D,(F=0)===x){if(F+=v-R,R<z){for(z-=R;Y[h++]=D[F++],--R;);F=h-Z,W=Y}}else if(x<R){if(F+=v+x-R,(R-=x)<z){for(z-=R;Y[h++]=D[F++],--R;);if(F=0,x<z){for(z-=R=x;Y[h++]=D[F++],--R;);F=h-Z,W=Y}}}else if(F+=x-R,R<z){for(z-=R;Y[h++]=D[F++],--R;);F=h-Z,W=Y}for(;2<z;)Y[h++]=W[F++],Y[h++]=W[F++],Y[h++]=W[F++],z-=3;z&&(Y[h++]=W[F++],1<z&&(Y[h++]=W[F++]))}else{for(F=h-Z;Y[h++]=Y[F++],Y[h++]=Y[F++],Y[h++]=Y[F++],2<(z-=3););z&&(Y[h++]=Y[F++],1<z&&(Y[h++]=Y[F++]))}break}}break}}while(c<d&&h<g);c-=z=T>>3,w&=(1<<(T-=z<<3))-1,s.next_in=c,s.next_out=h,s.avail_in=c<d?d-c+5:5-(c-d),s.avail_out=h<g?g-h+257:257-(h-g),l.hold=w,l.bits=T}},{}],49:[function(t,n,r){var s=t("../utils/common"),a=t("./adler32"),l=t("./crc32"),c=t("./inffast"),d=t("./inftrees"),h=1,p=2,g=0,m=-2,v=1,b=852,x=592;function D(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(F){var W;return F&&F.state?(W=F.state,F.total_in=F.total_out=W.total=0,F.msg="",W.wrap&&(F.adler=1&W.wrap),W.mode=v,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new s.Buf32(b),W.distcode=W.distdyn=new s.Buf32(x),W.sane=1,W.back=-1,g):m}function C(F){var W;return F&&F.state?((W=F.state).wsize=0,W.whave=0,W.wnext=0,T(F)):m}function E(F,W){var M,Y;return F&&F.state?(Y=F.state,W<0?(M=0,W=-W):(M=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?m:(Y.window!==null&&Y.wbits!==W&&(Y.window=null),Y.wrap=M,Y.wbits=W,C(F))):m}function S(F,W){var M,Y;return F?(Y=new w,(F.state=Y).window=null,(M=E(F,W))!==g&&(F.state=null),M):m}var k,O,R=!0;function z(F){if(R){var W;for(k=new s.Buf32(512),O=new s.Buf32(32),W=0;W<144;)F.lens[W++]=8;for(;W<256;)F.lens[W++]=9;for(;W<280;)F.lens[W++]=7;for(;W<288;)F.lens[W++]=8;for(d(h,F.lens,0,288,k,0,F.work,{bits:9}),W=0;W<32;)F.lens[W++]=5;d(p,F.lens,0,32,O,0,F.work,{bits:5}),R=!1}F.lencode=k,F.lenbits=9,F.distcode=O,F.distbits=5}function Z(F,W,M,Y){var B,I=F.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new s.Buf8(I.wsize)),Y>=I.wsize?(s.arraySet(I.window,W,M-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):(Y<(B=I.wsize-I.wnext)&&(B=Y),s.arraySet(I.window,W,M-Y,B,I.wnext),(Y-=B)?(s.arraySet(I.window,W,M-Y,Y,0),I.wnext=Y,I.whave=I.wsize):(I.wnext+=B,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=B))),0}r.inflateReset=C,r.inflateReset2=E,r.inflateResetKeep=T,r.inflateInit=function(F){return S(F,15)},r.inflateInit2=S,r.inflate=function(F,W){var M,Y,B,I,V,K,ae,L,H,G,te,ce,we,ge,Ce,Ue,Fe,Pe,Qe,pt,U,le,ie,$,X=0,re=new s.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return m;(M=F.state).mode===12&&(M.mode=13),V=F.next_out,B=F.output,ae=F.avail_out,I=F.next_in,Y=F.input,K=F.avail_in,L=M.hold,H=M.bits,G=K,te=ae,le=g;e:for(;;)switch(M.mode){case v:if(M.wrap===0){M.mode=13;break}for(;H<16;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}if(2&M.wrap&&L===35615){re[M.check=0]=255&L,re[1]=L>>>8&255,M.check=l(M.check,re,2,0),H=L=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&L)<<8)+(L>>8))%31){F.msg="incorrect header check",M.mode=30;break}if((15&L)!=8){F.msg="unknown compression method",M.mode=30;break}if(H-=4,U=8+(15&(L>>>=4)),M.wbits===0)M.wbits=U;else if(U>M.wbits){F.msg="invalid window size",M.mode=30;break}M.dmax=1<<U,F.adler=M.check=1,M.mode=512&L?10:12,H=L=0;break;case 2:for(;H<16;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}if(M.flags=L,(255&M.flags)!=8){F.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){F.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=L>>8&1),512&M.flags&&(re[0]=255&L,re[1]=L>>>8&255,M.check=l(M.check,re,2,0)),H=L=0,M.mode=3;case 3:for(;H<32;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}M.head&&(M.head.time=L),512&M.flags&&(re[0]=255&L,re[1]=L>>>8&255,re[2]=L>>>16&255,re[3]=L>>>24&255,M.check=l(M.check,re,4,0)),H=L=0,M.mode=4;case 4:for(;H<16;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}M.head&&(M.head.xflags=255&L,M.head.os=L>>8),512&M.flags&&(re[0]=255&L,re[1]=L>>>8&255,M.check=l(M.check,re,2,0)),H=L=0,M.mode=5;case 5:if(1024&M.flags){for(;H<16;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}M.length=L,M.head&&(M.head.extra_len=L),512&M.flags&&(re[0]=255&L,re[1]=L>>>8&255,M.check=l(M.check,re,2,0)),H=L=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(K<(ce=M.length)&&(ce=K),ce&&(M.head&&(U=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),s.arraySet(M.head.extra,Y,I,ce,U)),512&M.flags&&(M.check=l(M.check,Y,ce,I)),K-=ce,I+=ce,M.length-=ce),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(K===0)break e;for(ce=0;U=Y[I+ce++],M.head&&U&&M.length<65536&&(M.head.name+=String.fromCharCode(U)),U&&ce<K;);if(512&M.flags&&(M.check=l(M.check,Y,ce,I)),K-=ce,I+=ce,U)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(K===0)break e;for(ce=0;U=Y[I+ce++],M.head&&U&&M.length<65536&&(M.head.comment+=String.fromCharCode(U)),U&&ce<K;);if(512&M.flags&&(M.check=l(M.check,Y,ce,I)),K-=ce,I+=ce,U)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;H<16;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}if(L!==(65535&M.check)){F.msg="header crc mismatch",M.mode=30;break}H=L=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),F.adler=M.check=0,M.mode=12;break;case 10:for(;H<32;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}F.adler=M.check=D(L),H=L=0,M.mode=11;case 11:if(M.havedict===0)return F.next_out=V,F.avail_out=ae,F.next_in=I,F.avail_in=K,M.hold=L,M.bits=H,2;F.adler=M.check=1,M.mode=12;case 12:if(W===5||W===6)break e;case 13:if(M.last){L>>>=7&H,H-=7&H,M.mode=27;break}for(;H<3;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}switch(M.last=1&L,H-=1,3&(L>>>=1)){case 0:M.mode=14;break;case 1:if(z(M),M.mode=20,W!==6)break;L>>>=2,H-=2;break e;case 2:M.mode=17;break;case 3:F.msg="invalid block type",M.mode=30}L>>>=2,H-=2;break;case 14:for(L>>>=7&H,H-=7&H;H<32;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}if((65535&L)!=(L>>>16^65535)){F.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&L,H=L=0,M.mode=15,W===6)break e;case 15:M.mode=16;case 16:if(ce=M.length){if(K<ce&&(ce=K),ae<ce&&(ce=ae),ce===0)break e;s.arraySet(B,Y,I,ce,V),K-=ce,I+=ce,ae-=ce,V+=ce,M.length-=ce;break}M.mode=12;break;case 17:for(;H<14;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}if(M.nlen=257+(31&L),L>>>=5,H-=5,M.ndist=1+(31&L),L>>>=5,H-=5,M.ncode=4+(15&L),L>>>=4,H-=4,286<M.nlen||30<M.ndist){F.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;H<3;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}M.lens[ve[M.have++]]=7&L,L>>>=3,H-=3}for(;M.have<19;)M.lens[ve[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,ie={bits:M.lenbits},le=d(0,M.lens,0,19,M.lencode,0,M.work,ie),M.lenbits=ie.bits,le){F.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;Ue=(X=M.lencode[L&(1<<M.lenbits)-1])>>>16&255,Fe=65535&X,!((Ce=X>>>24)<=H);){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}if(Fe<16)L>>>=Ce,H-=Ce,M.lens[M.have++]=Fe;else{if(Fe===16){for($=Ce+2;H<$;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}if(L>>>=Ce,H-=Ce,M.have===0){F.msg="invalid bit length repeat",M.mode=30;break}U=M.lens[M.have-1],ce=3+(3&L),L>>>=2,H-=2}else if(Fe===17){for($=Ce+3;H<$;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}H-=Ce,U=0,ce=3+(7&(L>>>=Ce)),L>>>=3,H-=3}else{for($=Ce+7;H<$;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}H-=Ce,U=0,ce=11+(127&(L>>>=Ce)),L>>>=7,H-=7}if(M.have+ce>M.nlen+M.ndist){F.msg="invalid bit length repeat",M.mode=30;break}for(;ce--;)M.lens[M.have++]=U}}if(M.mode===30)break;if(M.lens[256]===0){F.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,ie={bits:M.lenbits},le=d(h,M.lens,0,M.nlen,M.lencode,0,M.work,ie),M.lenbits=ie.bits,le){F.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,ie={bits:M.distbits},le=d(p,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,ie),M.distbits=ie.bits,le){F.msg="invalid distances set",M.mode=30;break}if(M.mode=20,W===6)break e;case 20:M.mode=21;case 21:if(6<=K&&258<=ae){F.next_out=V,F.avail_out=ae,F.next_in=I,F.avail_in=K,M.hold=L,M.bits=H,c(F,te),V=F.next_out,B=F.output,ae=F.avail_out,I=F.next_in,Y=F.input,K=F.avail_in,L=M.hold,H=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;Ue=(X=M.lencode[L&(1<<M.lenbits)-1])>>>16&255,Fe=65535&X,!((Ce=X>>>24)<=H);){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}if(Ue&&(240&Ue)==0){for(Pe=Ce,Qe=Ue,pt=Fe;Ue=(X=M.lencode[pt+((L&(1<<Pe+Qe)-1)>>Pe)])>>>16&255,Fe=65535&X,!(Pe+(Ce=X>>>24)<=H);){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}L>>>=Pe,H-=Pe,M.back+=Pe}if(L>>>=Ce,H-=Ce,M.back+=Ce,M.length=Fe,Ue===0){M.mode=26;break}if(32&Ue){M.back=-1,M.mode=12;break}if(64&Ue){F.msg="invalid literal/length code",M.mode=30;break}M.extra=15&Ue,M.mode=22;case 22:if(M.extra){for($=M.extra;H<$;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}M.length+=L&(1<<M.extra)-1,L>>>=M.extra,H-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;Ue=(X=M.distcode[L&(1<<M.distbits)-1])>>>16&255,Fe=65535&X,!((Ce=X>>>24)<=H);){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}if((240&Ue)==0){for(Pe=Ce,Qe=Ue,pt=Fe;Ue=(X=M.distcode[pt+((L&(1<<Pe+Qe)-1)>>Pe)])>>>16&255,Fe=65535&X,!(Pe+(Ce=X>>>24)<=H);){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}L>>>=Pe,H-=Pe,M.back+=Pe}if(L>>>=Ce,H-=Ce,M.back+=Ce,64&Ue){F.msg="invalid distance code",M.mode=30;break}M.offset=Fe,M.extra=15&Ue,M.mode=24;case 24:if(M.extra){for($=M.extra;H<$;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}M.offset+=L&(1<<M.extra)-1,L>>>=M.extra,H-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){F.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(ae===0)break e;if(ce=te-ae,M.offset>ce){if((ce=M.offset-ce)>M.whave&&M.sane){F.msg="invalid distance too far back",M.mode=30;break}we=ce>M.wnext?(ce-=M.wnext,M.wsize-ce):M.wnext-ce,ce>M.length&&(ce=M.length),ge=M.window}else ge=B,we=V-M.offset,ce=M.length;for(ae<ce&&(ce=ae),ae-=ce,M.length-=ce;B[V++]=ge[we++],--ce;);M.length===0&&(M.mode=21);break;case 26:if(ae===0)break e;B[V++]=M.length,ae--,M.mode=21;break;case 27:if(M.wrap){for(;H<32;){if(K===0)break e;K--,L|=Y[I++]<<H,H+=8}if(te-=ae,F.total_out+=te,M.total+=te,te&&(F.adler=M.check=M.flags?l(M.check,B,te,V-te):a(M.check,B,te,V-te)),te=ae,(M.flags?L:D(L))!==M.check){F.msg="incorrect data check",M.mode=30;break}H=L=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;H<32;){if(K===0)break e;K--,L+=Y[I++]<<H,H+=8}if(L!==(4294967295&M.total)){F.msg="incorrect length check",M.mode=30;break}H=L=0}M.mode=29;case 29:le=1;break e;case 30:le=-3;break e;case 31:return-4;case 32:default:return m}return F.next_out=V,F.avail_out=ae,F.next_in=I,F.avail_in=K,M.hold=L,M.bits=H,(M.wsize||te!==F.avail_out&&M.mode<30&&(M.mode<27||W!==4))&&Z(F,F.output,F.next_out,te-F.avail_out)?(M.mode=31,-4):(G-=F.avail_in,te-=F.avail_out,F.total_in+=G,F.total_out+=te,M.total+=te,M.wrap&&te&&(F.adler=M.check=M.flags?l(M.check,B,te,F.next_out-te):a(M.check,B,te,F.next_out-te)),F.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(G==0&&te===0||W===4)&&le===g&&(le=-5),le)},r.inflateEnd=function(F){if(!F||!F.state)return m;var W=F.state;return W.window&&(W.window=null),F.state=null,g},r.inflateGetHeader=function(F,W){var M;return F&&F.state?(2&(M=F.state).wrap)==0?m:((M.head=W).done=!1,g):m},r.inflateSetDictionary=function(F,W){var M,Y=W.length;return F&&F.state?(M=F.state).wrap!==0&&M.mode!==11?m:M.mode===11&&a(1,W,Y,0)!==M.check?-3:Z(F,W,Y,Y)?(M.mode=31,-4):(M.havedict=1,g):m},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,r){var s=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(h,p,g,m,v,b,x,D){var w,T,C,E,S,k,O,R,z,Z=D.bits,F=0,W=0,M=0,Y=0,B=0,I=0,V=0,K=0,ae=0,L=0,H=null,G=0,te=new s.Buf16(16),ce=new s.Buf16(16),we=null,ge=0;for(F=0;F<=15;F++)te[F]=0;for(W=0;W<m;W++)te[p[g+W]]++;for(B=Z,Y=15;1<=Y&&te[Y]===0;Y--);if(Y<B&&(B=Y),Y===0)return v[b++]=20971520,v[b++]=20971520,D.bits=1,0;for(M=1;M<Y&&te[M]===0;M++);for(B<M&&(B=M),F=K=1;F<=15;F++)if(K<<=1,(K-=te[F])<0)return-1;if(0<K&&(h===0||Y!==1))return-1;for(ce[1]=0,F=1;F<15;F++)ce[F+1]=ce[F]+te[F];for(W=0;W<m;W++)p[g+W]!==0&&(x[ce[p[g+W]]++]=W);if(k=h===0?(H=we=x,19):h===1?(H=a,G-=257,we=l,ge-=257,256):(H=c,we=d,-1),F=M,S=b,V=W=L=0,C=-1,E=(ae=1<<(I=B))-1,h===1&&852<ae||h===2&&592<ae)return 1;for(;;){for(O=F-V,z=x[W]<k?(R=0,x[W]):x[W]>k?(R=we[ge+x[W]],H[G+x[W]]):(R=96,0),w=1<<F-V,M=T=1<<I;v[S+(L>>V)+(T-=w)]=O<<24|R<<16|z|0,T!==0;);for(w=1<<F-1;L&w;)w>>=1;if(w!==0?(L&=w-1,L+=w):L=0,W++,--te[F]==0){if(F===Y)break;F=p[g+x[W]]}if(B<F&&(L&E)!==C){for(V===0&&(V=B),S+=M,K=1<<(I=F-V);I+V<Y&&!((K-=te[I+V])<=0);)I++,K<<=1;if(ae+=1<<I,h===1&&852<ae||h===2&&592<ae)return 1;v[C=L&E]=B<<24|I<<16|S-b|0}}return L!==0&&(v[S+L]=F-V<<24|64<<16|0),D.bits=B,0}},{"../utils/common":41}],51:[function(t,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,r){var s=t("../utils/common"),a=0,l=1;function c(X){for(var re=X.length;0<=--re;)X[re]=0}var d=0,h=29,p=256,g=p+1+h,m=30,v=19,b=2*g+1,x=15,D=16,w=7,T=256,C=16,E=17,S=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(g+2));c(Z);var F=new Array(2*m);c(F);var W=new Array(512);c(W);var M=new Array(256);c(M);var Y=new Array(h);c(Y);var B,I,V,K=new Array(m);function ae(X,re,ve,xe,se){this.static_tree=X,this.extra_bits=re,this.extra_base=ve,this.elems=xe,this.max_length=se,this.has_stree=X&&X.length}function L(X,re){this.dyn_tree=X,this.max_code=0,this.stat_desc=re}function H(X){return X<256?W[X]:W[256+(X>>>7)]}function G(X,re){X.pending_buf[X.pending++]=255&re,X.pending_buf[X.pending++]=re>>>8&255}function te(X,re,ve){X.bi_valid>D-ve?(X.bi_buf|=re<<X.bi_valid&65535,G(X,X.bi_buf),X.bi_buf=re>>D-X.bi_valid,X.bi_valid+=ve-D):(X.bi_buf|=re<<X.bi_valid&65535,X.bi_valid+=ve)}function ce(X,re,ve){te(X,ve[2*re],ve[2*re+1])}function we(X,re){for(var ve=0;ve|=1&X,X>>>=1,ve<<=1,0<--re;);return ve>>>1}function ge(X,re,ve){var xe,se,Q=new Array(x+1),J=0;for(xe=1;xe<=x;xe++)Q[xe]=J=J+ve[xe-1]<<1;for(se=0;se<=re;se++){var de=X[2*se+1];de!==0&&(X[2*se]=we(Q[de]++,de))}}function Ce(X){var re;for(re=0;re<g;re++)X.dyn_ltree[2*re]=0;for(re=0;re<m;re++)X.dyn_dtree[2*re]=0;for(re=0;re<v;re++)X.bl_tree[2*re]=0;X.dyn_ltree[2*T]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function Ue(X){8<X.bi_valid?G(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function Fe(X,re,ve,xe){var se=2*re,Q=2*ve;return X[se]<X[Q]||X[se]===X[Q]&&xe[re]<=xe[ve]}function Pe(X,re,ve){for(var xe=X.heap[ve],se=ve<<1;se<=X.heap_len&&(se<X.heap_len&&Fe(re,X.heap[se+1],X.heap[se],X.depth)&&se++,!Fe(re,xe,X.heap[se],X.depth));)X.heap[ve]=X.heap[se],ve=se,se<<=1;X.heap[ve]=xe}function Qe(X,re,ve){var xe,se,Q,J,de=0;if(X.last_lit!==0)for(;xe=X.pending_buf[X.d_buf+2*de]<<8|X.pending_buf[X.d_buf+2*de+1],se=X.pending_buf[X.l_buf+de],de++,xe===0?ce(X,se,re):(ce(X,(Q=M[se])+p+1,re),(J=k[Q])!==0&&te(X,se-=Y[Q],J),ce(X,Q=H(--xe),ve),(J=O[Q])!==0&&te(X,xe-=K[Q],J)),de<X.last_lit;);ce(X,T,re)}function pt(X,re){var ve,xe,se,Q=re.dyn_tree,J=re.stat_desc.static_tree,de=re.stat_desc.has_stree,be=re.stat_desc.elems,Re=-1;for(X.heap_len=0,X.heap_max=b,ve=0;ve<be;ve++)Q[2*ve]!==0?(X.heap[++X.heap_len]=Re=ve,X.depth[ve]=0):Q[2*ve+1]=0;for(;X.heap_len<2;)Q[2*(se=X.heap[++X.heap_len]=Re<2?++Re:0)]=1,X.depth[se]=0,X.opt_len--,de&&(X.static_len-=J[2*se+1]);for(re.max_code=Re,ve=X.heap_len>>1;1<=ve;ve--)Pe(X,Q,ve);for(se=be;ve=X.heap[1],X.heap[1]=X.heap[X.heap_len--],Pe(X,Q,1),xe=X.heap[1],X.heap[--X.heap_max]=ve,X.heap[--X.heap_max]=xe,Q[2*se]=Q[2*ve]+Q[2*xe],X.depth[se]=(X.depth[ve]>=X.depth[xe]?X.depth[ve]:X.depth[xe])+1,Q[2*ve+1]=Q[2*xe+1]=se,X.heap[1]=se++,Pe(X,Q,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],(function(Ie,et){var Ge,nt,vt,ue,_e,Ne,Be=et.dyn_tree,it=et.max_code,ft=et.stat_desc.static_tree,qt=et.stat_desc.has_stree,cn=et.stat_desc.extra_bits,ti=et.stat_desc.extra_base,P=et.stat_desc.max_length,q=0;for(ue=0;ue<=x;ue++)Ie.bl_count[ue]=0;for(Be[2*Ie.heap[Ie.heap_max]+1]=0,Ge=Ie.heap_max+1;Ge<b;Ge++)P<(ue=Be[2*Be[2*(nt=Ie.heap[Ge])+1]+1]+1)&&(ue=P,q++),Be[2*nt+1]=ue,it<nt||(Ie.bl_count[ue]++,_e=0,ti<=nt&&(_e=cn[nt-ti]),Ne=Be[2*nt],Ie.opt_len+=Ne*(ue+_e),qt&&(Ie.static_len+=Ne*(ft[2*nt+1]+_e)));if(q!==0){do{for(ue=P-1;Ie.bl_count[ue]===0;)ue--;Ie.bl_count[ue]--,Ie.bl_count[ue+1]+=2,Ie.bl_count[P]--,q-=2}while(0<q);for(ue=P;ue!==0;ue--)for(nt=Ie.bl_count[ue];nt!==0;)it<(vt=Ie.heap[--Ge])||(Be[2*vt+1]!==ue&&(Ie.opt_len+=(ue-Be[2*vt+1])*Be[2*vt],Be[2*vt+1]=ue),nt--)}})(X,re),ge(Q,Re,X.bl_count)}function U(X,re,ve){var xe,se,Q=-1,J=re[1],de=0,be=7,Re=4;for(J===0&&(be=138,Re=3),re[2*(ve+1)+1]=65535,xe=0;xe<=ve;xe++)se=J,J=re[2*(xe+1)+1],++de<be&&se===J||(de<Re?X.bl_tree[2*se]+=de:se!==0?(se!==Q&&X.bl_tree[2*se]++,X.bl_tree[2*C]++):de<=10?X.bl_tree[2*E]++:X.bl_tree[2*S]++,Q=se,Re=(de=0)===J?(be=138,3):se===J?(be=6,3):(be=7,4))}function le(X,re,ve){var xe,se,Q=-1,J=re[1],de=0,be=7,Re=4;for(J===0&&(be=138,Re=3),xe=0;xe<=ve;xe++)if(se=J,J=re[2*(xe+1)+1],!(++de<be&&se===J)){if(de<Re)for(;ce(X,se,X.bl_tree),--de!=0;);else se!==0?(se!==Q&&(ce(X,se,X.bl_tree),de--),ce(X,C,X.bl_tree),te(X,de-3,2)):de<=10?(ce(X,E,X.bl_tree),te(X,de-3,3)):(ce(X,S,X.bl_tree),te(X,de-11,7));Q=se,Re=(de=0)===J?(be=138,3):se===J?(be=6,3):(be=7,4)}}c(K);var ie=!1;function $(X,re,ve,xe){te(X,(d<<1)+(xe?1:0),3),(function(se,Q,J,de){Ue(se),G(se,J),G(se,~J),s.arraySet(se.pending_buf,se.window,Q,J,se.pending),se.pending+=J})(X,re,ve)}r._tr_init=function(X){ie||((function(){var re,ve,xe,se,Q,J=new Array(x+1);for(se=xe=0;se<h-1;se++)for(Y[se]=xe,re=0;re<1<<k[se];re++)M[xe++]=se;for(M[xe-1]=se,se=Q=0;se<16;se++)for(K[se]=Q,re=0;re<1<<O[se];re++)W[Q++]=se;for(Q>>=7;se<m;se++)for(K[se]=Q<<7,re=0;re<1<<O[se]-7;re++)W[256+Q++]=se;for(ve=0;ve<=x;ve++)J[ve]=0;for(re=0;re<=143;)Z[2*re+1]=8,re++,J[8]++;for(;re<=255;)Z[2*re+1]=9,re++,J[9]++;for(;re<=279;)Z[2*re+1]=7,re++,J[7]++;for(;re<=287;)Z[2*re+1]=8,re++,J[8]++;for(ge(Z,g+1,J),re=0;re<m;re++)F[2*re+1]=5,F[2*re]=we(re,5);B=new ae(Z,k,p+1,g,x),I=new ae(F,O,0,m,x),V=new ae(new Array(0),R,0,v,w)})(),ie=!0),X.l_desc=new L(X.dyn_ltree,B),X.d_desc=new L(X.dyn_dtree,I),X.bl_desc=new L(X.bl_tree,V),X.bi_buf=0,X.bi_valid=0,Ce(X)},r._tr_stored_block=$,r._tr_flush_block=function(X,re,ve,xe){var se,Q,J=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=(function(de){var be,Re=4093624447;for(be=0;be<=31;be++,Re>>>=1)if(1&Re&&de.dyn_ltree[2*be]!==0)return a;if(de.dyn_ltree[18]!==0||de.dyn_ltree[20]!==0||de.dyn_ltree[26]!==0)return l;for(be=32;be<p;be++)if(de.dyn_ltree[2*be]!==0)return l;return a})(X)),pt(X,X.l_desc),pt(X,X.d_desc),J=(function(de){var be;for(U(de,de.dyn_ltree,de.l_desc.max_code),U(de,de.dyn_dtree,de.d_desc.max_code),pt(de,de.bl_desc),be=v-1;3<=be&&de.bl_tree[2*z[be]+1]===0;be--);return de.opt_len+=3*(be+1)+5+5+4,be})(X),se=X.opt_len+3+7>>>3,(Q=X.static_len+3+7>>>3)<=se&&(se=Q)):se=Q=ve+5,ve+4<=se&&re!==-1?$(X,re,ve,xe):X.strategy===4||Q===se?(te(X,2+(xe?1:0),3),Qe(X,Z,F)):(te(X,4+(xe?1:0),3),(function(de,be,Re,Ie){var et;for(te(de,be-257,5),te(de,Re-1,5),te(de,Ie-4,4),et=0;et<Ie;et++)te(de,de.bl_tree[2*z[et]+1],3);le(de,de.dyn_ltree,be-1),le(de,de.dyn_dtree,Re-1)})(X,X.l_desc.max_code+1,X.d_desc.max_code+1,J+1),Qe(X,X.dyn_ltree,X.dyn_dtree)),Ce(X),xe&&Ue(X)},r._tr_tally=function(X,re,ve){return X.pending_buf[X.d_buf+2*X.last_lit]=re>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&re,X.pending_buf[X.l_buf+X.last_lit]=255&ve,X.last_lit++,re===0?X.dyn_ltree[2*ve]++:(X.matches++,re--,X.dyn_ltree[2*(M[ve]+p+1)]++,X.dyn_dtree[2*H(re)]++),X.last_lit===X.lit_bufsize-1},r._tr_align=function(X){te(X,2,3),ce(X,T,Z),(function(re){re.bi_valid===16?(G(re,re.bi_buf),re.bi_buf=0,re.bi_valid=0):8<=re.bi_valid&&(re.pending_buf[re.pending++]=255&re.bi_buf,re.bi_buf>>=8,re.bi_valid-=8)})(X)}},{"../utils/common":41}],53:[function(t,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,r){(function(s){(function(a,l){if(!a.setImmediate){var c,d,h,p,g=1,m={},v=!1,b=a.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(a);x=x&&x.setTimeout?x:a,c={}.toString.call(a.process)==="[object process]"?function(C){process.nextTick(function(){w(C)})}:(function(){if(a.postMessage&&!a.importScripts){var C=!0,E=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=E,C}})()?(p="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",T,!1):a.attachEvent("onmessage",T),function(C){a.postMessage(p+C,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(C){w(C.data)},function(C){h.port2.postMessage(C)}):b&&"onreadystatechange"in b.createElement("script")?(d=b.documentElement,function(C){var E=b.createElement("script");E.onreadystatechange=function(){w(C),E.onreadystatechange=null,d.removeChild(E),E=null},d.appendChild(E)}):function(C){setTimeout(w,0,C)},x.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var E=new Array(arguments.length-1),S=0;S<E.length;S++)E[S]=arguments[S+1];var k={callback:C,args:E};return m[g]=k,c(g),g++},x.clearImmediate=D}function D(C){delete m[C]}function w(C){if(v)setTimeout(w,0,C);else{var E=m[C];if(E){v=!0;try{(function(S){var k=S.callback,O=S.args;switch(O.length){case 0:k();break;case 1:k(O[0]);break;case 2:k(O[0],O[1]);break;case 3:k(O[0],O[1],O[2]);break;default:k.apply(l,O)}})(E)}finally{D(C),v=!1}}}}function T(C){C.source===a&&typeof C.data=="string"&&C.data.indexOf(p)===0&&w(+C.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof ua<"u"?ua:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(zb)),zb.exports}var i_;function B3(){if(i_)return su;i_=1;var i=g4(),e=m4();su.openArrayBuffer=t,su.splitPath=n,su.joinPath=r;function t(s){return e.loadAsync(s).then(function(a){function l(p){return a.file(p)!==null}function c(p,g){return a.file(p).async("uint8array").then(function(m){if(g==="base64")return i.fromByteArray(m);if(g){var v=new TextDecoder(g);return v.decode(m)}else return m})}function d(p,g){a.file(p,g)}function h(){return a.generateAsync({type:"arraybuffer"})}return{exists:l,read:c,write:d,toArrayBuffer:h}})}function n(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function r(){var s=Array.prototype.filter.call(arguments,function(l){return l}),a=[];return s.forEach(function(l){/^\//.test(l)?a=[l]:a.push(l)}),a.join("/")}return su}var Vh={},Ks={},Dl={},r_;function L3(){if(r_)return Dl;r_=1;var i=fn;Dl.Element=t,Dl.element=function(s,a,l){return new t(s,a,l)},Dl.text=function(s){return{type:"text",value:s}};var e=Dl.emptyElement={first:function(){return null},firstOrEmpty:function(){return e},attributes:{},children:[]};function t(s,a,l){this.type="element",this.name=s,this.attributes=a||{},this.children=l||[]}t.prototype.first=function(s){return i.find(this.children,function(a){return a.name===s})},t.prototype.firstOrEmpty=function(s){return this.first(s)||e},t.prototype.getElementsByTagName=function(s){var a=i.filter(this.children,function(l){return l.name===s});return r(a)},t.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var n={getElementsByTagName:function(s){return r(i.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function r(s){return i.extend(s,n)}return Dl}var Wb={},Gh={},ou={},us={},Ka={},s_;function og(){if(s_)return Ka;s_=1;function i(s,a,l){if(l===void 0&&(l=Array.prototype),s&&typeof l.find=="function")return l.find.call(s,a);for(var c=0;c<s.length;c++)if(Object.prototype.hasOwnProperty.call(s,c)){var d=s[c];if(a.call(void 0,d,c,s))return d}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function t(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l]);return s}var n=e({HTML:"text/html",isHTML:function(s){return s===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Ka.assign=t,Ka.find=i,Ka.freeze=e,Ka.MIME_TYPE=n,Ka.NAMESPACE=r,Ka}var a_;function Wv(){if(a_)return us;a_=1;var i=og(),e=i.find,t=i.NAMESPACE;function n(P){return P!==""}function r(P){return P?P.split(/[\t\n\f\r ]+/).filter(n):[]}function s(P,q){return P.hasOwnProperty(q)||(P[q]=!0),P}function a(P){if(!P)return[];var q=r(P);return Object.keys(q.reduce(s,{}))}function l(P){return function(q){return P&&P.indexOf(q)!==-1}}function c(P,q){for(var ee in P)Object.prototype.hasOwnProperty.call(P,ee)&&(q[ee]=P[ee])}function d(P,q){var ee=P.prototype;if(!(ee instanceof q)){let me=function(){};me.prototype=q.prototype,me=new me,c(ee,me),P.prototype=ee=me}ee.constructor!=P&&(typeof P!="function"&&console.error("unknown Class:"+P),ee.constructor=P)}var h={},p=h.ELEMENT_NODE=1,g=h.ATTRIBUTE_NODE=2,m=h.TEXT_NODE=3,v=h.CDATA_SECTION_NODE=4,b=h.ENTITY_REFERENCE_NODE=5,x=h.ENTITY_NODE=6,D=h.PROCESSING_INSTRUCTION_NODE=7,w=h.COMMENT_NODE=8,T=h.DOCUMENT_NODE=9,C=h.DOCUMENT_TYPE_NODE=10,E=h.DOCUMENT_FRAGMENT_NODE=11,S=h.NOTATION_NODE=12,k={},O={};k.INDEX_SIZE_ERR=(O[1]="Index size error",1),k.DOMSTRING_SIZE_ERR=(O[2]="DOMString size error",2);var R=k.HIERARCHY_REQUEST_ERR=(O[3]="Hierarchy request error",3);k.WRONG_DOCUMENT_ERR=(O[4]="Wrong document",4),k.INVALID_CHARACTER_ERR=(O[5]="Invalid character",5),k.NO_DATA_ALLOWED_ERR=(O[6]="No data allowed",6),k.NO_MODIFICATION_ALLOWED_ERR=(O[7]="No modification allowed",7);var z=k.NOT_FOUND_ERR=(O[8]="Not found",8);k.NOT_SUPPORTED_ERR=(O[9]="Not supported",9);var Z=k.INUSE_ATTRIBUTE_ERR=(O[10]="Attribute in use",10);k.INVALID_STATE_ERR=(O[11]="Invalid state",11),k.SYNTAX_ERR=(O[12]="Syntax error",12),k.INVALID_MODIFICATION_ERR=(O[13]="Invalid modification",13),k.NAMESPACE_ERR=(O[14]="Invalid namespace",14),k.INVALID_ACCESS_ERR=(O[15]="Invalid access",15);function F(P,q){if(q instanceof Error)var ee=q;else ee=this,Error.call(this,O[P]),this.message=O[P],Error.captureStackTrace&&Error.captureStackTrace(this,F);return ee.code=P,q&&(this.message=this.message+": "+q),ee}F.prototype=Error.prototype,c(k,F);function W(){}W.prototype={length:0,item:function(P){return P>=0&&P<this.length?this[P]:null},toString:function(P,q){for(var ee=[],me=0;me<this.length;me++)ft(this[me],ee,P,q);return ee.join("")},filter:function(P){return Array.prototype.filter.call(this,P)},indexOf:function(P){return Array.prototype.indexOf.call(this,P)}};function M(P,q){this._node=P,this._refresh=q,Y(this)}function Y(P){var q=P._node._inc||P._node.ownerDocument._inc;if(P._inc!==q){var ee=P._refresh(P._node);if(ti(P,"length",ee.length),!P.$$length||ee.length<P.$$length)for(var me=ee.length;me in P;me++)Object.prototype.hasOwnProperty.call(P,me)&&delete P[me];c(ee,P),P._inc=q}}M.prototype.item=function(P){return Y(this),this[P]||null},d(M,W);function B(){}function I(P,q){for(var ee=P.length;ee--;)if(P[ee]===q)return ee}function V(P,q,ee,me){if(me?q[I(q,me)]=ee:q[q.length++]=ee,P){ee.ownerElement=P;var Oe=P.ownerDocument;Oe&&(me&&we(Oe,P,me),ce(Oe,P,ee))}}function K(P,q,ee){var me=I(q,ee);if(me>=0){for(var Oe=q.length-1;me<Oe;)q[me]=q[++me];if(q.length=Oe,P){var Je=P.ownerDocument;Je&&(we(Je,P,ee),ee.ownerElement=null)}}else throw new F(z,new Error(P.tagName+"@"+ee))}B.prototype={length:0,item:W.prototype.item,getNamedItem:function(P){for(var q=this.length;q--;){var ee=this[q];if(ee.nodeName==P)return ee}},setNamedItem:function(P){var q=P.ownerElement;if(q&&q!=this._ownerElement)throw new F(Z);var ee=this.getNamedItem(P.nodeName);return V(this._ownerElement,this,P,ee),ee},setNamedItemNS:function(P){var q=P.ownerElement,ee;if(q&&q!=this._ownerElement)throw new F(Z);return ee=this.getNamedItemNS(P.namespaceURI,P.localName),V(this._ownerElement,this,P,ee),ee},removeNamedItem:function(P){var q=this.getNamedItem(P);return K(this._ownerElement,this,q),q},removeNamedItemNS:function(P,q){var ee=this.getNamedItemNS(P,q);return K(this._ownerElement,this,ee),ee},getNamedItemNS:function(P,q){for(var ee=this.length;ee--;){var me=this[ee];if(me.localName==q&&me.namespaceURI==P)return me}return null}};function ae(){}ae.prototype={hasFeature:function(P,q){return!0},createDocument:function(P,q,ee){var me=new te;if(me.implementation=this,me.childNodes=new W,me.doctype=ee||null,ee&&me.appendChild(ee),q){var Oe=me.createElementNS(P,q);me.appendChild(Oe)}return me},createDocumentType:function(P,q,ee){var me=new Ie;return me.name=P,me.nodeName=P,me.publicId=q||"",me.systemId=ee||"",me}};function L(){}L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(P,q){return re(this,P,q)},replaceChild:function(P,q){re(this,P,q,X),q&&this.removeChild(q)},removeChild:function(P){return Ce(this,P)},appendChild:function(P){return this.insertBefore(P,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(P){return cn(this.ownerDocument||this,this,P)},normalize:function(){for(var P=this.firstChild;P;){var q=P.nextSibling;q&&q.nodeType==m&&P.nodeType==m?(this.removeChild(q),P.appendData(q.data)):(P.normalize(),P=q)}},isSupported:function(P,q){return this.ownerDocument.implementation.hasFeature(P,q)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(P){for(var q=this;q;){var ee=q._nsMap;if(ee){for(var me in ee)if(Object.prototype.hasOwnProperty.call(ee,me)&&ee[me]===P)return me}q=q.nodeType==g?q.ownerDocument:q.parentNode}return null},lookupNamespaceURI:function(P){for(var q=this;q;){var ee=q._nsMap;if(ee&&Object.prototype.hasOwnProperty.call(ee,P))return ee[P];q=q.nodeType==g?q.ownerDocument:q.parentNode}return null},isDefaultNamespace:function(P){var q=this.lookupPrefix(P);return q==null}};function H(P){return P=="<"&&"&lt;"||P==">"&&"&gt;"||P=="&"&&"&amp;"||P=='"'&&"&quot;"||"&#"+P.charCodeAt()+";"}c(h,L),c(h,L.prototype);function G(P,q){if(q(P))return!0;if(P=P.firstChild)do if(G(P,q))return!0;while(P=P.nextSibling)}function te(){this.ownerDocument=this}function ce(P,q,ee){P&&P._inc++;var me=ee.namespaceURI;me===t.XMLNS&&(q._nsMap[ee.prefix?ee.localName:""]=ee.value)}function we(P,q,ee,me){P&&P._inc++;var Oe=ee.namespaceURI;Oe===t.XMLNS&&delete q._nsMap[ee.prefix?ee.localName:""]}function ge(P,q,ee){if(P&&P._inc){P._inc++;var me=q.childNodes;if(ee)me[me.length++]=ee;else{for(var Oe=q.firstChild,Je=0;Oe;)me[Je++]=Oe,Oe=Oe.nextSibling;me.length=Je,delete me[me.length]}}}function Ce(P,q){var ee=q.previousSibling,me=q.nextSibling;return ee?ee.nextSibling=me:P.firstChild=me,me?me.previousSibling=ee:P.lastChild=ee,q.parentNode=null,q.previousSibling=null,q.nextSibling=null,ge(P.ownerDocument,P),q}function Ue(P){return P&&(P.nodeType===L.DOCUMENT_NODE||P.nodeType===L.DOCUMENT_FRAGMENT_NODE||P.nodeType===L.ELEMENT_NODE)}function Fe(P){return P&&(Qe(P)||pt(P)||Pe(P)||P.nodeType===L.DOCUMENT_FRAGMENT_NODE||P.nodeType===L.COMMENT_NODE||P.nodeType===L.PROCESSING_INSTRUCTION_NODE)}function Pe(P){return P&&P.nodeType===L.DOCUMENT_TYPE_NODE}function Qe(P){return P&&P.nodeType===L.ELEMENT_NODE}function pt(P){return P&&P.nodeType===L.TEXT_NODE}function U(P,q){var ee=P.childNodes||[];if(e(ee,Qe)||Pe(q))return!1;var me=e(ee,Pe);return!(q&&me&&ee.indexOf(me)>ee.indexOf(q))}function le(P,q){var ee=P.childNodes||[];function me(Je){return Qe(Je)&&Je!==q}if(e(ee,me))return!1;var Oe=e(ee,Pe);return!(q&&Oe&&ee.indexOf(Oe)>ee.indexOf(q))}function ie(P,q,ee){if(!Ue(P))throw new F(R,"Unexpected parent node type "+P.nodeType);if(ee&&ee.parentNode!==P)throw new F(z,"child not in parent");if(!Fe(q)||Pe(q)&&P.nodeType!==L.DOCUMENT_NODE)throw new F(R,"Unexpected node type "+q.nodeType+" for parent node type "+P.nodeType)}function $(P,q,ee){var me=P.childNodes||[],Oe=q.childNodes||[];if(q.nodeType===L.DOCUMENT_FRAGMENT_NODE){var Je=Oe.filter(Qe);if(Je.length>1||e(Oe,pt))throw new F(R,"More than one element or text in fragment");if(Je.length===1&&!U(P,ee))throw new F(R,"Element in fragment can not be inserted before doctype")}if(Qe(q)&&!U(P,ee))throw new F(R,"Only one element can be added and only after doctype");if(Pe(q)){if(e(me,Pe))throw new F(R,"Only one doctype is allowed");var Rt=e(me,Qe);if(ee&&me.indexOf(Rt)<me.indexOf(ee))throw new F(R,"Doctype can only be inserted before an element");if(!ee&&Rt)throw new F(R,"Doctype can not be appended since element is present")}}function X(P,q,ee){var me=P.childNodes||[],Oe=q.childNodes||[];if(q.nodeType===L.DOCUMENT_FRAGMENT_NODE){var Je=Oe.filter(Qe);if(Je.length>1||e(Oe,pt))throw new F(R,"More than one element or text in fragment");if(Je.length===1&&!le(P,ee))throw new F(R,"Element in fragment can not be inserted before doctype")}if(Qe(q)&&!le(P,ee))throw new F(R,"Only one element can be added and only after doctype");if(Pe(q)){if(e(me,function(Ci){return Pe(Ci)&&Ci!==ee}))throw new F(R,"Only one doctype is allowed");var Rt=e(me,Qe);if(ee&&me.indexOf(Rt)<me.indexOf(ee))throw new F(R,"Doctype can only be inserted before an element")}}function re(P,q,ee,me){ie(P,q,ee),P.nodeType===L.DOCUMENT_NODE&&(me||$)(P,q,ee);var Oe=q.parentNode;if(Oe&&Oe.removeChild(q),q.nodeType===E){var Je=q.firstChild;if(Je==null)return q;var Rt=q.lastChild}else Je=Rt=q;var pn=ee?ee.previousSibling:P.lastChild;Je.previousSibling=pn,Rt.nextSibling=ee,pn?pn.nextSibling=Je:P.firstChild=Je,ee==null?P.lastChild=Rt:ee.previousSibling=Rt;do{Je.parentNode=P;var Ci=P.ownerDocument||P;ve(Je,Ci)}while(Je!==Rt&&(Je=Je.nextSibling));return ge(P.ownerDocument||P,P),q.nodeType==E&&(q.firstChild=q.lastChild=null),q}function ve(P,q){if(P.ownerDocument!==q){if(P.ownerDocument=q,P.nodeType===p&&P.attributes)for(var ee=0;ee<P.attributes.length;ee++){var me=P.attributes.item(ee);me&&(me.ownerDocument=q)}for(var Oe=P.firstChild;Oe;)ve(Oe,q),Oe=Oe.nextSibling}}function xe(P,q){q.parentNode&&q.parentNode.removeChild(q),q.parentNode=P,q.previousSibling=P.lastChild,q.nextSibling=null,q.previousSibling?q.previousSibling.nextSibling=q:P.firstChild=q,P.lastChild=q,ge(P.ownerDocument,P,q);var ee=P.ownerDocument||P;return ve(q,ee),q}te.prototype={nodeName:"#document",nodeType:T,doctype:null,documentElement:null,_inc:1,insertBefore:function(P,q){if(P.nodeType==E){for(var ee=P.firstChild;ee;){var me=ee.nextSibling;this.insertBefore(ee,q),ee=me}return P}return re(this,P,q),ve(P,this),this.documentElement===null&&P.nodeType===p&&(this.documentElement=P),P},removeChild:function(P){return this.documentElement==P&&(this.documentElement=null),Ce(this,P)},replaceChild:function(P,q){re(this,P,q,X),ve(P,this),q&&this.removeChild(q),Qe(P)&&(this.documentElement=P)},importNode:function(P,q){return qt(this,P,q)},getElementById:function(P){var q=null;return G(this.documentElement,function(ee){if(ee.nodeType==p&&ee.getAttribute("id")==P)return q=ee,!0}),q},getElementsByClassName:function(P){var q=a(P);return new M(this,function(ee){var me=[];return q.length>0&&G(ee.documentElement,function(Oe){if(Oe!==ee&&Oe.nodeType===p){var Je=Oe.getAttribute("class");if(Je){var Rt=P===Je;if(!Rt){var pn=a(Je);Rt=q.every(l(pn))}Rt&&me.push(Oe)}}}),me})},createElement:function(P){var q=new se;q.ownerDocument=this,q.nodeName=P,q.tagName=P,q.localName=P,q.childNodes=new W;var ee=q.attributes=new B;return ee._ownerElement=q,q},createDocumentFragment:function(){var P=new vt;return P.ownerDocument=this,P.childNodes=new W,P},createTextNode:function(P){var q=new de;return q.ownerDocument=this,q.appendData(P),q},createComment:function(P){var q=new be;return q.ownerDocument=this,q.appendData(P),q},createCDATASection:function(P){var q=new Re;return q.ownerDocument=this,q.appendData(P),q},createProcessingInstruction:function(P,q){var ee=new ue;return ee.ownerDocument=this,ee.tagName=ee.nodeName=ee.target=P,ee.nodeValue=ee.data=q,ee},createAttribute:function(P){var q=new Q;return q.ownerDocument=this,q.name=P,q.nodeName=P,q.localName=P,q.specified=!0,q},createEntityReference:function(P){var q=new nt;return q.ownerDocument=this,q.nodeName=P,q},createElementNS:function(P,q){var ee=new se,me=q.split(":"),Oe=ee.attributes=new B;return ee.childNodes=new W,ee.ownerDocument=this,ee.nodeName=q,ee.tagName=q,ee.namespaceURI=P,me.length==2?(ee.prefix=me[0],ee.localName=me[1]):ee.localName=q,Oe._ownerElement=ee,ee},createAttributeNS:function(P,q){var ee=new Q,me=q.split(":");return ee.ownerDocument=this,ee.nodeName=q,ee.name=q,ee.namespaceURI=P,ee.specified=!0,me.length==2?(ee.prefix=me[0],ee.localName=me[1]):ee.localName=q,ee}},d(te,L);function se(){this._nsMap={}}se.prototype={nodeType:p,hasAttribute:function(P){return this.getAttributeNode(P)!=null},getAttribute:function(P){var q=this.getAttributeNode(P);return q&&q.value||""},getAttributeNode:function(P){return this.attributes.getNamedItem(P)},setAttribute:function(P,q){var ee=this.ownerDocument.createAttribute(P);ee.value=ee.nodeValue=""+q,this.setAttributeNode(ee)},removeAttribute:function(P){var q=this.getAttributeNode(P);q&&this.removeAttributeNode(q)},appendChild:function(P){return P.nodeType===E?this.insertBefore(P,null):xe(this,P)},setAttributeNode:function(P){return this.attributes.setNamedItem(P)},setAttributeNodeNS:function(P){return this.attributes.setNamedItemNS(P)},removeAttributeNode:function(P){return this.attributes.removeNamedItem(P.nodeName)},removeAttributeNS:function(P,q){var ee=this.getAttributeNodeNS(P,q);ee&&this.removeAttributeNode(ee)},hasAttributeNS:function(P,q){return this.getAttributeNodeNS(P,q)!=null},getAttributeNS:function(P,q){var ee=this.getAttributeNodeNS(P,q);return ee&&ee.value||""},setAttributeNS:function(P,q,ee){var me=this.ownerDocument.createAttributeNS(P,q);me.value=me.nodeValue=""+ee,this.setAttributeNode(me)},getAttributeNodeNS:function(P,q){return this.attributes.getNamedItemNS(P,q)},getElementsByTagName:function(P){return new M(this,function(q){var ee=[];return G(q,function(me){me!==q&&me.nodeType==p&&(P==="*"||me.tagName==P)&&ee.push(me)}),ee})},getElementsByTagNameNS:function(P,q){return new M(this,function(ee){var me=[];return G(ee,function(Oe){Oe!==ee&&Oe.nodeType===p&&(P==="*"||Oe.namespaceURI===P)&&(q==="*"||Oe.localName==q)&&me.push(Oe)}),me})}},te.prototype.getElementsByTagName=se.prototype.getElementsByTagName,te.prototype.getElementsByTagNameNS=se.prototype.getElementsByTagNameNS,d(se,L);function Q(){}Q.prototype.nodeType=g,d(Q,L);function J(){}J.prototype={data:"",substringData:function(P,q){return this.data.substring(P,P+q)},appendData:function(P){P=this.data+P,this.nodeValue=this.data=P,this.length=P.length},insertData:function(P,q){this.replaceData(P,0,q)},appendChild:function(P){throw new Error(O[R])},deleteData:function(P,q){this.replaceData(P,q,"")},replaceData:function(P,q,ee){var me=this.data.substring(0,P),Oe=this.data.substring(P+q);ee=me+ee+Oe,this.nodeValue=this.data=ee,this.length=ee.length}},d(J,L);function de(){}de.prototype={nodeName:"#text",nodeType:m,splitText:function(P){var q=this.data,ee=q.substring(P);q=q.substring(0,P),this.data=this.nodeValue=q,this.length=q.length;var me=this.ownerDocument.createTextNode(ee);return this.parentNode&&this.parentNode.insertBefore(me,this.nextSibling),me}},d(de,J);function be(){}be.prototype={nodeName:"#comment",nodeType:w},d(be,J);function Re(){}Re.prototype={nodeName:"#cdata-section",nodeType:v},d(Re,J);function Ie(){}Ie.prototype.nodeType=C,d(Ie,L);function et(){}et.prototype.nodeType=S,d(et,L);function Ge(){}Ge.prototype.nodeType=x,d(Ge,L);function nt(){}nt.prototype.nodeType=b,d(nt,L);function vt(){}vt.prototype.nodeName="#document-fragment",vt.prototype.nodeType=E,d(vt,L);function ue(){}ue.prototype.nodeType=D,d(ue,L);function _e(){}_e.prototype.serializeToString=function(P,q,ee){return Ne.call(P,q,ee)},L.prototype.toString=Ne;function Ne(P,q){var ee=[],me=this.nodeType==9&&this.documentElement||this,Oe=me.prefix,Je=me.namespaceURI;if(Je&&Oe==null){var Oe=me.lookupPrefix(Je);if(Oe==null)var Rt=[{namespace:Je,prefix:null}]}return ft(this,ee,P,q,Rt),ee.join("")}function Be(P,q,ee){var me=P.prefix||"",Oe=P.namespaceURI;if(!Oe||me==="xml"&&Oe===t.XML||Oe===t.XMLNS)return!1;for(var Je=ee.length;Je--;){var Rt=ee[Je];if(Rt.prefix===me)return Rt.namespace!==Oe}return!0}function it(P,q,ee){P.push(" ",q,'="',ee.replace(/[<>&"\t\n\r]/g,H),'"')}function ft(P,q,ee,me,Oe){if(Oe||(Oe=[]),me)if(P=me(P),P){if(typeof P=="string"){q.push(P);return}}else return;switch(P.nodeType){case p:var Je=P.attributes,Rt=Je.length,At=P.firstChild,pn=P.tagName;ee=t.isHTML(P.namespaceURI)||ee;var Ci=pn;if(!ee&&!P.prefix&&P.namespaceURI){for(var pr,qi=0;qi<Je.length;qi++)if(Je.item(qi).name==="xmlns"){pr=Je.item(qi).value;break}if(!pr)for(var Er=Oe.length-1;Er>=0;Er--){var gr=Oe[Er];if(gr.prefix===""&&gr.namespace===P.namespaceURI){pr=gr.namespace;break}}if(pr!==P.namespaceURI)for(var Er=Oe.length-1;Er>=0;Er--){var gr=Oe[Er];if(gr.namespace===P.namespaceURI){gr.prefix&&(Ci=gr.prefix+":"+pn);break}}}q.push("<",Ci);for(var mr=0;mr<Rt;mr++){var ki=Je.item(mr);ki.prefix=="xmlns"?Oe.push({prefix:ki.localName,namespace:ki.value}):ki.nodeName=="xmlns"&&Oe.push({prefix:"",namespace:ki.value})}for(var mr=0;mr<Rt;mr++){var ki=Je.item(mr);if(Be(ki,ee,Oe)){var Sr=ki.prefix||"",hi=ki.namespaceURI;it(q,Sr?"xmlns:"+Sr:"xmlns",hi),Oe.push({prefix:Sr,namespace:hi})}ft(ki,q,ee,me,Oe)}if(pn===Ci&&Be(P,ee,Oe)){var Sr=P.prefix||"",hi=P.namespaceURI;it(q,Sr?"xmlns:"+Sr:"xmlns",hi),Oe.push({prefix:Sr,namespace:hi})}if(At||ee&&!/^(?:meta|link|img|br|hr|input)$/i.test(pn)){if(q.push(">"),ee&&/^script$/i.test(pn))for(;At;)At.data?q.push(At.data):ft(At,q,ee,me,Oe.slice()),At=At.nextSibling;else for(;At;)ft(At,q,ee,me,Oe.slice()),At=At.nextSibling;q.push("</",Ci,">")}else q.push("/>");return;case T:case E:for(var At=P.firstChild;At;)ft(At,q,ee,me,Oe.slice()),At=At.nextSibling;return;case g:return it(q,P.name,P.value);case m:return q.push(P.data.replace(/[<&>]/g,H));case v:return q.push("<![CDATA[",P.data,"]]>");case w:return q.push("<!--",P.data,"-->");case C:var Bn=P.publicId,Ui=P.systemId;if(q.push("<!DOCTYPE ",P.name),Bn)q.push(" PUBLIC ",Bn),Ui&&Ui!="."&&q.push(" ",Ui),q.push(">");else if(Ui&&Ui!=".")q.push(" SYSTEM ",Ui,">");else{var Fo=P.internalSubset;Fo&&q.push(" [",Fo,"]"),q.push(">")}return;case D:return q.push("<?",P.target," ",P.data,"?>");case b:return q.push("&",P.nodeName,";");default:q.push("??",P.nodeName)}}function qt(P,q,ee){var me;switch(q.nodeType){case p:me=q.cloneNode(!1),me.ownerDocument=P;case E:break;case g:ee=!0;break}if(me||(me=q.cloneNode(!1)),me.ownerDocument=P,me.parentNode=null,ee)for(var Oe=q.firstChild;Oe;)me.appendChild(qt(P,Oe,ee)),Oe=Oe.nextSibling;return me}function cn(P,q,ee){var me=new q.constructor;for(var Oe in q)if(Object.prototype.hasOwnProperty.call(q,Oe)){var Je=q[Oe];typeof Je!="object"&&Je!=me[Oe]&&(me[Oe]=Je)}switch(q.childNodes&&(me.childNodes=new W),me.ownerDocument=P,me.nodeType){case p:var Rt=q.attributes,pn=me.attributes=new B,Ci=Rt.length;pn._ownerElement=me;for(var pr=0;pr<Ci;pr++)me.setAttributeNode(cn(P,Rt.item(pr),!0));break;case g:ee=!0}if(ee)for(var qi=q.firstChild;qi;)me.appendChild(cn(P,qi,ee)),qi=qi.nextSibling;return me}function ti(P,q,ee){P[q]=ee}try{if(Object.defineProperty){let P=function(q){switch(q.nodeType){case p:case E:var ee=[];for(q=q.firstChild;q;)q.nodeType!==7&&q.nodeType!==8&&ee.push(P(q)),q=q.nextSibling;return ee.join("");default:return q.nodeValue}};Object.defineProperty(M.prototype,"length",{get:function(){return Y(this),this.$$length}}),Object.defineProperty(L.prototype,"textContent",{get:function(){return P(this)},set:function(q){switch(this.nodeType){case p:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(q||String(q))&&this.appendChild(this.ownerDocument.createTextNode(q));break;default:this.data=q,this.value=q,this.nodeValue=q}}}),ti=function(q,ee,me){q["$$"+ee]=me}}}catch{}return us.DocumentType=Ie,us.DOMException=F,us.DOMImplementation=ae,us.Element=se,us.Node=L,us.NodeList=W,us.XMLSerializer=_e,us}var lu={},jb={},o_;function y4(){return o_||(o_=1,(function(i){var e=og().freeze;i.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),i.entityMap=i.HTML_ENTITIES})(jb)),jb}var Xh={},l_;function b4(){if(l_)return Xh;l_=1;var i=og().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),r=0,s=1,a=2,l=3,c=4,d=5,h=6,p=7;function g(R,z){this.message=R,this.locator=z,Error.captureStackTrace&&Error.captureStackTrace(this,g)}g.prototype=new Error,g.prototype.name=g.name;function m(){}m.prototype={parse:function(R,z,Z){var F=this.domBuilder;F.startDocument(),C(z,z={}),v(R,z,Z,F,this.errorHandler),F.endDocument()}};function v(R,z,Z,F,W){function M(xe){if(xe>65535){xe-=65536;var se=55296+(xe>>10),Q=56320+(xe&1023);return String.fromCharCode(se,Q)}else return String.fromCharCode(xe)}function Y(xe){var se=xe.slice(1,-1);return Object.hasOwnProperty.call(Z,se)?Z[se]:se.charAt(0)==="#"?M(parseInt(se.substr(1).replace("x","0x"))):(W.error("entity not found:"+xe),xe)}function B(xe){if(xe>te){var se=R.substring(te,xe).replace(/&#?\w+;/g,Y);L&&I(te),F.characters(se,0,xe-te),te=xe}}function I(xe,se){for(;xe>=K&&(se=ae.exec(R));)V=se.index,K=V+se[0].length,L.lineNumber++;L.columnNumber=xe-V+1}for(var V=0,K=0,ae=/.*(?:\r\n?|\n)|.*$/g,L=F.locator,H=[{currentNSMap:z}],G={},te=0;;){try{var ce=R.indexOf("<",te);if(ce<0){if(!R.substr(te).match(/^\s*$/)){var we=F.doc,ge=we.createTextNode(R.substr(te));we.appendChild(ge),F.currentElement=ge}return}switch(ce>te&&B(ce),R.charAt(ce+1)){case"/":var ie=R.indexOf(">",ce+3),Ce=R.substring(ce+2,ie).replace(/[ \t\n\r]+$/g,""),Ue=H.pop();ie<0?(Ce=R.substring(ce+2).replace(/[\s<].*/,""),W.error("end tag name: "+Ce+" is not complete:"+Ue.tagName),ie=ce+1+Ce.length):Ce.match(/\s</)&&(Ce=Ce.replace(/[\s<].*/,""),W.error("end tag name: "+Ce+" maybe not complete"),ie=ce+1+Ce.length);var Fe=Ue.localNSMap,Pe=Ue.tagName==Ce,Qe=Pe||Ue.tagName&&Ue.tagName.toLowerCase()==Ce.toLowerCase();if(Qe){if(F.endElement(Ue.uri,Ue.localName,Ce),Fe)for(var pt in Fe)Object.prototype.hasOwnProperty.call(Fe,pt)&&F.endPrefixMapping(pt);Pe||W.fatalError("end tag name: "+Ce+" is not match the current start tagName:"+Ue.tagName)}else H.push(Ue);ie++;break;case"?":L&&I(ce),ie=S(R,ce,F);break;case"!":L&&I(ce),ie=E(R,ce,F,W);break;default:L&&I(ce);var U=new k,le=H[H.length-1].currentNSMap,ie=x(R,ce,U,le,Y,W),$=U.length;if(!U.closed&&T(R,ie,U.tagName,G)&&(U.closed=!0,Z.nbsp||W.warning("unclosed xml attribute")),L&&$){for(var X=b(L,{}),re=0;re<$;re++){var ve=U[re];I(ve.offset),ve.locator=b(L,{})}F.locator=X,D(U,F,le)&&H.push(U),F.locator=L}else D(U,F,le)&&H.push(U);i.isHTML(U.uri)&&!U.closed?ie=w(R,ie,U.tagName,Y,F):ie++}}catch(xe){if(xe instanceof g)throw xe;W.error("element parse error: "+xe),ie=-1}ie>te?te=ie:B(Math.max(ce,te)+1)}}function b(R,z){return z.lineNumber=R.lineNumber,z.columnNumber=R.columnNumber,z}function x(R,z,Z,F,W,M){function Y(L,H,G){Z.attributeNames.hasOwnProperty(L)&&M.fatalError("Attribute "+L+" redefined"),Z.addValue(L,H.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,W),G)}for(var B,I,V=++z,K=r;;){var ae=R.charAt(V);switch(ae){case"=":if(K===s)B=R.slice(z,V),K=l;else if(K===a)K=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(K===l||K===s)if(K===s&&(M.warning('attribute value must after "="'),B=R.slice(z,V)),z=V+1,V=R.indexOf(ae,z),V>0)I=R.slice(z,V),Y(B,I,z-1),K=d;else throw new Error("attribute value no end '"+ae+"' match");else if(K==c)I=R.slice(z,V),Y(B,I,z),M.warning('attribute "'+B+'" missed start quot('+ae+")!!"),z=V+1,K=d;else throw new Error('attribute value must after "="');break;case"/":switch(K){case r:Z.setTagName(R.slice(z,V));case d:case h:case p:K=p,Z.closed=!0;case c:case s:break;case a:Z.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return M.error("unexpected end of input"),K==r&&Z.setTagName(R.slice(z,V)),V;case">":switch(K){case r:Z.setTagName(R.slice(z,V));case d:case h:case p:break;case c:case s:I=R.slice(z,V),I.slice(-1)==="/"&&(Z.closed=!0,I=I.slice(0,-1));case a:K===a&&(I=B),K==c?(M.warning('attribute "'+I+'" missed quot(")!'),Y(B,I,z)):((!i.isHTML(F[""])||!I.match(/^(?:disabled|checked|selected)$/i))&&M.warning('attribute "'+I+'" missed value!! "'+I+'" instead!!'),Y(I,I,z));break;case l:throw new Error("attribute value missed!!")}return V;case"":ae=" ";default:if(ae<=" ")switch(K){case r:Z.setTagName(R.slice(z,V)),K=h;break;case s:B=R.slice(z,V),K=a;break;case c:var I=R.slice(z,V);M.warning('attribute "'+I+'" missed quot(")!!'),Y(B,I,z);case d:K=h;break}else switch(K){case a:Z.tagName,(!i.isHTML(F[""])||!B.match(/^(?:disabled|checked|selected)$/i))&&M.warning('attribute "'+B+'" missed value!! "'+B+'" instead2!!'),Y(B,B,z),z=V,K=s;break;case d:M.warning('attribute space is required"'+B+'"!!');case h:K=s,z=V;break;case l:K=c,z=V;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}V++}}function D(R,z,Z){for(var F=R.tagName,W=null,ae=R.length;ae--;){var M=R[ae],Y=M.qName,B=M.value,L=Y.indexOf(":");if(L>0)var I=M.prefix=Y.slice(0,L),V=Y.slice(L+1),K=I==="xmlns"&&V;else V=Y,I=null,K=Y==="xmlns"&&"";M.localName=V,K!==!1&&(W==null&&(W={},C(Z,Z={})),Z[K]=W[K]=B,M.uri=i.XMLNS,z.startPrefixMapping(K,B))}for(var ae=R.length;ae--;){M=R[ae];var I=M.prefix;I&&(I==="xml"&&(M.uri=i.XML),I!=="xmlns"&&(M.uri=Z[I||""]))}var L=F.indexOf(":");L>0?(I=R.prefix=F.slice(0,L),V=R.localName=F.slice(L+1)):(I=null,V=R.localName=F);var H=R.uri=Z[I||""];if(z.startElement(H,V,F,R),R.closed){if(z.endElement(H,V,F),W)for(I in W)Object.prototype.hasOwnProperty.call(W,I)&&z.endPrefixMapping(I)}else return R.currentNSMap=Z,R.localNSMap=W,!0}function w(R,z,Z,F,W){if(/^(?:script|textarea)$/i.test(Z)){var M=R.indexOf("</"+Z+">",z),Y=R.substring(z+1,M);if(/[&<]/.test(Y))return/^script$/i.test(Z)?(W.characters(Y,0,Y.length),M):(Y=Y.replace(/&#?\w+;/g,F),W.characters(Y,0,Y.length),M)}return z+1}function T(R,z,Z,F){var W=F[Z];return W==null&&(W=R.lastIndexOf("</"+Z+">"),W<z&&(W=R.lastIndexOf("</"+Z)),F[Z]=W),W<z}function C(R,z){for(var Z in R)Object.prototype.hasOwnProperty.call(R,Z)&&(z[Z]=R[Z])}function E(R,z,Z,F){var W=R.charAt(z+2);switch(W){case"-":if(R.charAt(z+3)==="-"){var M=R.indexOf("-->",z+4);return M>z?(Z.comment(R,z+4,M-z-4),M+3):(F.error("Unclosed comment"),-1)}else return-1;default:if(R.substr(z+3,6)=="CDATA["){var M=R.indexOf("]]>",z+9);return Z.startCDATA(),Z.characters(R,z+9,M-z-9),Z.endCDATA(),M+3}var Y=O(R,z),B=Y.length;if(B>1&&/!doctype/i.test(Y[0][0])){var I=Y[1][0],V=!1,K=!1;B>3&&(/^public$/i.test(Y[2][0])?(V=Y[3][0],K=B>4&&Y[4][0]):/^system$/i.test(Y[2][0])&&(K=Y[3][0]));var ae=Y[B-1];return Z.startDTD(I,V,K),Z.endDTD(),ae.index+ae[0].length}}return-1}function S(R,z,Z){var F=R.indexOf("?>",z);if(F){var W=R.substring(z,F).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return W?(W[0].length,Z.processingInstruction(W[1],W[2]),F+2):-1}return-1}function k(){this.attributeNames={}}k.prototype={setTagName:function(R){if(!n.test(R))throw new Error("invalid tagName:"+R);this.tagName=R},addValue:function(R,z,Z){if(!n.test(R))throw new Error("invalid attribute:"+R);this.attributeNames[R]=this.length,this[this.length++]={qName:R,value:z,offset:Z}},length:0,getLocalName:function(R){return this[R].localName},getLocator:function(R){return this[R].locator},getQName:function(R){return this[R].qName},getURI:function(R){return this[R].uri},getValue:function(R){return this[R].value}};function O(R,z){var Z,F=[],W=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(W.lastIndex=z,W.exec(R);Z=W.exec(R);)if(F.push(Z),Z[1])return F}return Xh.XMLReader=m,Xh.ParseError=g,Xh}var c_;function v4(){if(c_)return lu;c_=1;var i=og(),e=Wv(),t=y4(),n=b4(),r=e.DOMImplementation,s=i.NAMESPACE,a=n.ParseError,l=n.XMLReader;function c(x){return x.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function d(x){this.options=x||{locator:{}}}d.prototype.parseFromString=function(x,D){var w=this.options,T=new l,C=w.domBuilder||new p,E=w.errorHandler,S=w.locator,k=w.xmlns||{},O=/\/x?html?$/.test(D),R=O?t.HTML_ENTITIES:t.XML_ENTITIES;S&&C.setDocumentLocator(S),T.errorHandler=h(E,C,S),T.domBuilder=w.domBuilder||C,O&&(k[""]=s.HTML),k.xml=k.xml||s.XML;var z=w.normalizeLineEndings||c;return x&&typeof x=="string"?T.parse(z(x),k,R):T.errorHandler.error("invalid doc source"),C.doc};function h(x,D,w){if(!x){if(D instanceof p)return D;x=D}var T={},C=x instanceof Function;w=w||{};function E(S){var k=x[S];!k&&C&&(k=x.length==2?function(O){x(S,O)}:x),T[S]=k&&function(O){k("[xmldom "+S+"]	"+O+m(w))}||function(){}}return E("warning"),E("error"),E("fatalError"),T}function p(){this.cdata=!1}function g(x,D){D.lineNumber=x.lineNumber,D.columnNumber=x.columnNumber}p.prototype={startDocument:function(){this.doc=new r().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(x,D,w,T){var C=this.doc,E=C.createElementNS(x,w||D),S=T.length;b(this,E),this.currentElement=E,this.locator&&g(this.locator,E);for(var k=0;k<S;k++){var x=T.getURI(k),O=T.getValue(k),w=T.getQName(k),R=C.createAttributeNS(x,w);this.locator&&g(T.getLocator(k),R),R.value=R.nodeValue=O,E.setAttributeNode(R)}},endElement:function(x,D,w){var T=this.currentElement;T.tagName,this.currentElement=T.parentNode},startPrefixMapping:function(x,D){},endPrefixMapping:function(x){},processingInstruction:function(x,D){var w=this.doc.createProcessingInstruction(x,D);this.locator&&g(this.locator,w),b(this,w)},ignorableWhitespace:function(x,D,w){},characters:function(x,D,w){if(x=v.apply(this,arguments),x){if(this.cdata)var T=this.doc.createCDATASection(x);else var T=this.doc.createTextNode(x);this.currentElement?this.currentElement.appendChild(T):/^\s*$/.test(x)&&this.doc.appendChild(T),this.locator&&g(this.locator,T)}},skippedEntity:function(x){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(x){(this.locator=x)&&(x.lineNumber=0)},comment:function(x,D,w){x=v.apply(this,arguments);var T=this.doc.createComment(x);this.locator&&g(this.locator,T),b(this,T)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(x,D,w){var T=this.doc.implementation;if(T&&T.createDocumentType){var C=T.createDocumentType(x,D,w);this.locator&&g(this.locator,C),b(this,C),this.doc.doctype=C}},warning:function(x){console.warn("[xmldom warning]	"+x,m(this.locator))},error:function(x){console.error("[xmldom error]	"+x,m(this.locator))},fatalError:function(x){throw new a(x,this.locator)}};function m(x){if(x)return`
@`+(x.systemId||"")+"#[line:"+x.lineNumber+",col:"+x.columnNumber+"]"}function v(x,D,w){return typeof x=="string"?x.substr(D,w):x.length>=D+w||D?new java.lang.String(x,D,w)+"":x}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(x){p.prototype[x]=function(){return null}});function b(x,D){x.currentElement?x.currentElement.appendChild(D):x.doc.appendChild(D)}return lu.__DOMHandler=p,lu.normalizeLineEndings=c,lu.DOMParser=d,lu}var u_;function x4(){if(u_)return ou;u_=1;var i=Wv();return ou.DOMImplementation=i.DOMImplementation,ou.XMLSerializer=i.XMLSerializer,ou.DOMParser=v4().DOMParser,ou}var d_;function D4(){if(d_)return Gh;d_=1;var i=x4(),e=Wv();function t(n){var r=null,s=new i.DOMParser({errorHandler:function(l,c){r={level:l,message:c}}}),a=s.parseFromString(n);if(r===null)return a;throw new Error(r.level+": "+r.message)}return Gh.parseFromString=t,Gh.Node=e.Node,Gh}var h_;function w4(){if(h_)return Wb;h_=1;var i=ka(),e=fn,t=D4(),n=L3(),r=n.Element;Wb.readString=a;var s=t.Node;function a(l,c){c=c||{};try{var d=t.parseFromString(l,"text/xml")}catch(m){return i.reject(m)}if(d.documentElement.tagName==="parsererror")return i.resolve(new Error(d.documentElement.textContent));function h(m){switch(m.nodeType){case s.ELEMENT_NODE:return p(m);case s.TEXT_NODE:return n.text(m.nodeValue)}}function p(m){var v=g(m),b=[];e.forEach(m.childNodes,function(D){var w=h(D);w&&b.push(w)});var x={};return e.forEach(m.attributes,function(D){x[g(D)]=D.value}),new r(v,x,b)}function g(m){if(m.namespaceURI){var v=c[m.namespaceURI],b;return v?b=v+":":b="{"+m.namespaceURI+"}",b+m.localName}else return m.localName}return i.resolve(h(d.documentElement))}return Wb}var Hb={},Za={},Br={},f_;function Ua(){return f_||(f_=1,(function(){var i,e,t,n,r,s,a,l=[].slice,c={}.hasOwnProperty;i=function(){var d,h,p,g,m,v;if(v=arguments[0],m=2<=arguments.length?l.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(d=0,p=m.length;d<p;d++)if(g=m[d],g!=null)for(h in g)c.call(g,h)&&(v[h]=g[h]);return v},r=function(d){return!!d&&Object.prototype.toString.call(d)==="[object Function]"},s=function(d){var h;return!!d&&((h=typeof d)=="function"||h==="object")},t=function(d){return r(Array.isArray)?Array.isArray(d):Object.prototype.toString.call(d)==="[object Array]"},n=function(d){var h;if(t(d))return!d.length;for(h in d)if(c.call(d,h))return!1;return!0},a=function(d){var h,p;return s(d)&&(p=Object.getPrototypeOf(d))&&(h=p.constructor)&&typeof h=="function"&&h instanceof h&&Function.prototype.toString.call(h)===Function.prototype.toString.call(Object)},e=function(d){return r(d.valueOf)?d.valueOf():d},Br.assign=i,Br.isFunction=r,Br.isObject=s,Br.isArray=t,Br.isEmpty=n,Br.isPlainObject=a,Br.getValue=e}).call(Br)),Br}var bf={exports:{}},vf={exports:{}},xf={exports:{}},Df={exports:{}},A4=Df.exports,p_;function I3(){return p_||(p_=1,(function(){Df.exports=(function(){function i(e,t,n){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(n==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},i.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},i})()}).call(A4)),Df.exports}var T4=xf.exports,g_;function lg(){return g_||(g_=1,(function(){var i,e,t,n,r,s,a=function(c,d){for(var h in d)l.call(d,h)&&(c[h]=d[h]);function p(){this.constructor=c}return p.prototype=d.prototype,c.prototype=new p,c.__super__=d.prototype,c},l={}.hasOwnProperty;s=Ua(),r=s.isObject,n=s.isFunction,t=s.getValue,e=Si(),i=I3(),xf.exports=(function(c){a(d,c);function d(h,p,g){if(d.__super__.constructor.call(this,h),p==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(p),this.attributes={},g!=null&&this.attribute(g),h.isDocument&&(this.isRoot=!0,this.documentObject=h,h.rootObject=this)}return d.prototype.clone=function(){var h,p,g,m;g=Object.create(this),g.isRoot&&(g.documentObject=null),g.attributes={},m=this.attributes;for(p in m)l.call(m,p)&&(h=m[p],g.attributes[p]=h.clone());return g.children=[],this.children.forEach(function(v){var b;return b=v.clone(),b.parent=g,g.children.push(b)}),g},d.prototype.attribute=function(h,p){var g,m;if(h!=null&&(h=t(h)),r(h))for(g in h)l.call(h,g)&&(m=h[g],this.attribute(g,m));else n(p)&&(p=p.apply()),(!this.options.skipNullAttributes||p!=null)&&(this.attributes[h]=new i(this,h,p));return this},d.prototype.removeAttribute=function(h){var p,g,m;if(h==null)throw new Error("Missing attribute name. "+this.debugInfo());if(h=t(h),Array.isArray(h))for(g=0,m=h.length;g<m;g++)p=h[g],delete this.attributes[p];else delete this.attributes[h];return this},d.prototype.toString=function(h){return this.options.writer.set(h).element(this)},d.prototype.att=function(h,p){return this.attribute(h,p)},d.prototype.a=function(h,p){return this.attribute(h,p)},d})(e)}).call(T4)),xf.exports}var wf={exports:{}},_4=wf.exports,m_;function cg(){return m_||(m_=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function a(){this.constructor=n}return a.prototype=r.prototype,n.prototype=new a,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=Si(),wf.exports=(function(n){e(r,n);function r(s,a){if(r.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},r})(i)}).call(_4)),wf.exports}var Af={exports:{}},E4=Af.exports,y_;function ug(){return y_||(y_=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function a(){this.constructor=n}return a.prototype=r.prototype,n.prototype=new a,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=Si(),Af.exports=(function(n){e(r,n);function r(s,a){if(r.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},r})(i)}).call(E4)),Af.exports}var Tf={exports:{}},S4=Tf.exports,b_;function dg(){return b_||(b_=1,(function(){var i,e,t=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function l(){this.constructor=r}return l.prototype=s.prototype,r.prototype=new l,r.__super__=s.prototype,r},n={}.hasOwnProperty;e=Ua().isObject,i=Si(),Tf.exports=(function(r){t(s,r);function s(a,l,c,d){var h;s.__super__.constructor.call(this,a),e(l)&&(h=l,l=h.version,c=h.encoding,d=h.standalone),l||(l="1.0"),this.version=this.stringify.xmlVersion(l),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),d!=null&&(this.standalone=this.stringify.xmlStandalone(d))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s})(i)}).call(S4)),Tf.exports}var _f={exports:{}},Ef={exports:{}},C4=Ef.exports,v_;function hg(){return v_||(v_=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function a(){this.constructor=n}return a.prototype=r.prototype,n.prototype=new a,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=Si(),Ef.exports=(function(n){e(r,n);function r(s,a,l,c,d,h){if(r.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(l==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!d)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(d.indexOf("#")!==0&&(d="#"+d),!d.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(h&&!d.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(l),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(h),this.defaultValueType=d}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},r})(i)}).call(C4)),Ef.exports}var Sf={exports:{}},k4=Sf.exports,x_;function fg(){return x_||(x_=1,(function(){var i,e,t=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function l(){this.constructor=r}return l.prototype=s.prototype,r.prototype=new l,r.__super__=s.prototype,r},n={}.hasOwnProperty;e=Ua().isObject,i=Si(),Sf.exports=(function(r){t(s,r);function s(a,l,c,d){if(s.__super__.constructor.call(this,a),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(d==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!l,this.name=this.stringify.eleName(c),!e(d))this.value=this.stringify.dtdEntityValue(d);else{if(!d.pubID&&!d.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(d.pubID&&!d.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(d.pubID!=null&&(this.pubID=this.stringify.dtdPubID(d.pubID)),d.sysID!=null&&(this.sysID=this.stringify.dtdSysID(d.sysID)),d.nData!=null&&(this.nData=this.stringify.dtdNData(d.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s})(i)}).call(k4)),Sf.exports}var Cf={exports:{}},U4=Cf.exports,D_;function pg(){return D_||(D_=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function a(){this.constructor=n}return a.prototype=r.prototype,n.prototype=new a,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=Si(),Cf.exports=(function(n){e(r,n);function r(s,a,l){if(r.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());l||(l="(#PCDATA)"),Array.isArray(l)&&(l="("+l.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(l)}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},r})(i)}).call(U4)),Cf.exports}var kf={exports:{}},M4=kf.exports,w_;function gg(){return w_||(w_=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function a(){this.constructor=n}return a.prototype=r.prototype,n.prototype=new a,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=Si(),kf.exports=(function(n){e(r,n);function r(s,a,l){if(r.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!l.pubID&&!l.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID))}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},r})(i)}).call(M4)),kf.exports}var R4=_f.exports,A_;function mg(){return A_||(A_=1,(function(){var i,e,t,n,r,s,a=function(c,d){for(var h in d)l.call(d,h)&&(c[h]=d[h]);function p(){this.constructor=c}return p.prototype=d.prototype,c.prototype=new p,c.__super__=d.prototype,c},l={}.hasOwnProperty;s=Ua().isObject,r=Si(),i=hg(),t=fg(),e=pg(),n=gg(),_f.exports=(function(c){a(d,c);function d(h,p,g){var m,v;d.__super__.constructor.call(this,h),this.name="!DOCTYPE",this.documentObject=h,s(p)&&(m=p,p=m.pubID,g=m.sysID),g==null&&(v=[p,g],g=v[0],p=v[1]),p!=null&&(this.pubID=this.stringify.dtdPubID(p)),g!=null&&(this.sysID=this.stringify.dtdSysID(g))}return d.prototype.element=function(h,p){var g;return g=new e(this,h,p),this.children.push(g),this},d.prototype.attList=function(h,p,g,m,v){var b;return b=new i(this,h,p,g,m,v),this.children.push(b),this},d.prototype.entity=function(h,p){var g;return g=new t(this,!1,h,p),this.children.push(g),this},d.prototype.pEntity=function(h,p){var g;return g=new t(this,!0,h,p),this.children.push(g),this},d.prototype.notation=function(h,p){var g;return g=new n(this,h,p),this.children.push(g),this},d.prototype.toString=function(h){return this.options.writer.set(h).docType(this)},d.prototype.ele=function(h,p){return this.element(h,p)},d.prototype.att=function(h,p,g,m,v){return this.attList(h,p,g,m,v)},d.prototype.ent=function(h,p){return this.entity(h,p)},d.prototype.pent=function(h,p){return this.pEntity(h,p)},d.prototype.not=function(h,p){return this.notation(h,p)},d.prototype.up=function(){return this.root()||this.documentObject},d})(r)}).call(R4)),_f.exports}var Uf={exports:{}},O4=Uf.exports,T_;function yg(){return T_||(T_=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function a(){this.constructor=n}return a.prototype=r.prototype,n.prototype=new a,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=Si(),Uf.exports=(function(n){e(r,n);function r(s,a){if(r.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},r})(i)}).call(O4)),Uf.exports}var Mf={exports:{}},N4=Mf.exports,__;function bg(){return __||(__=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function a(){this.constructor=n}return a.prototype=r.prototype,n.prototype=new a,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=Si(),Mf.exports=(function(n){e(r,n);function r(s,a){if(r.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).text(this)},r})(i)}).call(N4)),Mf.exports}var Rf={exports:{}},F4=Rf.exports,E_;function vg(){return E_||(E_=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function a(){this.constructor=n}return a.prototype=r.prototype,n.prototype=new a,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=Si(),Rf.exports=(function(n){e(r,n);function r(s,a,l){if(r.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),l&&(this.value=this.stringify.insValue(l))}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},r})(i)}).call(F4)),Rf.exports}var Of={exports:{}},B4=Of.exports,S_;function jv(){return S_||(S_=1,(function(){var i,e=function(n,r){for(var s in r)t.call(r,s)&&(n[s]=r[s]);function a(){this.constructor=n}return a.prototype=r.prototype,n.prototype=new a,n.__super__=r.prototype,n},t={}.hasOwnProperty;i=Si(),Of.exports=(function(n){e(r,n);function r(s){r.__super__.constructor.call(this,s),this.isDummy=!0}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return""},r})(i)}).call(B4)),Of.exports}var L4=vf.exports,C_;function Si(){return C_||(C_=1,(function(){var i,e,t,n,r,s,a,l,c,d,h,p,g,m,v={}.hasOwnProperty;m=Ua(),g=m.isObject,p=m.isFunction,h=m.isEmpty,d=m.getValue,s=null,i=null,e=null,t=null,n=null,l=null,c=null,a=null,r=null,vf.exports=(function(){function b(x){this.parent=x,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=lg(),i=cg(),e=ug(),t=dg(),n=mg(),l=yg(),c=bg(),a=vg(),r=jv())}return b.prototype.element=function(x,D,w){var T,C,E,S,k,O,R,z,Z,F,W;if(O=null,D===null&&w==null&&(Z=[{},null],D=Z[0],w=Z[1]),D==null&&(D={}),D=d(D),g(D)||(F=[D,w],w=F[0],D=F[1]),x!=null&&(x=d(x)),Array.isArray(x))for(E=0,R=x.length;E<R;E++)C=x[E],O=this.element(C);else if(p(x))O=this.element(x.apply());else if(g(x)){for(k in x)if(v.call(x,k))if(W=x[k],p(W)&&(W=W.apply()),g(W)&&h(W)&&(W=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&k.indexOf(this.stringify.convertAttKey)===0)O=this.attribute(k.substr(this.stringify.convertAttKey.length),W);else if(!this.options.separateArrayItems&&Array.isArray(W))for(S=0,z=W.length;S<z;S++)C=W[S],T={},T[k]=C,O=this.element(T);else g(W)?(O=this.element(k),O.element(W)):O=this.element(k,W)}else this.options.skipNullNodes&&w===null?O=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&x.indexOf(this.stringify.convertTextKey)===0?O=this.text(w):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&x.indexOf(this.stringify.convertCDataKey)===0?O=this.cdata(w):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&x.indexOf(this.stringify.convertCommentKey)===0?O=this.comment(w):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&x.indexOf(this.stringify.convertRawKey)===0?O=this.raw(w):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&x.indexOf(this.stringify.convertPIKey)===0?O=this.instruction(x.substr(this.stringify.convertPIKey.length),w):O=this.node(x,D,w);if(O==null)throw new Error("Could not create any elements with: "+x+". "+this.debugInfo());return O},b.prototype.insertBefore=function(x,D,w){var T,C,E;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(x));return C=this.parent.children.indexOf(this),E=this.parent.children.splice(C),T=this.parent.element(x,D,w),Array.prototype.push.apply(this.parent.children,E),T},b.prototype.insertAfter=function(x,D,w){var T,C,E;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(x));return C=this.parent.children.indexOf(this),E=this.parent.children.splice(C+1),T=this.parent.element(x,D,w),Array.prototype.push.apply(this.parent.children,E),T},b.prototype.remove=function(){var x;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return x=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[x,x-x+1].concat([])),this.parent},b.prototype.node=function(x,D,w){var T,C;return x!=null&&(x=d(x)),D||(D={}),D=d(D),g(D)||(C=[D,w],w=C[0],D=C[1]),T=new s(this,x,D),w!=null&&T.text(w),this.children.push(T),T},b.prototype.text=function(x){var D;return D=new c(this,x),this.children.push(D),this},b.prototype.cdata=function(x){var D;return D=new i(this,x),this.children.push(D),this},b.prototype.comment=function(x){var D;return D=new e(this,x),this.children.push(D),this},b.prototype.commentBefore=function(x){var D,w;return D=this.parent.children.indexOf(this),w=this.parent.children.splice(D),this.parent.comment(x),Array.prototype.push.apply(this.parent.children,w),this},b.prototype.commentAfter=function(x){var D,w;return D=this.parent.children.indexOf(this),w=this.parent.children.splice(D+1),this.parent.comment(x),Array.prototype.push.apply(this.parent.children,w),this},b.prototype.raw=function(x){var D;return D=new l(this,x),this.children.push(D),this},b.prototype.dummy=function(){var x;return x=new r(this),this.children.push(x),x},b.prototype.instruction=function(x,D){var w,T,C,E,S;if(x!=null&&(x=d(x)),D!=null&&(D=d(D)),Array.isArray(x))for(E=0,S=x.length;E<S;E++)w=x[E],this.instruction(w);else if(g(x))for(w in x)v.call(x,w)&&(T=x[w],this.instruction(w,T));else p(D)&&(D=D.apply()),C=new a(this,x,D),this.children.push(C);return this},b.prototype.instructionBefore=function(x,D){var w,T;return w=this.parent.children.indexOf(this),T=this.parent.children.splice(w),this.parent.instruction(x,D),Array.prototype.push.apply(this.parent.children,T),this},b.prototype.instructionAfter=function(x,D){var w,T;return w=this.parent.children.indexOf(this),T=this.parent.children.splice(w+1),this.parent.instruction(x,D),Array.prototype.push.apply(this.parent.children,T),this},b.prototype.declaration=function(x,D,w){var T,C;return T=this.document(),C=new t(T,x,D,w),T.children[0]instanceof t?T.children[0]=C:T.children.unshift(C),T.root()||T},b.prototype.doctype=function(x,D){var w,T,C,E,S,k,O,R,z,Z;for(T=this.document(),C=new n(T,x,D),z=T.children,E=S=0,O=z.length;S<O;E=++S)if(w=z[E],w instanceof n)return T.children[E]=C,C;for(Z=T.children,E=k=0,R=Z.length;k<R;E=++k)if(w=Z[E],w.isRoot)return T.children.splice(E,0,C),C;return T.children.push(C),C},b.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},b.prototype.root=function(){var x;for(x=this;x;){if(x.isDocument)return x.rootObject;if(x.isRoot)return x;x=x.parent}},b.prototype.document=function(){var x;for(x=this;x;){if(x.isDocument)return x;x=x.parent}},b.prototype.end=function(x){return this.document().end(x)},b.prototype.prev=function(){var x;for(x=this.parent.children.indexOf(this);x>0&&this.parent.children[x-1].isDummy;)x=x-1;if(x<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[x-1]},b.prototype.next=function(){var x;for(x=this.parent.children.indexOf(this);x<this.parent.children.length-1&&this.parent.children[x+1].isDummy;)x=x+1;if(x===-1||x===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[x+1]},b.prototype.importDocument=function(x){var D;return D=x.root().clone(),D.parent=this,D.isRoot=!1,this.children.push(D),this},b.prototype.debugInfo=function(x){var D,w;return x=x||this.name,x==null&&!((D=this.parent)!=null&&D.name)?"":x==null?"parent: <"+this.parent.name+">":(w=this.parent)!=null&&w.name?"node: <"+x+">, parent: <"+this.parent.name+">":"node: <"+x+">"},b.prototype.ele=function(x,D,w){return this.element(x,D,w)},b.prototype.nod=function(x,D,w){return this.node(x,D,w)},b.prototype.txt=function(x){return this.text(x)},b.prototype.dat=function(x){return this.cdata(x)},b.prototype.com=function(x){return this.comment(x)},b.prototype.ins=function(x,D){return this.instruction(x,D)},b.prototype.doc=function(){return this.document()},b.prototype.dec=function(x,D,w){return this.declaration(x,D,w)},b.prototype.dtd=function(x,D){return this.doctype(x,D)},b.prototype.e=function(x,D,w){return this.element(x,D,w)},b.prototype.n=function(x,D,w){return this.node(x,D,w)},b.prototype.t=function(x){return this.text(x)},b.prototype.d=function(x){return this.cdata(x)},b.prototype.c=function(x){return this.comment(x)},b.prototype.r=function(x){return this.raw(x)},b.prototype.i=function(x,D){return this.instruction(x,D)},b.prototype.u=function(){return this.up()},b.prototype.importXMLBuilder=function(x){return this.importDocument(x)},b})()}).call(L4)),vf.exports}var Nf={exports:{}},I4=Nf.exports,k_;function P3(){return k_||(k_=1,(function(){var i=function(t,n){return function(){return t.apply(n,arguments)}},e={}.hasOwnProperty;Nf.exports=(function(){function t(n){this.assertLegalChar=i(this.assertLegalChar,this);var r,s,a;n||(n={}),this.noDoubleEncoding=n.noDoubleEncoding,s=n.stringify||{};for(r in s)e.call(s,r)&&(a=s[r],this[r]=a)}return t.prototype.eleName=function(n){return n=""+n||"",this.assertLegalChar(n)},t.prototype.eleText=function(n){return n=""+n||"",this.assertLegalChar(this.elEscape(n))},t.prototype.cdata=function(n){return n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n)},t.prototype.comment=function(n){if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},t.prototype.raw=function(n){return""+n||""},t.prototype.attName=function(n){return n=""+n||""},t.prototype.attValue=function(n){return n=""+n||"",this.attEscape(n)},t.prototype.insTarget=function(n){return""+n||""},t.prototype.insValue=function(n){if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return n},t.prototype.xmlVersion=function(n){if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},t.prototype.xmlEncoding=function(n){if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return n},t.prototype.xmlStandalone=function(n){return n?"yes":"no"},t.prototype.dtdPubID=function(n){return""+n||""},t.prototype.dtdSysID=function(n){return""+n||""},t.prototype.dtdElementValue=function(n){return""+n||""},t.prototype.dtdAttType=function(n){return""+n||""},t.prototype.dtdAttDefault=function(n){return n!=null?""+n||"":n},t.prototype.dtdEntityValue=function(n){return""+n||""},t.prototype.dtdNData=function(n){return""+n||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(n){var r;if(r=n.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),r)throw new Error("Invalid character in string: "+n+" at index "+r.index);return n},t.prototype.elEscape=function(n){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(r,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(n){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(r,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t})()}).call(I4)),Nf.exports}var Ff={exports:{}},Bf={exports:{}},P4=Bf.exports,U_;function z3(){return U_||(U_=1,(function(){var i={}.hasOwnProperty;Bf.exports=(function(){function e(t){var n,r,s,a,l,c,d,h,p;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(r=t.allowEmpty)!=null?r:!1,this.pretty?(this.indent=(s=t.indent)!=null?s:"  ",this.newline=(a=t.newline)!=null?a:`
`,this.offset=(l=t.offset)!=null?l:0,this.dontprettytextnodes=(c=t.dontprettytextnodes)!=null?c:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(d=t.spacebeforeslash)!=null?d:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,h=t.writer||{};for(n in h)i.call(h,n)&&(p=h[n],this[n]=p)}return e.prototype.set=function(t){var n,r,s;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=t.writer||{};for(n in r)i.call(r,n)&&(s=r[n],this[n]=s);return this},e.prototype.space=function(t){var n;return this.pretty?(n=(t||0)+this.offset+1,n>0?new Array(n).join(this.indent):""):""},e})()}).call(P4)),Bf.exports}var z4=Ff.exports,M_;function Hv(){return M_||(M_=1,(function(){var i,e,t,n,r,s,a,l,c,d,h,p,g,m,v=function(x,D){for(var w in D)b.call(D,w)&&(x[w]=D[w]);function T(){this.constructor=x}return T.prototype=D.prototype,x.prototype=new T,x.__super__=D.prototype,x},b={}.hasOwnProperty;a=dg(),l=mg(),i=cg(),e=ug(),d=lg(),p=yg(),g=bg(),h=vg(),c=jv(),t=hg(),n=pg(),r=fg(),s=gg(),m=z3(),Ff.exports=(function(x){v(D,x);function D(w){D.__super__.constructor.call(this,w)}return D.prototype.document=function(w){var T,C,E,S,k;for(this.textispresent=!1,S="",k=w.children,C=0,E=k.length;C<E;C++)T=k[C],!(T instanceof c)&&(S+=(function(){switch(!1){case!(T instanceof a):return this.declaration(T);case!(T instanceof l):return this.docType(T);case!(T instanceof e):return this.comment(T);case!(T instanceof h):return this.processingInstruction(T);default:return this.element(T,0)}}).call(this));return this.pretty&&S.slice(-this.newline.length)===this.newline&&(S=S.slice(0,-this.newline.length)),S},D.prototype.attribute=function(w){return" "+w.name+'="'+w.value+'"'},D.prototype.cdata=function(w,T){return this.space(T)+"<![CDATA["+w.text+"]]>"+this.newline},D.prototype.comment=function(w,T){return this.space(T)+"<!-- "+w.text+" -->"+this.newline},D.prototype.declaration=function(w,T){var C;return C=this.space(T),C+='<?xml version="'+w.version+'"',w.encoding!=null&&(C+=' encoding="'+w.encoding+'"'),w.standalone!=null&&(C+=' standalone="'+w.standalone+'"'),C+=this.spacebeforeslash+"?>",C+=this.newline,C},D.prototype.docType=function(w,T){var C,E,S,k,O;if(T||(T=0),k=this.space(T),k+="<!DOCTYPE "+w.root().name,w.pubID&&w.sysID?k+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(k+=' SYSTEM "'+w.sysID+'"'),w.children.length>0){for(k+=" [",k+=this.newline,O=w.children,E=0,S=O.length;E<S;E++)C=O[E],k+=(function(){switch(!1){case!(C instanceof t):return this.dtdAttList(C,T+1);case!(C instanceof n):return this.dtdElement(C,T+1);case!(C instanceof r):return this.dtdEntity(C,T+1);case!(C instanceof s):return this.dtdNotation(C,T+1);case!(C instanceof i):return this.cdata(C,T+1);case!(C instanceof e):return this.comment(C,T+1);case!(C instanceof h):return this.processingInstruction(C,T+1);default:throw new Error("Unknown DTD node type: "+C.constructor.name)}}).call(this);k+="]"}return k+=this.spacebeforeslash+">",k+=this.newline,k},D.prototype.element=function(w,T){var C,E,S,k,O,R,z,Z,F,W,M,Y,B;T||(T=0),B=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Y=this.space(T),Z="",Z+=Y+"<"+w.name,F=w.attributes;for(z in F)b.call(F,z)&&(C=F[z],Z+=this.attribute(C));if(w.children.length===0||w.children.every(function(I){return I.value===""}))this.allowEmpty?Z+="></"+w.name+">"+this.newline:Z+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&w.children.length===1&&w.children[0].value!=null)Z+=">",Z+=w.children[0].value,Z+="</"+w.name+">"+this.newline;else{if(this.dontprettytextnodes){for(W=w.children,S=0,O=W.length;S<O;S++)if(E=W[S],E.value!=null){this.textispresent++,B=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,Y=this.space(T)),Z+=">"+this.newline,M=w.children,k=0,R=M.length;k<R;k++)E=M[k],Z+=(function(){switch(!1){case!(E instanceof i):return this.cdata(E,T+1);case!(E instanceof e):return this.comment(E,T+1);case!(E instanceof d):return this.element(E,T+1);case!(E instanceof p):return this.raw(E,T+1);case!(E instanceof g):return this.text(E,T+1);case!(E instanceof h):return this.processingInstruction(E,T+1);case!(E instanceof c):return"";default:throw new Error("Unknown XML node type: "+E.constructor.name)}}).call(this);B&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Z+=Y+"</"+w.name+">"+this.newline}return Z},D.prototype.processingInstruction=function(w,T){var C;return C=this.space(T)+"<?"+w.target,w.value&&(C+=" "+w.value),C+=this.spacebeforeslash+"?>"+this.newline,C},D.prototype.raw=function(w,T){return this.space(T)+w.value+this.newline},D.prototype.text=function(w,T){return this.space(T)+w.value+this.newline},D.prototype.dtdAttList=function(w,T){var C;return C=this.space(T)+"<!ATTLIST "+w.elementName+" "+w.attributeName+" "+w.attributeType,w.defaultValueType!=="#DEFAULT"&&(C+=" "+w.defaultValueType),w.defaultValue&&(C+=' "'+w.defaultValue+'"'),C+=this.spacebeforeslash+">"+this.newline,C},D.prototype.dtdElement=function(w,T){return this.space(T)+"<!ELEMENT "+w.name+" "+w.value+this.spacebeforeslash+">"+this.newline},D.prototype.dtdEntity=function(w,T){var C;return C=this.space(T)+"<!ENTITY",w.pe&&(C+=" %"),C+=" "+w.name,w.value?C+=' "'+w.value+'"':(w.pubID&&w.sysID?C+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(C+=' SYSTEM "'+w.sysID+'"'),w.nData&&(C+=" NDATA "+w.nData)),C+=this.spacebeforeslash+">"+this.newline,C},D.prototype.dtdNotation=function(w,T){var C;return C=this.space(T)+"<!NOTATION "+w.name,w.pubID&&w.sysID?C+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.pubID?C+=' PUBLIC "'+w.pubID+'"':w.sysID&&(C+=' SYSTEM "'+w.sysID+'"'),C+=this.spacebeforeslash+">"+this.newline,C},D.prototype.openNode=function(w,T){var C,E,S,k;if(T||(T=0),w instanceof d){S=this.space(T)+"<"+w.name,k=w.attributes;for(E in k)b.call(k,E)&&(C=k[E],S+=this.attribute(C));return S+=(w.children?">":"/>")+this.newline,S}else return S=this.space(T)+"<!DOCTYPE "+w.rootNodeName,w.pubID&&w.sysID?S+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(S+=' SYSTEM "'+w.sysID+'"'),S+=(w.children?" [":">")+this.newline,S},D.prototype.closeNode=function(w,T){switch(T||(T=0),!1){case!(w instanceof d):return this.space(T)+"</"+w.name+">"+this.newline;case!(w instanceof l):return this.space(T)+"]>"+this.newline}},D})(m)}).call(z4)),Ff.exports}var W4=bf.exports,R_;function j4(){return R_||(R_=1,(function(){var i,e,t,n,r=function(a,l){for(var c in l)s.call(l,c)&&(a[c]=l[c]);function d(){this.constructor=a}return d.prototype=l.prototype,a.prototype=new d,a.__super__=l.prototype,a},s={}.hasOwnProperty;n=Ua().isPlainObject,i=Si(),t=P3(),e=Hv(),bf.exports=(function(a){r(l,a);function l(c){l.__super__.constructor.call(this,null),this.name="?xml",c||(c={}),c.writer||(c.writer=new e),this.options=c,this.stringify=new t(c),this.isDocument=!0}return l.prototype.end=function(c){var d;return c?n(c)&&(d=c,c=this.options.writer.set(d)):c=this.options.writer,c.document(this)},l.prototype.toString=function(c){return this.options.writer.set(c).document(this)},l})(i)}).call(W4)),bf.exports}var Lf={exports:{}},H4=Lf.exports,O_;function q4(){return O_||(O_=1,(function(){var i,e,t,n,r,s,a,l,c,d,h,p,g,m,v,b,x,D,w,T,C={}.hasOwnProperty;T=Ua(),D=T.isObject,x=T.isFunction,w=T.isPlainObject,b=T.getValue,d=lg(),e=cg(),t=ug(),p=yg(),v=bg(),h=vg(),l=dg(),c=mg(),n=hg(),s=fg(),r=pg(),a=gg(),i=I3(),m=P3(),g=Hv(),Lf.exports=(function(){function E(S,k,O){var R;this.name="?xml",S||(S={}),S.writer?w(S.writer)&&(R=S.writer,S.writer=new g(R)):S.writer=new g(S),this.options=S,this.writer=S.writer,this.stringify=new m(S),this.onDataCallback=k||function(){},this.onEndCallback=O||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return E.prototype.node=function(S,k,O){var R,z;if(S==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(S));return this.openCurrent(),S=b(S),k===null&&O==null&&(R=[{},null],k=R[0],O=R[1]),k==null&&(k={}),k=b(k),D(k)||(z=[k,O],O=z[0],k=z[1]),this.currentNode=new d(this,S,k),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,O!=null&&this.text(O),this},E.prototype.element=function(S,k,O){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(S,k,O)},E.prototype.attribute=function(S,k){var O,R;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(S));if(S!=null&&(S=b(S)),D(S))for(O in S)C.call(S,O)&&(R=S[O],this.attribute(O,R));else x(k)&&(k=k.apply()),(!this.options.skipNullAttributes||k!=null)&&(this.currentNode.attributes[S]=new i(this,S,k));return this},E.prototype.text=function(S){var k;return this.openCurrent(),k=new v(this,S),this.onData(this.writer.text(k,this.currentLevel+1),this.currentLevel+1),this},E.prototype.cdata=function(S){var k;return this.openCurrent(),k=new e(this,S),this.onData(this.writer.cdata(k,this.currentLevel+1),this.currentLevel+1),this},E.prototype.comment=function(S){var k;return this.openCurrent(),k=new t(this,S),this.onData(this.writer.comment(k,this.currentLevel+1),this.currentLevel+1),this},E.prototype.raw=function(S){var k;return this.openCurrent(),k=new p(this,S),this.onData(this.writer.raw(k,this.currentLevel+1),this.currentLevel+1),this},E.prototype.instruction=function(S,k){var O,R,z,Z,F;if(this.openCurrent(),S!=null&&(S=b(S)),k!=null&&(k=b(k)),Array.isArray(S))for(O=0,Z=S.length;O<Z;O++)R=S[O],this.instruction(R);else if(D(S))for(R in S)C.call(S,R)&&(z=S[R],this.instruction(R,z));else x(k)&&(k=k.apply()),F=new h(this,S,k),this.onData(this.writer.processingInstruction(F,this.currentLevel+1),this.currentLevel+1);return this},E.prototype.declaration=function(S,k,O){var R;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return R=new l(this,S,k,O),this.onData(this.writer.declaration(R,this.currentLevel+1),this.currentLevel+1),this},E.prototype.doctype=function(S,k,O){if(this.openCurrent(),S==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,k,O),this.currentNode.rootNodeName=S,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},E.prototype.dtdElement=function(S,k){var O;return this.openCurrent(),O=new r(this,S,k),this.onData(this.writer.dtdElement(O,this.currentLevel+1),this.currentLevel+1),this},E.prototype.attList=function(S,k,O,R,z){var Z;return this.openCurrent(),Z=new n(this,S,k,O,R,z),this.onData(this.writer.dtdAttList(Z,this.currentLevel+1),this.currentLevel+1),this},E.prototype.entity=function(S,k){var O;return this.openCurrent(),O=new s(this,!1,S,k),this.onData(this.writer.dtdEntity(O,this.currentLevel+1),this.currentLevel+1),this},E.prototype.pEntity=function(S,k){var O;return this.openCurrent(),O=new s(this,!0,S,k),this.onData(this.writer.dtdEntity(O,this.currentLevel+1),this.currentLevel+1),this},E.prototype.notation=function(S,k){var O;return this.openCurrent(),O=new a(this,S,k),this.onData(this.writer.dtdNotation(O,this.currentLevel+1),this.currentLevel+1),this},E.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},E.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},E.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},E.prototype.openNode=function(S){if(!S.isOpen)return!this.root&&this.currentLevel===0&&S instanceof d&&(this.root=S),this.onData(this.writer.openNode(S,this.currentLevel),this.currentLevel),S.isOpen=!0},E.prototype.closeNode=function(S){if(!S.isClosed)return this.onData(this.writer.closeNode(S,this.currentLevel),this.currentLevel),S.isClosed=!0},E.prototype.onData=function(S,k){return this.documentStarted=!0,this.onDataCallback(S,k+1)},E.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},E.prototype.debugInfo=function(S){return S==null?"":"node: <"+S+">"},E.prototype.ele=function(){return this.element.apply(this,arguments)},E.prototype.nod=function(S,k,O){return this.node(S,k,O)},E.prototype.txt=function(S){return this.text(S)},E.prototype.dat=function(S){return this.cdata(S)},E.prototype.com=function(S){return this.comment(S)},E.prototype.ins=function(S,k){return this.instruction(S,k)},E.prototype.dec=function(S,k,O){return this.declaration(S,k,O)},E.prototype.dtd=function(S,k,O){return this.doctype(S,k,O)},E.prototype.e=function(S,k,O){return this.element(S,k,O)},E.prototype.n=function(S,k,O){return this.node(S,k,O)},E.prototype.t=function(S){return this.text(S)},E.prototype.d=function(S){return this.cdata(S)},E.prototype.c=function(S){return this.comment(S)},E.prototype.r=function(S){return this.raw(S)},E.prototype.i=function(S,k){return this.instruction(S,k)},E.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},E.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},E.prototype.ent=function(S,k){return this.entity(S,k)},E.prototype.pent=function(S,k){return this.pEntity(S,k)},E.prototype.not=function(S,k){return this.notation(S,k)},E})()}).call(H4)),Lf.exports}var If={exports:{}},V4=If.exports,N_;function G4(){return N_||(N_=1,(function(){var i,e,t,n,r,s,a,l,c,d,h,p,g,m,v=function(x,D){for(var w in D)b.call(D,w)&&(x[w]=D[w]);function T(){this.constructor=x}return T.prototype=D.prototype,x.prototype=new T,x.__super__=D.prototype,x},b={}.hasOwnProperty;a=dg(),l=mg(),i=cg(),e=ug(),d=lg(),p=yg(),g=bg(),h=vg(),c=jv(),t=hg(),n=pg(),r=fg(),s=gg(),m=z3(),If.exports=(function(x){v(D,x);function D(w,T){D.__super__.constructor.call(this,T),this.stream=w}return D.prototype.document=function(w){var T,C,E,S,k,O,R,z;for(O=w.children,C=0,S=O.length;C<S;C++)T=O[C],T.isLastRootNode=!1;for(w.children[w.children.length-1].isLastRootNode=!0,R=w.children,z=[],E=0,k=R.length;E<k;E++)if(T=R[E],!(T instanceof c))switch(!1){case!(T instanceof a):z.push(this.declaration(T));break;case!(T instanceof l):z.push(this.docType(T));break;case!(T instanceof e):z.push(this.comment(T));break;case!(T instanceof h):z.push(this.processingInstruction(T));break;default:z.push(this.element(T))}return z},D.prototype.attribute=function(w){return this.stream.write(" "+w.name+'="'+w.value+'"')},D.prototype.cdata=function(w,T){return this.stream.write(this.space(T)+"<![CDATA["+w.text+"]]>"+this.endline(w))},D.prototype.comment=function(w,T){return this.stream.write(this.space(T)+"<!-- "+w.text+" -->"+this.endline(w))},D.prototype.declaration=function(w,T){return this.stream.write(this.space(T)),this.stream.write('<?xml version="'+w.version+'"'),w.encoding!=null&&this.stream.write(' encoding="'+w.encoding+'"'),w.standalone!=null&&this.stream.write(' standalone="'+w.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(w))},D.prototype.docType=function(w,T){var C,E,S,k;if(T||(T=0),this.stream.write(this.space(T)),this.stream.write("<!DOCTYPE "+w.root().name),w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),w.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(w)),k=w.children,E=0,S=k.length;E<S;E++)switch(C=k[E],!1){case!(C instanceof t):this.dtdAttList(C,T+1);break;case!(C instanceof n):this.dtdElement(C,T+1);break;case!(C instanceof r):this.dtdEntity(C,T+1);break;case!(C instanceof s):this.dtdNotation(C,T+1);break;case!(C instanceof i):this.cdata(C,T+1);break;case!(C instanceof e):this.comment(C,T+1);break;case!(C instanceof h):this.processingInstruction(C,T+1);break;default:throw new Error("Unknown DTD node type: "+C.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(w))},D.prototype.element=function(w,T){var C,E,S,k,O,R,z,Z;T||(T=0),Z=this.space(T),this.stream.write(Z+"<"+w.name),R=w.attributes;for(O in R)b.call(R,O)&&(C=R[O],this.attribute(C));if(w.children.length===0||w.children.every(function(F){return F.value===""}))this.allowEmpty?this.stream.write("></"+w.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&w.children.length===1&&w.children[0].value!=null)this.stream.write(">"),this.stream.write(w.children[0].value),this.stream.write("</"+w.name+">");else{for(this.stream.write(">"+this.newline),z=w.children,S=0,k=z.length;S<k;S++)switch(E=z[S],!1){case!(E instanceof i):this.cdata(E,T+1);break;case!(E instanceof e):this.comment(E,T+1);break;case!(E instanceof d):this.element(E,T+1);break;case!(E instanceof p):this.raw(E,T+1);break;case!(E instanceof g):this.text(E,T+1);break;case!(E instanceof h):this.processingInstruction(E,T+1);break;case!(E instanceof c):break;default:throw new Error("Unknown XML node type: "+E.constructor.name)}this.stream.write(Z+"</"+w.name+">")}return this.stream.write(this.endline(w))},D.prototype.processingInstruction=function(w,T){return this.stream.write(this.space(T)+"<?"+w.target),w.value&&this.stream.write(" "+w.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(w))},D.prototype.raw=function(w,T){return this.stream.write(this.space(T)+w.value+this.endline(w))},D.prototype.text=function(w,T){return this.stream.write(this.space(T)+w.value+this.endline(w))},D.prototype.dtdAttList=function(w,T){return this.stream.write(this.space(T)+"<!ATTLIST "+w.elementName+" "+w.attributeName+" "+w.attributeType),w.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+w.defaultValueType),w.defaultValue&&this.stream.write(' "'+w.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},D.prototype.dtdElement=function(w,T){return this.stream.write(this.space(T)+"<!ELEMENT "+w.name+" "+w.value),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},D.prototype.dtdEntity=function(w,T){return this.stream.write(this.space(T)+"<!ENTITY"),w.pe&&this.stream.write(" %"),this.stream.write(" "+w.name),w.value?this.stream.write(' "'+w.value+'"'):(w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),w.nData&&this.stream.write(" NDATA "+w.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},D.prototype.dtdNotation=function(w,T){return this.stream.write(this.space(T)+"<!NOTATION "+w.name),w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.pubID?this.stream.write(' PUBLIC "'+w.pubID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},D.prototype.endline=function(w){return w.isLastRootNode?"":this.newline},D})(m)}).call(V4)),If.exports}var F_;function X4(){return F_||(F_=1,(function(){var i,e,t,n,r,s,a;a=Ua(),r=a.assign,s=a.isFunction,i=j4(),e=q4(),n=Hv(),t=G4(),Za.create=function(l,c,d,h){var p,g;if(l==null)throw new Error("Root element needs a name.");return h=r({},c,d,h),p=new i(h),g=p.element(l),h.headless||(p.declaration(h),(h.pubID!=null||h.sysID!=null)&&p.doctype(h)),g},Za.begin=function(l,c,d){var h;return s(l)&&(h=[l,c],c=h[0],d=h[1],l={}),c?new e(l,c,d):new i(l)},Za.stringWriter=function(l){return new n(l)},Za.streamWriter=function(l,c){return new t(l,c)}}).call(Za)),Za}var B_;function $4(){if(B_)return Hb;B_=1;var i=fn,e=X4();Hb.writeString=t;function t(r,s){var a=i.invert(s),l={element:d,text:n};function c(g,m){return l[m.type](g,m)}function d(g,m){var v=g.element(h(m.name),m.attributes);m.children.forEach(function(b){c(v,b)})}function h(g){var m=/^\{(.*)\}(.*)$/.exec(g);if(m){var v=a[m[1]];return v+(v===""?"":":")+m[2]}else return g}function p(g){var m=e.create(h(g.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return i.forEach(s,function(v,b){var x="xmlns"+(b===""?"":":"+b);m.attribute(x,v)}),g.children.forEach(function(v){c(m,v)}),m.end()}return p(r)}function n(r,s){r.text(s.value)}return Hb}var L_;function qv(){if(L_)return Ks;L_=1;var i=L3();return Ks.Element=i.Element,Ks.element=i.element,Ks.emptyElement=i.emptyElement,Ks.text=i.text,Ks.readString=w4().readString,Ks.writeString=$4().writeString,Ks}var I_;function Y4(){if(I_)return Vh;I_=1;var i=fn,e=ka(),t=qv();Vh.read=r,Vh.readXmlFromZipFile=s;var n={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function r(c){return t.readString(c,n).then(function(d){return l(d)[0]})}function s(c,d){return c.exists(d)?c.read(d,"utf-8").then(a).then(r):e.resolve(null)}function a(c){return c.replace(/^\uFEFF/g,"")}function l(c){return c.type==="element"?c.name==="mc:AlternateContent"?c.firstOrEmpty("mc:Fallback").children:(c.children=i.flatten(c.children.map(l,!0)),[c]):[c]}return Vh}var $h={},xr={},Yh={},P_;function K4(){if(P_)return Yh;P_=1,Object.defineProperty(Yh,"__esModule",{value:!0});var i=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return Yh.default=i,Yh}var z_;function Z4(){if(z_)return xr;z_=1;var i=xr&&xr.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(xr,"__esModule",{value:!0}),xr.hex=xr.dec=xr.codePoint=void 0;for(var e=i(K4()),t={},n=String.fromCodePoint?String.fromCodePoint:g,r=0,s=e.default;r<s.length;r++){var a=s[r],l=parseInt(a["Unicode dec"],10),c={codePoint:l,string:n(l)};t[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=c}function d(m,v){return t[m.toUpperCase()+"_"+v]}xr.codePoint=d;function h(m,v){return d(m,parseInt(v,10))}xr.dec=h;function p(m,v){return d(m,parseInt(v,16))}xr.hex=p;function g(m){if(m<=65535)return String.fromCharCode(m);var v=Math.floor((m-65536)/1024)+55296,b=(m-65536)%1024+56320;return String.fromCharCode(v,b)}return xr}var Zs={},W_;function W3(){if(W_)return Zs;W_=1;var i=fn;Zs.paragraph=e,Zs.run=t,Zs._elements=r,Zs._elementsOfType=n,Zs.getDescendantsOfType=s,Zs.getDescendants=a;function e(c){return n("paragraph",c)}function t(c){return n("run",c)}function n(c,d){return r(function(h){return h.type===c?d(h):h})}function r(c){return function d(h){if(h.children){var p=i.map(h.children,d);h=i.extend(h,{children:p})}return c(h)}}function s(c,d){return a(c).filter(function(h){return h.type===d})}function a(c){var d=[];return l(c,function(h){d.push(h)}),d}function l(c,d){c.children&&c.children.forEach(function(h){l(h,d),d(h)})}return Zs}var Kh={},j_;function Q4(){if(j_)return Kh;j_=1,Kh.uriToZipEntryName=i,Kh.replaceFragment=e;function i(t,n){return n.charAt(0)==="/"?n.substr(1):t+"/"+n}function e(t,n){var r=t.indexOf("#");return r!==-1&&(t=t.substring(0,r)),t+"#"+n}return Kh}var H_;function J4(){if(H_)return $h;H_=1,$h.createBodyReader=c,$h._readNumberingProperties=h;var i=Z4(),e=fn,t=Ro(),n=_s().Result,r=_s().warning,s=qv(),a=W3(),l=Q4();function c(E){return{readXmlElement:function(S){return new d(E).readXmlElement(S)},readXmlElements:function(S){return new d(E).readXmlElements(S)}}}function d(E){var S=[],k=[],O=[],R=E.relationships,z=E.contentTypes,Z=E.docxFile,F=E.files,W=E.numbering,M=E.styles;function Y(ue){var _e=ue.map(B);return w(_e)}function B(ue){if(ue.type==="element"){var _e=$[ue.name];if(_e)return _e(ue);if(!Object.prototype.hasOwnProperty.call(g,ue.name)){var Ne=r("An unrecognised element was ignored: "+ue.name);return m([Ne])}}return v()}function I(ue){return te(ue).map(function(_e){return{type:"paragraphProperties",styleId:_e.styleId,styleName:_e.name,alignment:ue.firstOrEmpty("w:jc").attributes["w:val"],numbering:h(_e.styleId,ue.firstOrEmpty("w:numPr"),W),indent:V(ue.firstOrEmpty("w:ind"))}})}function V(ue){return{start:ue.attributes["w:start"]||ue.attributes["w:left"],end:ue.attributes["w:end"]||ue.attributes["w:right"],firstLine:ue.attributes["w:firstLine"],hanging:ue.attributes["w:hanging"]}}function K(ue){return ce(ue).map(function(_e){var Ne=ue.firstOrEmpty("w:sz").attributes["w:val"],Be=/^[0-9]+$/.test(Ne)?parseInt(Ne,10)/2:null;return{type:"runProperties",styleId:_e.styleId,styleName:_e.name,verticalAlignment:ue.firstOrEmpty("w:vertAlign").attributes["w:val"],font:ue.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Be,isBold:L(ue.first("w:b")),isUnderline:ae(ue.first("w:u")),isItalic:L(ue.first("w:i")),isStrikethrough:L(ue.first("w:strike")),isAllCaps:L(ue.first("w:caps")),isSmallCaps:L(ue.first("w:smallCaps")),highlight:G(ue.firstOrEmpty("w:highlight").attributes["w:val"])}})}function ae(ue){if(ue){var _e=ue.attributes["w:val"];return _e!==void 0&&_e!=="false"&&_e!=="0"&&_e!=="none"}else return!1}function L(ue){if(ue){var _e=ue.attributes["w:val"];return _e!=="false"&&_e!=="0"}else return!1}function H(ue){return ue!=="false"&&ue!=="0"}function G(ue){return!ue||ue==="none"?null:ue}function te(ue){return ge(ue,"w:pStyle","Paragraph",M.findParagraphStyleById)}function ce(ue){return ge(ue,"w:rStyle","Run",M.findCharacterStyleById)}function we(ue){return ge(ue,"w:tblStyle","Table",M.findTableStyleById)}function ge(ue,_e,Ne,Be){var it=[],ft=ue.first(_e),qt=null,cn=null;if(ft&&(qt=ft.attributes["w:val"],qt)){var ti=Be(qt);ti?cn=ti.name:it.push(vt(Ne,qt))}return x({styleId:qt,name:cn},it)}function Ce(ue){var _e=ue.attributes["w:fldCharType"];if(_e==="begin")S.push({type:"begin",fldChar:ue}),k=[];else if(_e==="end"){var Ne=S.pop();if(Ne.type==="begin"&&(Ne=Fe(Ne)),Ne.type==="checkbox")return b(t.checkbox({checked:Ne.checked}))}else if(_e==="separate"){var Be=S.pop(),it=Fe(Be);S.push(it)}return v()}function Ue(){var ue=e.last(S.filter(function(_e){return _e.type==="hyperlink"}));return ue?ue.options:null}function Fe(ue){return Pe(k.join(""),ue.type==="begin"?ue.fldChar:s.emptyElement)}function Pe(ue,_e){var Ne=/\s*HYPERLINK "(.*)"/.exec(ue);if(Ne)return{type:"hyperlink",options:{href:Ne[1]}};var Be=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(ue);if(Be)return{type:"hyperlink",options:{anchor:Be[1]}};var it=/\s*FORMCHECKBOX\s*/.exec(ue);if(it){var ft=_e.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),qt=ft.first("w:checked"),cn=qt==null?L(ft.first("w:default")):L(qt);return{type:"checkbox",checked:cn}}return{type:"unknown"}}function Qe(ue){return k.push(ue.text()),v()}function pt(ue){var _e=ue.attributes["w:font"],Ne=ue.attributes["w:char"],Be=i.hex(_e,Ne);return Be==null&&/^F0..$/.test(Ne)&&(Be=i.hex(_e,Ne.substring(2))),Be==null?m([r("A w:sym element with an unsupported character was ignored: char "+Ne+" in font "+_e)]):b(new t.Text(Be.string))}function U(ue){return function(_e){var Ne=_e.attributes["w:id"];return b(new t.NoteReference({noteType:ue,noteId:Ne}))}}function le(ue){return b(t.commentReference({commentId:ue.attributes["w:id"]}))}function ie(ue){return Y(ue.children)}var $={"w:p":function(ue){var _e=ue.firstOrEmpty("w:pPr"),Ne=!!_e.firstOrEmpty("w:rPr").first("w:del");if(Ne)return ue.children.forEach(function(it){O.push(it)}),v();var Be=ue.children;return O.length>0&&(Be=O.concat(Be),O=[]),D.map(I(_e),Y(Be),function(it,ft){return new t.Paragraph(ft,it)}).insertExtra()},"w:r":function(ue){return D.map(K(ue.firstOrEmpty("w:rPr")),Y(ue.children),function(_e,Ne){var Be=Ue();return Be!==null&&(Ne=[new t.Hyperlink(Ne,Be)]),new t.Run(Ne,_e)})},"w:fldChar":Ce,"w:instrText":Qe,"w:t":function(ue){return b(new t.Text(ue.text()))},"w:tab":function(ue){return b(new t.Tab)},"w:noBreakHyphen":function(){return b(new t.Text(""))},"w:softHyphen":function(ue){return b(new t.Text(""))},"w:sym":pt,"w:hyperlink":function(ue){var _e=ue.attributes["r:id"],Ne=ue.attributes["w:anchor"];return Y(ue.children).map(function(Be){function it(qt){var cn=ue.attributes["w:tgtFrame"]||null;return new t.Hyperlink(Be,e.extend({targetFrame:cn},qt))}if(_e){var ft=R.findTargetByRelationshipId(_e);return Ne&&(ft=l.replaceFragment(ft,Ne)),it({href:ft})}else return Ne?it({anchor:Ne}):Be})},"w:tbl":X,"w:tr":ve,"w:tc":xe,"w:footnoteReference":U("footnote"),"w:endnoteReference":U("endnote"),"w:commentReference":le,"w:br":function(ue){var _e=ue.attributes["w:type"];return _e==null||_e==="textWrapping"?b(t.lineBreak):_e==="page"?b(t.pageBreak):_e==="column"?b(t.columnBreak):m([r("Unsupported break type: "+_e)])},"w:bookmarkStart":function(ue){var _e=ue.attributes["w:name"];return _e==="_GoBack"?v():b(new t.BookmarkStart({name:_e}))},"mc:AlternateContent":function(ue){return ie(ue.firstOrEmpty("mc:Fallback"))},"w:sdt":function(ue){var _e=Y(ue.firstOrEmpty("w:sdtContent").children);return _e.map(function(Ne){var Be=ue.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(Be){var it=Be.first("wordml:checked"),ft=!!it&&H(it.attributes["wordml:val"]),qt=t.checkbox({checked:ft}),cn=!1,ti=Ne.map(a._elementsOfType(t.types.text,function(P){return P.value.length>0&&!cn?(cn=!0,qt):P}));return cn?ti:qt}else return Ne})},"w:ins":ie,"w:object":ie,"w:smartTag":ie,"w:drawing":ie,"w:pict":function(ue){return ie(ue).toExtra()},"v:roundrect":ie,"v:shape":ie,"v:textbox":ie,"w:txbxContent":ie,"wp:inline":de,"wp:anchor":de,"v:imagedata":et,"v:group":ie,"v:rect":ie};return{readXmlElement:B,readXmlElements:Y};function X(ue){var _e=re(ue.firstOrEmpty("w:tblPr"));return Y(ue.children).flatMap(Q).flatMap(function(Ne){return _e.map(function(Be){return t.Table(Ne,Be)})})}function re(ue){return we(ue).map(function(_e){return{styleId:_e.styleId,styleName:_e.name}})}function ve(ue){var _e=ue.firstOrEmpty("w:trPr"),Ne=!!_e.first("w:del");if(Ne)return v();var Be=!!_e.first("w:tblHeader");return Y(ue.children).map(function(it){return t.TableRow(it,{isHeader:Be})})}function xe(ue){return Y(ue.children).map(function(_e){var Ne=ue.firstOrEmpty("w:tcPr"),Be=Ne.firstOrEmpty("w:gridSpan").attributes["w:val"],it=Be?parseInt(Be,10):1,ft=t.TableCell(_e,{colSpan:it});return ft._vMerge=se(Ne),ft})}function se(ue){var _e=ue.first("w:vMerge");if(_e){var Ne=_e.attributes["w:val"];return Ne==="continue"||!Ne}else return null}function Q(ue){var _e=e.any(ue,function(it){return it.type!==t.types.tableRow});if(_e)return J(ue),x(ue,[r("unexpected non-row element in table, cell merging may be incorrect")]);var Ne=e.any(ue,function(it){return e.any(it.children,function(ft){return ft.type!==t.types.tableCell})});if(Ne)return J(ue),x(ue,[r("unexpected non-cell element in table row, cell merging may be incorrect")]);var Be={};return ue.forEach(function(it){var ft=0;it.children.forEach(function(qt){qt._vMerge&&Be[ft]?Be[ft].rowSpan++:(Be[ft]=qt,qt._vMerge=!1),ft+=qt.colSpan})}),ue.forEach(function(it){it.children=it.children.filter(function(ft){return!ft._vMerge}),it.children.forEach(function(ft){delete ft._vMerge})}),b(ue)}function J(ue){ue.forEach(function(_e){var Ne=a.getDescendantsOfType(_e,t.types.tableCell);Ne.forEach(function(Be){delete Be._vMerge})})}function de(ue){var _e=ue.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return w(_e.map(be.bind(null,ue)))}function be(ue,_e){var Ne=ue.first("wp:docPr").attributes,Be=Re(Ne.descr)?Ne.title:Ne.descr,it=Ie(_e);return it===null?m([r("Could not find image file for a:blip element")]):nt(it,Be)}function Re(ue){return ue==null||/^\s*$/.test(ue)}function Ie(ue){var _e=ue.attributes["r:embed"],Ne=ue.attributes["r:link"];if(_e)return Ge(_e);if(Ne){var Be=R.findTargetByRelationshipId(Ne);return{path:Be,read:F.read.bind(F,Be)}}else return null}function et(ue){var _e=ue.attributes["r:id"];return _e?nt(Ge(_e),ue.attributes["o:title"]):m([r("A v:imagedata element without a relationship ID was ignored")])}function Ge(ue){var _e=l.uriToZipEntryName("word",R.findTargetByRelationshipId(ue));return{path:_e,read:Z.read.bind(Z,_e)}}function nt(ue,_e){var Ne=z.findContentType(ue.path),Be=t.Image({readImage:ue.read,altText:_e,contentType:Ne}),it=p[Ne]?[]:r("Image of type "+Ne+" is unlikely to display in web browsers");return x(Be,it)}function vt(ue,_e){return r(ue+" style with ID "+_e+" was referenced but not defined in the document")}}function h(E,S,k){var O=S.firstOrEmpty("w:ilvl").attributes["w:val"],R=S.firstOrEmpty("w:numId").attributes["w:val"];if(O!==void 0&&R!==void 0)return k.findLevel(R,O);if(E!=null){var z=k.findLevelByParagraphStyleId(E);if(z!=null)return z}return R!==void 0?k.findLevel(R,"0"):null}var p={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},g={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function m(E){return new D(null,null,E)}function v(){return new D(null)}function b(E){return new D(E)}function x(E,S){return new D(E,null,S)}function D(E,S,k){this.value=E||[],this.extra=S||[],this._result=new n({element:this.value,extra:S},k),this.messages=this._result.messages}D.prototype.toExtra=function(){return new D(null,T(this.extra,this.value),this.messages)},D.prototype.insertExtra=function(){var E=this.extra;return E&&E.length?new D(T(this.value,E),null,this.messages):this},D.prototype.map=function(E){var S=this._result.map(function(k){return E(k.element)});return new D(S.value,this.extra,S.messages)},D.prototype.flatMap=function(E){var S=this._result.flatMap(function(k){return E(k.element)._result});return new D(S.value.element,T(this.extra,S.value.extra),S.messages)},D.map=function(E,S,k){return new D(k(E.value,S.value),T(E.extra,S.extra),E.messages.concat(S.messages))};function w(E){var S=n.combine(e.pluck(E,"_result"));return new D(e.flatten(e.pluck(S.value,"element")),e.filter(e.flatten(e.pluck(S.value,"extra")),C),S.messages)}function T(E,S){return e.flatten([E,S])}function C(E){return E}return $h}var qb={},q_;function eB(){if(q_)return qb;q_=1,qb.DocumentXmlReader=t;var i=Ro(),e=_s().Result;function t(n){var r=n.bodyReader;function s(a){var l=a.first("w:body");if(l==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var c=r.readXmlElements(l.children).map(function(d){return new i.Document(d,{notes:n.notes,comments:n.comments})});return new e(c.value,c.messages)}return{convertXmlToDocument:s}}return qb}var cu={},V_;function tB(){if(V_)return cu;V_=1,cu.readRelationships=i,cu.defaultValue=new e([]),cu.Relationships=e;function i(t){var n=[];return t.children.forEach(function(r){if(r.name==="relationships:Relationship"){var s={relationshipId:r.attributes.Id,target:r.attributes.Target,type:r.attributes.Type};n.push(s)}}),new e(n)}function e(t){var n={};t.forEach(function(s){n[s.relationshipId]=s.target});var r={};return t.forEach(function(s){r[s.type]||(r[s.type]=[]),r[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return n[s]},findTargetsByType:function(s){return r[s]||[]}}}return cu}var Zh={},G_;function nB(){if(G_)return Zh;G_=1,Zh.readContentTypesFromXml=e;var i={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};Zh.defaultContentTypes=t({},{});function e(n){var r={},s={};return n.children.forEach(function(a){if(a.name==="content-types:Default"&&(r[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var l=a.attributes.PartName;l.charAt(0)==="/"&&(l=l.substring(1)),s[l]=a.attributes.ContentType}}),t(s,r)}function t(n,r){return{findContentType:function(s){var a=n[s];if(a)return a;var l=s.split("."),c=l[l.length-1];if(r.hasOwnProperty(c))return r[c];var d=i[c.toLowerCase()];return d?"image/"+d:null}}}return Zh}var uu={},X_;function iB(){if(X_)return uu;X_=1;var i=fn;uu.readNumberingXml=t,uu.Numbering=e,uu.defaultNumbering=new e({},{});function e(a,l,c){var d=i.flatten(i.values(l).map(function(m){return i.values(m.levels)})),h=i.indexBy(d.filter(function(m){return m.paragraphStyleId!=null}),"paragraphStyleId");function p(m,v){var b=a[m];if(b){var x=l[b.abstractNumId];if(x){if(x.numStyleLink==null)return l[b.abstractNumId].levels[v];var D=c.findNumberingStyleById(x.numStyleLink);return p(D.numId,v)}else return null}else return null}function g(m){return h[m]||null}return{findLevel:p,findLevelByParagraphStyleId:g}}function t(a,l){if(!l||!l.styles)throw new Error("styles is missing");var c=n(a),d=s(a);return new e(d,c,l.styles)}function n(a){var l={};return a.getElementsByTagName("w:abstractNum").forEach(function(c){var d=c.attributes["w:abstractNumId"];l[d]=r(c)}),l}function r(a){var l={},c=null;a.getElementsByTagName("w:lvl").forEach(function(h){var p=h.attributes["w:ilvl"],g=h.firstOrEmpty("w:numFmt").attributes["w:val"],m=g!=="bullet",v=h.firstOrEmpty("w:pStyle").attributes["w:val"];p===void 0?c={isOrdered:m,level:"0",paragraphStyleId:v}:l[p]={isOrdered:m,level:p,paragraphStyleId:v}}),c!==null&&l[c.level]===void 0&&(l[c.level]=c);var d=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:l,numStyleLink:d}}function s(a){var l={};return a.getElementsByTagName("w:num").forEach(function(c){var d=c.attributes["w:numId"],h=c.first("w:abstractNumId").attributes["w:val"];l[d]={abstractNumId:h}}),l}return uu}var du={},$_;function rB(){if($_)return du;$_=1,du.readStylesXml=e,du.Styles=i,du.defaultStyles=new i({},{});function i(a,l,c,d){return{findParagraphStyleById:function(h){return a[h]},findCharacterStyleById:function(h){return l[h]},findTableStyleById:function(h){return c[h]},findNumberingStyleById:function(h){return d[h]}}}i.EMPTY=new i({},{},{},{});function e(a){var l={},c={},d={},h={},p={paragraph:l,character:c,table:d,numbering:h};return a.getElementsByTagName("w:style").forEach(function(g){var m=t(g),v=p[m.type];v&&v[m.styleId]===void 0&&(v[m.styleId]=m)}),new i(l,c,d,h)}function t(a){var l=a.attributes["w:type"];if(l==="numbering")return r(l,a);var c=s(a),d=n(a);return{type:l,styleId:c,name:d}}function n(a){var l=a.first("w:name");return l?l.attributes["w:val"]:null}function r(a,l){var c=s(l),d=l.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:a,numId:d,styleId:c}}function s(a){return a.attributes["w:styleId"]}return du}var wl={},Y_;function sB(){if(Y_)return wl;Y_=1;var i=Ro(),e=_s().Result;wl.createFootnotesReader=t.bind(wl,"footnote"),wl.createEndnotesReader=t.bind(wl,"endnote");function t(n,r){function s(c){return e.combine(c.getElementsByTagName("w:"+n).filter(a).map(l))}function a(c){var d=c.attributes["w:type"];return d!=="continuationSeparator"&&d!=="separator"}function l(c){var d=c.attributes["w:id"];return r.readXmlElements(c.children).map(function(h){return i.Note({noteType:n,noteId:d,body:h})})}return s}return wl}var Vb={},K_;function aB(){if(K_)return Vb;K_=1;var i=Ro(),e=_s().Result;function t(n){function r(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var l=a.attributes["w:id"];function c(d){return(a.attributes[d]||"").trim()||null}return n.readXmlElements(a.children).map(function(d){return i.comment({commentId:l,body:d,authorName:c("w:author"),authorInitials:c("w:initials")})})}return r}return Vb.createCommentsReader=t,Vb}var Gb={},Z_;function oB(){if(Z_)return Gb;Z_=1;var i=ka();Gb.Files=e;function e(){function t(n){return i.reject(new Error("could not open external image: '"+n+`'
cannot open linked files from a web browser`))}return{read:t}}return Gb}var Q_;function lB(){if(Q_)return Wh;Q_=1,Wh.read=v,Wh._findPartPaths=b;var i=ka(),e=Ro(),t=_s().Result,n=B3(),r=Y4().readXmlFromZipFile,s=J4().createBodyReader,a=eB().DocumentXmlReader,l=tB(),c=nB(),d=iB(),h=rB(),p=sB(),g=aB(),m=oB().Files;function v(R,z,Z){z=z||{},Z=Z||{};var F=new m({externalFileAccess:Z.externalFileAccess,relativeToFile:z.path});return i.props({contentTypes:E(R),partPaths:b(R),docxFile:R,files:F}).also(function(W){return{styles:k(R,W.partPaths.styles)}}).also(function(W){return{numbering:S(R,W.partPaths.numbering,W.styles)}}).also(function(W){return{footnotes:T(W.partPaths.footnotes,W,function(M,Y){return Y?p.createFootnotesReader(M)(Y):new t([])}),endnotes:T(W.partPaths.endnotes,W,function(M,Y){return Y?p.createEndnotesReader(M)(Y):new t([])}),comments:T(W.partPaths.comments,W,function(M,Y){return Y?g.createCommentsReader(M)(Y):new t([])})}}).also(function(W){return{notes:W.footnotes.flatMap(function(M){return W.endnotes.map(function(Y){return new e.Notes(M.concat(Y))})})}}).then(function(W){return T(W.partPaths.mainDocument,W,function(M,Y){return W.notes.flatMap(function(B){return W.comments.flatMap(function(I){var V=new a({bodyReader:M,notes:B,comments:I});return V.convertXmlToDocument(Y)})})})})}function b(R){return O(R).then(function(z){var Z=x({docxFile:R,relationships:z,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!R.exists(Z))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return w({filename:C(Z),readElement:l.readRelationships,defaultValue:l.defaultValue})(R).then(function(F){function W(M){return x({docxFile:R,relationships:F,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+M,basePath:n.splitPath(Z).dirname,fallbackPath:"word/"+M+".xml"})}return{mainDocument:Z,comments:W("comments"),endnotes:W("endnotes"),footnotes:W("footnotes"),numbering:W("numbering"),styles:W("styles")}})})}function x(R){var z=R.docxFile,Z=R.relationships,F=R.relationshipType,W=R.basePath,M=R.fallbackPath,Y=Z.findTargetsByType(F),B=Y.map(function(V){return D(n.joinPath(W,V),"/")}),I=B.filter(function(V){return z.exists(V)});return I.length===0?M:I[0]}function D(R,z){return R.substring(0,z.length)===z?R.substring(z.length):R}function w(R){return function(z){return r(z,R.filename).then(function(Z){return Z?R.readElement(Z):R.defaultValue})}}function T(R,z,Z){var F=w({filename:C(R),readElement:l.readRelationships,defaultValue:l.defaultValue});return F(z.docxFile).then(function(W){var M=new s({relationships:W,contentTypes:z.contentTypes,docxFile:z.docxFile,numbering:z.numbering,styles:z.styles,files:z.files});return r(z.docxFile,R).then(function(Y){return Z(M,Y)})})}function C(R){var z=n.splitPath(R);return n.joinPath(z.dirname,"_rels",z.basename+".rels")}var E=w({filename:"[Content_Types].xml",readElement:c.readContentTypesFromXml,defaultValue:c.defaultContentTypes});function S(R,z,Z){return w({filename:z,readElement:function(F){return d.readNumberingXml(F,{styles:Z})},defaultValue:d.defaultNumbering})(R)}function k(R,z){return w({filename:z,readElement:h.readStylesXml,defaultValue:h.defaultStyles})(R)}var O=w({filename:"_rels/.rels",readElement:l.readRelationships,defaultValue:l.defaultValue});return Wh}var Qh={},J_;function cB(){if(J_)return Qh;J_=1;var i=fn,e=ka(),t=qv();Qh.writeStyleMap=a,Qh.readStyleMap=h;var n="http://schemas.zwobble.org/mammoth/style-map",r="mammoth/style-map",s="/"+r;function a(p,g){return p.write(r,g),l(p).then(function(){return c(p)})}function l(p){var g="word/_rels/document.xml.rels",m="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+m+"}Relationship";return p.read(g,"utf8").then(t.readString).then(function(b){var x=b.children;d(x,v,"Id",{Id:"rMammothStyleMap",Type:n,Target:s});var D={"":m};return p.write(g,t.writeString(b,D))})}function c(p){var g="[Content_Types].xml",m="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+m+"}Override";return p.read(g,"utf8").then(t.readString).then(function(b){var x=b.children;d(x,v,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var D={"":m};return p.write(g,t.writeString(b,D))})}function d(p,g,m,v){var b=i.find(p,function(x){return x.name===g&&x.attributes[m]===v[m]});b?b.attributes=v:p.push(t.element(g,v))}function h(p){return p.exists(r)?p.read(r,"utf8"):e.resolve(null)}return Qh}var Jh={},Qa={},ds={},Qs={},eE;function j3(){if(eE)return Qs;eE=1;var i=Dg();function e(c,d,h){return n(i.element(c,d,{fresh:!1}),h)}function t(c,d,h){var p=i.element(c,d,{fresh:!0});return n(p,h)}function n(c,d){return{type:"element",tag:c,children:d||[]}}function r(c){return{type:"text",value:c}}var s={type:"forceWrite"};Qs.freshElement=t,Qs.nonFreshElement=e,Qs.elementWithTag=n,Qs.text=r,Qs.forceWrite=s;var a={br:!0,hr:!0,img:!0,input:!0};function l(c){return c.children.length===0&&a[c.tag.tagName]}return Qs.isVoidElement=l,Qs}var Xb,tE;function uB(){if(tE)return Xb;tE=1;var i=fn,e=j3();function t(b){return n(d(b))}function n(b){var x=[];return b.map(r).forEach(function(D){c(x,D)}),x}function r(b){return s[b.type](b)}var s={element:a,text:l,forceWrite:l};function a(b){return e.elementWithTag(b.tag,n(b.children))}function l(b){return b}function c(b,x){var D=b[b.length-1];x.type==="element"&&!x.tag.fresh&&D&&D.type==="element"&&x.tag.matchesElement(D.tag)?(x.tag.separator&&c(D.children,e.text(x.tag.separator)),x.children.forEach(function(w){c(D.children,w)})):b.push(x)}function d(b){return h(b,function(x){return p[x.type](x)})}function h(b,x){return i.flatten(i.map(b,x),!0)}var p={element:m,text:v,forceWrite:g};function g(b){return[b]}function m(b){var x=d(b.children);return x.length===0&&!e.isVoidElement(b)?[]:[e.elementWithTag(b.tag,x)]}function v(b){return b.value.length===0?[]:[b]}return Xb=t,Xb}var nE;function xg(){if(nE)return ds;nE=1;var i=j3();ds.freshElement=i.freshElement,ds.nonFreshElement=i.nonFreshElement,ds.elementWithTag=i.elementWithTag,ds.text=i.text,ds.forceWrite=i.forceWrite,ds.simplify=uB();function e(a,l){l.forEach(function(c){t(a,c)})}function t(a,l){n[l.type](a,l)}var n={element:r,text:s,forceWrite:function(){}};function r(a,l){i.isVoidElement(l)?a.selfClosing(l.tag.tagName,l.tag.attributes):(a.open(l.tag.tagName,l.tag.attributes),e(a,l.children),a.close(l.tag.tagName))}function s(a,l){a.text(l.value)}return ds.write=e,ds}var iE;function Dg(){if(iE)return Qa;iE=1;var i=fn,e=xg();Qa.topLevelElement=t,Qa.elements=n,Qa.element=s;function t(l,c){return n([s(l,c,{fresh:!0})])}function n(l){return new r(l.map(function(c){return i.isString(c)?s(c):c}))}function r(l){this._elements=l}r.prototype.wrap=function(c){for(var d=c(),h=this._elements.length-1;h>=0;h--)d=this._elements[h].wrapNodes(d);return d};function s(l,c,d){return d=d||{},new a(l,c,d)}function a(l,c,d){var h={};i.isArray(l)?(l.forEach(function(p){h[p]=!0}),l=l[0]):h[l]=!0,this.tagName=l,this.tagNames=h,this.attributes=c||{},this.fresh=d.fresh,this.separator=d.separator}return a.prototype.matchesElement=function(l){return this.tagNames[l.tagName]&&i.isEqual(this.attributes||{},l.attributes||{})},a.prototype.wrap=function(c){return this.wrapNodes(c())},a.prototype.wrapNodes=function(c){return[e.elementWithTag(this,c)]},Qa.empty=n([]),Qa.ignore={wrap:function(){return[]}},Qa}var $b={},rE;function H3(){return rE||(rE=1,(function(i){var e=fn,t=ka(),n=xg();i.imgElement=r;function r(s){return function(a,l){return t.when(s(a)).then(function(c){var d={};return a.altText&&(d.alt=a.altText),e.extend(d,c),[n.freshElement("img",d)]})}}i.inline=i.imgElement,i.dataUri=r(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})})($b)),$b}var Yb={},Kb={},sE;function dB(){if(sE)return Kb;sE=1;var i=fn;Kb.writer=e;function e(l){return l=l||{},l.prettyPrint?n():r()}var t={div:!0,p:!0,ul:!0,li:!0};function n(){var l=0,c="  ",d=[],h=!0,p=!1,g=r();function m(E,S){t[E]&&T(),d.push(E),g.open(E,S),t[E]&&l++,h=!1}function v(E){t[E]&&(l--,T()),d.pop(),g.close(E)}function b(E){w();var S=C()?E:E.replace(`
`,`
`+c);g.text(S)}function x(E,S){T(),g.selfClosing(E,S)}function D(){return d.length===0||t[d[d.length-1]]}function w(){p||(T(),p=!0)}function T(){if(p=!1,!h&&D()&&!C()){g._append(`
`);for(var E=0;E<l;E++)g._append(c)}}function C(){return i.some(d,function(E){return E==="pre"})}return{asString:g.asString,open:m,close:v,text:b,selfClosing:x}}function r(){var l=[];function c(b,x){var D=p(x);l.push("<"+b+D+">")}function d(b){l.push("</"+b+">")}function h(b,x){var D=p(x);l.push("<"+b+D+" />")}function p(b){return i.map(b,function(x,D){return" "+D+'="'+a(x)+'"'}).join("")}function g(b){l.push(s(b))}function m(b){l.push(b)}function v(){return l.join("")}return{asString:v,open:c,close:d,text:g,selfClosing:h,_append:m}}function s(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return Kb}var Zb={},aE;function hB(){if(aE)return Zb;aE=1;var i=fn;function e(p){return t(p,p)}function t(p,g){return function(){return{start:p,end:g}}}function n(p){var g=p.href||"";return g?{start:"[",end:"]("+g+")",anchorPosition:"before"}:{}}function r(p){var g=p.src||"",m=p.alt||"";return g||m?{start:"!["+m+"]("+g+")"}:{}}function s(p){return function(g,m){return{start:m?`
`:"",end:m?"":`
`,list:{isOrdered:p.isOrdered,indent:m?m.indent+1:0,count:0}}}}function a(p,g,m){g=g||{indent:0,isOrdered:!1,count:0},g.count++,m.hasClosed=!1;var v=g.isOrdered?g.count+".":"-",b=c("	",g.indent)+v+" ";return{start:b,end:function(){if(!m.hasClosed)return m.hasClosed=!0,`
`}}}var l={p:t("",`

`),br:t("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:n,img:r};(function(){for(var p=1;p<=6;p++)l["h"+p]=t(c("#",p)+" ",`

`)})();function c(p,g){return new Array(g+1).join(p)}function d(){var p=[],g=[],m=null,v={};function b(E,S){S=S||{};var k=l[E]||function(){return{}},O=k(S,m,v);g.push({end:O.end,list:m}),O.list&&(m=O.list);var R=O.anchorPosition==="before";R&&x(S),p.push(O.start||""),R||x(S)}function x(E){E.id&&p.push('<a id="'+E.id+'"></a>')}function D(E){var S=g.pop();m=S.list;var k=i.isFunction(S.end)?S.end():S.end;p.push(k||"")}function w(E,S){b(E,S),D()}function T(E){p.push(h(E))}function C(){return p.join("")}return{asString:C,open:b,close:D,text:T,selfClosing:w}}Zb.writer=d;function h(p){return p.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return Zb}var oE;function fB(){if(oE)return Yb;oE=1;var i=dB(),e=hB();Yb.writer=t;function t(n){return n=n||{},n.outputFormat==="markdown"?e.writer():i.writer(n)}return Yb}var lE;function pB(){if(lE)return Jh;lE=1;var i=fn,e=ka(),t=Ro(),n=Dg(),r=_s(),s=H3(),a=xg(),l=fB();Jh.DocumentConverter=c;function c(x){return{convertToHtml:function(D){var w=i.indexBy(D.type===t.types.document?D.comments:[],"commentId"),T=new d(x,w);return T.convertToHtml(D)}}}function d(x,D){var w=1,T=[],C=[];x=i.extend({ignoreEmptyParagraphs:!0},x);var E=x.idPrefix===void 0?"":x.idPrefix,S=x.ignoreEmptyParagraphs,k=n.topLevelElement("p"),O=x.styleMap||[];function R(U){var le=[],ie=Z(U,le,{}),$=[];v(ie,function(re){re.type==="deferred"&&$.push(re)});var X={};return e.mapSeries($,function(re){return re.value().then(function(ve){X[re.id]=ve})}).then(function(){function re(xe){return m(xe,function(se){return se.type==="deferred"?X[se.id]:se.children?[i.extend({},se,{children:re(se.children)})]:[se]})}var ve=l.writer({prettyPrint:x.prettyPrint,outputFormat:x.outputFormat});return a.write(ve,a.simplify(re(ie))),new r.Result(ve.asString(),le)})}function z(U,le,ie){return m(U,function($){return Z($,le,ie)})}function Z(U,le,ie){if(!ie)throw new Error("options not set");var $=pt[U.type];return $?$(U,le,ie):[]}function F(U,le,ie){return W(U,le).wrap(function(){var $=z(U.children,le,ie);return S?$:[a.forceWrite].concat($)})}function W(U,le){var ie=I(U);return ie?ie.to:(U.styleId&&le.push(g("paragraph",U)),k)}function M(U,le,ie){var $=function(){return z(U.children,le,ie)},X=[];if(U.highlight!==null){var re=B({type:"highlight",color:U.highlight});re&&X.push(re)}U.isSmallCaps&&X.push(Y("smallCaps")),U.isAllCaps&&X.push(Y("allCaps")),U.isStrikethrough&&X.push(Y("strikethrough","s")),U.isUnderline&&X.push(Y("underline")),U.verticalAlignment===t.verticalAlignment.subscript&&X.push(n.element("sub",{},{fresh:!1})),U.verticalAlignment===t.verticalAlignment.superscript&&X.push(n.element("sup",{},{fresh:!1})),U.isItalic&&X.push(Y("italic","em")),U.isBold&&X.push(Y("bold","strong"));var ve=n.empty,xe=I(U);return xe?ve=xe.to:U.styleId&&le.push(g("run",U)),X.push(ve),X.forEach(function(se){$=se.wrap.bind(se,$)}),$()}function Y(U,le){var ie=B({type:U});return ie||(le?n.element(le,{},{fresh:!1}):n.empty)}function B(U,le){var ie=I(U);return ie?ie.to:le}function I(U){for(var le=0;le<O.length;le++)if(O[le].from.matches(U))return O[le]}function V(U){return function(le,ie){return e.attempt(function(){return U(le,ie)}).caught(function($){return ie.push(r.error($)),[]})}}function K(U){return L(U.noteType,U.noteId)}function ae(U){return H(U.noteType,U.noteId)}function L(U,le){return G(U+"-"+le)}function H(U,le){return G(U+"-ref-"+le)}function G(U){return E+U}var te=n.elements([n.element("table",{},{fresh:!0})]);function ce(U,le,ie){return B(U,te).wrap(function(){return we(U,le,ie)})}function we(U,le,ie){var $=i.findIndex(U.children,function(xe){return!xe.type===t.types.tableRow||!xe.isHeader});$===-1&&($=U.children.length);var X;if($===0)X=z(U.children,le,i.extend({},ie,{isTableHeader:!1}));else{var re=z(U.children.slice(0,$),le,i.extend({},ie,{isTableHeader:!0})),ve=z(U.children.slice($),le,i.extend({},ie,{isTableHeader:!1}));X=[a.freshElement("thead",{},re),a.freshElement("tbody",{},ve)]}return[a.forceWrite].concat(X)}function ge(U,le,ie){var $=z(U.children,le,ie);return[a.freshElement("tr",{},[a.forceWrite].concat($))]}function Ce(U,le,ie){var $=ie.isTableHeader?"th":"td",X=z(U.children,le,ie),re={};return U.colSpan!==1&&(re.colspan=U.colSpan.toString()),U.rowSpan!==1&&(re.rowspan=U.rowSpan.toString()),[a.freshElement($,re,[a.forceWrite].concat(X))]}function Ue(U,le,ie){return B(U,n.ignore).wrap(function(){var $=D[U.commentId],X=C.length+1,re="["+b($)+X+"]";return C.push({label:re,comment:$}),[a.freshElement("a",{href:"#"+L("comment",U.commentId),id:H("comment",U.commentId)},[a.text(re)])]})}function Fe(U,le,ie){var $=U.label,X=U.comment,re=z(X.body,le,ie).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+H("comment",X.commentId)},[a.text("")])])]);return[a.freshElement("dt",{id:L("comment",X.commentId)},[a.text("Comment "+$)]),a.freshElement("dd",{},re)]}function Pe(U,le,ie){return Qe(U).wrap(function(){return[]})}function Qe(U){var le=I(U);return le?le.to:U.breakType==="line"?n.topLevelElement("br"):n.empty}var pt={document:function(U,le,ie){var $=z(U.children,le,ie),X=T.map(function(ve){return U.notes.resolve(ve)}),re=z(X,le,ie);return $.concat([a.freshElement("ol",{},re),a.freshElement("dl",{},m(C,function(ve){return Fe(ve,le,ie)}))])},paragraph:F,run:M,text:function(U,le,ie){return[a.text(U.value)]},tab:function(U,le,ie){return[a.text("	")]},hyperlink:function(U,le,ie){var $=U.anchor?"#"+G(U.anchor):U.href,X={href:$};U.targetFrame!=null&&(X.target=U.targetFrame);var re=z(U.children,le,ie);return[a.nonFreshElement("a",X,re)]},checkbox:function(U){var le={type:"checkbox"};return U.checked&&(le.checked="checked"),[a.freshElement("input",le)]},bookmarkStart:function(U,le,ie){var $=a.freshElement("a",{id:G(U.name)},[a.forceWrite]);return[$]},noteReference:function(U,le,ie){T.push(U);var $=a.freshElement("a",{href:"#"+K(U),id:ae(U)},[a.text("["+w+++"]")]);return[a.freshElement("sup",{},[$])]},note:function(U,le,ie){var $=z(U.body,le,ie),X=a.elementWithTag(n.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+ae(U)},[a.text("")])]),re=$.concat([X]);return a.freshElement("li",{id:K(U)},re)},commentReference:Ue,comment:Fe,image:p(V(x.convertImage||s.dataUri)),table:ce,tableRow:ge,tableCell:Ce,break:Pe};return{convertToHtml:R}}var h=1;function p(x){return function(D,w,T){return[{type:"deferred",id:h++,value:function(){return x(D,w,T)}}]}}function g(x,D){return r.warning("Unrecognised "+x+" style: '"+D.styleName+"' (Style ID: "+D.styleId+")")}function m(x,D){return i.flatten(x.map(D),!0)}function v(x,D){x.forEach(function(w){D(w),w.children&&v(w.children,D)})}var b=Jh.commentAuthorLabel=function(D){return D.authorInitials||""};return Jh}var Qb={},cE;function gB(){if(cE)return Qb;cE=1;var i=Ro();function e(t){if(t.type==="text")return t.value;if(t.type===i.types.tab)return"	";var n=t.type==="paragraph"?`

`:"";return(t.children||[]).map(e).join("")+n}return Qb.convertElementToRawText=e,Qb}var hu={},Dr={},Jb={},e0={exports:{}},uE;function mB(){if(uE)return e0.exports;uE=1;var i=e0.exports=function(e,t){this._tokens=e,this._startIndex=t||0};return i.prototype.head=function(){return this._tokens[this._startIndex]},i.prototype.tail=function(e){return new i(this._tokens,this._startIndex+1)},i.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},i.prototype.end=function(){return this._tokens[this._tokens.length-1]},i.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)},e0.exports}var dE;function yB(){if(dE)return Jb;dE=1;var i=mB();return Jb.Parser=function(e){var t=function(n,r){return n(new i(r))};return{parseTokens:t}},Jb}var t0={},n0={},hE;function bB(){return hE||(hE=1,(function(i){i.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return i.none},flatMap:function(){return i.none},filter:function(){return i.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(n){return typeof n=="function"?n():n}i.some=function(n){return new t(n)};var t=function(n){this._value=n};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(n){return new t(n(this._value))},t.prototype.flatMap=function(n){return n(this._value)},t.prototype.filter=function(n){return n(this._value)?this:i.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(n){return this},t.prototype.valueOrElse=function(n){return this._value},i.isOption=function(n){return n===i.none||n instanceof t},i.fromNullable=function(n){return n==null?i.none:new t(n)}})(n0)),n0}var i0,fE;function Vv(){if(fE)return i0;fE=1,i0={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new i({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new i({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new i({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new i({status:"cut",remaining:e,errors:[]})}};var i=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return i.prototype.map=function(e){return this._hasValue?new i({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},i.prototype.changeRemaining=function(e){return new i({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},i.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},i.prototype.isFailure=function(){return this._status==="failure"},i.prototype.isError=function(){return this._status==="error"},i.prototype.isCut=function(){return this._status==="cut"},i.prototype.value=function(){return this._value},i.prototype.remaining=function(){return this._remaining},i.prototype.source=function(){return this._source},i.prototype.errors=function(){return this._errors},i0}var r0={},pE;function q3(){if(pE)return r0;pE=1,r0.error=function(e){return new i(e)};var i=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return i.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},i.prototype.lineNumber=function(){return this._location.lineNumber()},i.prototype.characterNumber=function(){return this._location.characterNumber()},r0}var s0={},gE;function vB(){if(gE)return s0;gE=1,s0.fromArray=function(e){var t=0,n=function(){return t<e.length};return new i({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})};var i=function(e){this._iterator=e};return i.prototype.map=function(e){var t=this._iterator;return new i({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},i.prototype.filter=function(e){var t=this._iterator,n=!1,r=!1,s,a=function(){if(!n)for(n=!0,r=!1;t.hasNext()&&!r;)s=t.next(),r=e(s)};return new i({hasNext:function(){return a(),r},next:function(){a();var l=s;return n=!1,l}})},i.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},i.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},s0}var mE;function V3(){return mE||(mE=1,(function(i){var e=fn,t=bB(),n=Vv(),r=q3(),s=vB();i.token=function(g,m){var v=m!==void 0;return function(b){var x=b.head();if(x&&x.name===g&&(!v||x.value===m))return n.success(x.value,b.tail(),x.source);var D=h({name:g,value:m});return p(b,D)}},i.tokenOfType=function(g){return i.token(g)},i.firstOf=function(g,m){return e.isArray(m)||(m=Array.prototype.slice.call(arguments,1)),function(v){return s.fromArray(m).map(function(b){return b(v)}).filter(function(b){return b.isSuccess()||b.isError()}).first()||p(v,g)}},i.then=function(g,m){return function(v){var b=g(v);return b.map||console.log(b),b.map(m)}},i.sequence=function(){var g=Array.prototype.slice.call(arguments,0),m=function(b){var x=e.foldl(g,function(w,T){var C=w.result,E=w.hasCut;if(!C.isSuccess())return{result:C,hasCut:E};var S=T(C.remaining());if(S.isCut())return{result:C,hasCut:!0};if(S.isSuccess()){var k;T.isCaptured?k=C.value().withValue(T,S.value()):k=C.value();var O=S.remaining(),R=b.to(O);return{result:n.success(k,O,R),hasCut:E}}else return E?{result:n.error(S.errors(),S.remaining()),hasCut:E}:{result:S,hasCut:E}},{result:n.success(new a,b),hasCut:!1}).result,D=b.to(x.remaining());return x.map(function(w){return w.withValue(i.sequence.source,D)})};m.head=function(){var b=e.find(g,v);return i.then(m,i.sequence.extract(b))},m.map=function(b){return i.then(m,function(x){return b.apply(this,x.toArray())})};function v(b){return b.isCaptured}return m};var a=function(g,m){this._values=g||{},this._valuesArray=m||[]};a.prototype.withValue=function(g,m){if(g.captureName&&g.captureName in this._values)throw new Error('Cannot add second value for capture "'+g.captureName+'"');var v=e.clone(this._values);v[g.captureName]=m;var b=this._valuesArray.concat([m]);return new a(v,b)},a.prototype.get=function(g){if(g.captureName in this._values)return this._values[g.captureName];throw new Error('No value for capture "'+g.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},i.sequence.capture=function(g,m){var v=function(){return g.apply(this,arguments)};return v.captureName=m,v.isCaptured=!0,v},i.sequence.extract=function(g){return function(m){return m.get(g)}},i.sequence.applyValues=function(g){var m=Array.prototype.slice.call(arguments,1);return function(v){var b=m.map(function(x){return v.get(x)});return g.apply(this,b)}},i.sequence.source={captureName:"source"},i.sequence.cut=function(){return function(g){return n.cut(g)}},i.optional=function(g){return function(m){var v=g(m);return v.isSuccess()?v.map(t.some):v.isFailure()?n.success(t.none,m):v}},i.zeroOrMoreWithSeparator=function(g,m){return d(g,m,!1)},i.oneOrMoreWithSeparator=function(g,m){return d(g,m,!0)};var l=i.zeroOrMore=function(g){return function(m){for(var v=[],b;(b=g(m))&&b.isSuccess();)m=b.remaining(),v.push(b.value());return b.isError()?b:n.success(v,m)}};i.oneOrMore=function(g){return i.oneOrMoreWithSeparator(g,c)};function c(g){return n.success(null,g)}var d=function(g,m,v){return function(b){var x=g(b);if(x.isSuccess()){var D=i.sequence.capture(g,"main"),w=l(i.then(i.sequence(m,D),i.sequence.extract(D))),T=w(x.remaining());return n.success([x.value()].concat(T.value()),T.remaining())}else return v||x.isError()?x:n.success([],b)}};i.leftAssociative=function(g,m,v){var b;v?b=[{func:v,rule:m}]:b=m,b=b.map(function(D){return i.then(D.rule,function(w){return function(T,C){return D.func(T,w,C)}})});var x=i.firstOf.apply(null,["rules"].concat(b));return function(D){var w=D,T=g(D);if(!T.isSuccess())return T;for(var C=x(T.remaining());C.isSuccess();){var E=C.remaining(),S=w.to(C.remaining()),k=C.value();T=n.success(k(T.value(),S),E,S),C=x(T.remaining())}return C.isError()?C:T}},i.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},i.nonConsuming=function(g){return function(m){return g(m).changeRemaining(m)}};var h=function(g){return g.value?g.name+' "'+g.value+'"':g.name};function p(g,m){var v,b=g.head();return b?v=r.error({expected:m,actual:h(b),location:b.source}):v=r.error({expected:m,actual:"end of tokens"}),n.failure([v],g)}})(t0)),t0}var a0={exports:{}},yE;function G3(){if(yE)return a0.exports;yE=1,a0.exports=function(e,t){var n={asString:function(){return e},range:function(r,s){return new i(e,t,r,s)}};return n};var i=function(e,t,n,r){this._string=e,this._description=t,this._startIndex=n,this._endIndex=r};return i.prototype.to=function(e){return new i(this._string,this._description,this._startIndex,e._endIndex)},i.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},i.prototype.lineNumber=function(){return this._position().lineNumber},i.prototype.characterNumber=function(){return this._position().characterNumber},i.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf(`
`,t)},r=1;n()!==-1&&n()<this._startIndex;)t=n()+1,r+=1;var s=this._startIndex-t+1;return{lineNumber:r,characterNumber:s}},a0.exports}var o0,bE;function X3(){return bE||(bE=1,o0=function(i,e,t){this.name=i,this.value=e,t&&(this.source=t)}),o0}var l0={},vE;function xB(){return vE||(vE=1,(function(i){var e=V3(),t=Vv();i.parser=function(s,a,l){var c={rule:g,leftAssociative:m,rightAssociative:v},d=new n(l.map(p)),h=e.firstOf(s,a);function p(D){return{name:D.name,rule:r(D.ruleBuilder.bind(null,c))}}function g(){return b(d)}function m(D){return b(d.untilExclusive(D))}function v(D){return b(d.untilInclusive(D))}function b(D){return x.bind(null,D)}function x(D,w){var T=h(w);return T.isSuccess()?D.apply(T):T}return c};function n(s){function a(p){return new n(s.slice(0,c().indexOf(p)))}function l(p){return new n(s.slice(0,c().indexOf(p)+1))}function c(){return s.map(function(p){return p.name})}function d(p){for(var g,m;;)if(g=h(p.remaining()),g.isSuccess())m=p.source().to(g.source()),p=t.success(g.value()(p.value(),m),g.remaining(),m);else return g.isFailure()?p:g}function h(p){return e.firstOf("infix",s.map(function(g){return g.rule}))(p)}return{apply:d,untilExclusive:a,untilInclusive:l}}i.infix=function(s,a){function l(c){return i.infix(s,function(d){var h=a(d);return function(p){var g=h(p);return g.map(function(m){return function(v,b){return c(v,m,b)}})}})}return{name:s,ruleBuilder:a,map:l}};var r=function(s){var a;return function(l){return a||(a=s()),a(l)}}})(l0)),l0}var c0={},xE;function DB(){if(xE)return c0;xE=1;var i=X3(),e=G3();c0.RegexTokeniser=t;function t(n){n=n.map(function(l){return{name:l.name,regex:new RegExp(l.regex.source,"g")}});function r(l,c){for(var d=new e(l,c),h=0,p=[];h<l.length;){var g=s(l,h,d);h=g.endIndex,p.push(g.token)}return p.push(a(l,d)),p}function s(l,c,d){for(var h=0;h<n.length;h++){var p=n[h].regex;p.lastIndex=c;var g=p.exec(l);if(g){var v=c+g[0].length;if(g.index===c&&v>c){var m=g[1],b=new i(n[h].name,m,d.range(c,v));return{token:b,endIndex:v}}}}var v=c+1,b=new i("unrecognisedCharacter",l.substring(c,v),d.range(c,v));return{token:b,endIndex:v}}function a(l,c){return new i("end",null,c.range(l.length,l.length))}return{tokenise:r}}return c0}var DE;function $3(){return DE||(DE=1,Dr.Parser=yB().Parser,Dr.rules=V3(),Dr.errors=q3(),Dr.results=Vv(),Dr.StringSource=G3(),Dr.Token=X3(),Dr.bottomUp=xB(),Dr.RegexTokeniser=DB().RegexTokeniser,Dr.rule=function(i){var e;return function(t){return e||(e=i()),e(t)}}),Dr}var Un={},wE;function wB(){if(wE)return Un;wE=1,Un.paragraph=i,Un.run=e,Un.table=t,Un.bold=new r("bold"),Un.italic=new r("italic"),Un.underline=new r("underline"),Un.strikethrough=new r("strikethrough"),Un.allCaps=new r("allCaps"),Un.smallCaps=new r("smallCaps"),Un.highlight=n,Un.commentReference=new r("commentReference"),Un.lineBreak=new a({breakType:"line"}),Un.pageBreak=new a({breakType:"page"}),Un.columnBreak=new a({breakType:"column"}),Un.equalTo=c,Un.startsWith=d;function i(g){return new r("paragraph",g)}function e(g){return new r("run",g)}function t(g){return new r("table",g)}function n(g){return new s(g)}function r(g,m){m=m||{},this._elementType=g,this._styleId=m.styleId,this._styleName=m.styleName,m.list&&(this._listIndex=m.list.levelIndex,this._listIsOrdered=m.list.isOrdered)}r.prototype.matches=function(g){return g.type===this._elementType&&(this._styleId===void 0||g.styleId===this._styleId)&&(this._styleName===void 0||g.styleName&&this._styleName.operator(this._styleName.operand,g.styleName))&&(this._listIndex===void 0||l(g,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===g.breakType)};function s(g){g=g||{},this._color=g.color}s.prototype.matches=function(g){return g.type==="highlight"&&(this._color===void 0||g.color===this._color)};function a(g){g=g||{},this._breakType=g.breakType}a.prototype.matches=function(g){return g.type==="break"&&(this._breakType===void 0||g.breakType===this._breakType)};function l(g,m,v){return g.numbering&&g.numbering.level==m&&g.numbering.isOrdered==v}function c(g){return{operator:h,operand:g}}function d(g){return{operator:p,operand:g}}function h(g,m){return g.toUpperCase()===m.toUpperCase()}function p(g,m){return m.toUpperCase().indexOf(g.toUpperCase())===0}return Un}var u0={},AE;function AB(){if(AE)return u0;AE=1;var i=$3(),e=i.RegexTokeniser;u0.tokenise=n;var t="'((?:\\\\.|[^'])*)";function n(r){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(t+"'")},{name:"unterminated-string",regex:new RegExp(t)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(r)}return u0}var TE;function TB(){if(TE)return hu;TE=1;var i=fn,e=$3(),t=wB(),n=Dg(),r=AB().tokenise,s=_s();hu.readHtmlPath=h,hu.readDocumentMatcher=c,hu.readStyle=a;function a(O){return C(k,O)}function l(){return e.rules.sequence(e.rules.sequence.capture(d()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(p())).head())),e.rules.tokenOfType("end")).map(function(O,R){return{from:O,to:R.valueOrElse(n.empty)}})}function c(O){return C(d(),O)}function d(){var O=e.rules.sequence,R=function(Fe,Pe){return e.rules.then(e.rules.token("identifier",Fe),function(){return Pe})},z=R("p",t.paragraph),Z=R("r",t.run),F=e.rules.firstOf("p or r or table",z,Z),W=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(g)).map(function(Fe){return{styleId:Fe}}),M=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(Fe){return{styleName:t.equalTo(Fe)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(Fe){return{styleName:t.startsWith(Fe)}})),Y=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(M),e.rules.tokenOfType("close-square-bracket")).head(),B=e.rules.firstOf("list type",R("ordered-list",{isOrdered:!0}),R("unordered-list",{isOrdered:!1})),I=O(e.rules.tokenOfType("colon"),O.capture(B),O.cut(),e.rules.tokenOfType("open-paren"),O.capture(m),e.rules.tokenOfType("close-paren")).map(function(Fe,Pe){return{list:{isOrdered:Fe.isOrdered,levelIndex:Pe-1}}});function V(Fe){var Pe=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(Fe)),Qe=e.rules.zeroOrMore(Pe);return e.rules.then(Qe,function(pt){var U={};return pt.forEach(function(le){i.extend(U,le)}),U})}var K=O(O.capture(F),O.capture(V([W,Y,I]))).map(function(Fe,Pe){return Fe(Pe)}),ae=O(e.rules.token("identifier","table"),O.capture(V([W,Y]))).map(function(Fe){return t.table(Fe)}),L=R("b",t.bold),H=R("i",t.italic),G=R("u",t.underline),te=R("strike",t.strikethrough),ce=R("all-caps",t.allCaps),we=R("small-caps",t.smallCaps),ge=O(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(Fe){return t.highlight({color:Fe.valueOrElse(void 0)})}),Ce=R("comment-reference",t.commentReference),Ue=O(e.rules.token("identifier","br"),O.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),O.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(Fe){switch(Fe){case"line":return t.lineBreak;case"page":return t.pageBreak;case"column":return t.columnBreak}});return e.rules.firstOf("element type",K,ae,L,H,G,te,ce,we,ge,Ce,Ue)}function h(O){return C(p(),O)}function p(){var O=e.rules.sequence.capture,R=e.rules.tokenOfType("whitespace"),z=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(M){return M.map(function(){return!0}).valueOrElse(!1)}),Z=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),O(v),e.rules.tokenOfType("close-paren")).head()),function(M){return M.valueOrElse("")}),F=e.rules.oneOrMoreWithSeparator(g,e.rules.tokenOfType("choice")),W=e.rules.sequence(O(F),O(e.rules.zeroOrMore(T)),O(z),O(Z)).map(function(M,Y,B,I){var V={},K={};return Y.forEach(function(ae){ae.append&&V[ae.name]?V[ae.name]+=" "+ae.value:V[ae.name]=ae.value}),B&&(K.fresh=!0),I&&(K.separator=I),n.element(M,V,K)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return n.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(W,e.rules.sequence(R,e.rules.tokenOfType("gt"),R)),n.elements))}var g=e.rules.then(e.rules.tokenOfType("identifier"),x),m=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),x),b={n:`
`,r:"\r",t:"	"};function x(O){return O.replace(/\\(.)/g,function(R,z){return b[z]||z})}var D=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(g),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(O,R){return{name:O,value:R,append:!1}}),w=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(g)).map(function(O){return{name:"class",value:O,append:!0}}),T=e.rules.firstOf("attribute or class",D,w);function C(O,R){var z=r(R),Z=e.Parser(),F=Z.parseTokens(O,z);return F.isSuccess()?s.success(F.value()):new s.Result(null,[s.warning(E(R,F))])}function E(O,R){return"Did not understand this style mapping, so ignored it: "+O+`
`+R.errors().map(S).join(`
`)}function S(O){return"Error was at character number "+O.characterNumber()+": Expected "+O.expected+" but got "+O.actual}var k=l();return hu}var fu={},_E;function _B(){if(_E)return fu;_E=1,fu.readOptions=n;var i=fn,e=fu._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],t=fu._standardOptions={externalFileAccess:!1,transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function n(a){return a=a||{},i.extend({},t,a,{customStyleMap:r(a.styleMap),readStyleMap:function(){var l=this.customStyleMap;return this.includeEmbeddedStyleMap&&(l=l.concat(r(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(l=l.concat(e)),l}})}function r(a){return a?i.isString(a)?a.split(`
`).map(function(l){return l.trim()}).filter(function(l){return l!==""&&l.charAt(0)!=="#"}):a:[]}function s(a){return a}return fu}var d0={},EE;function EB(){if(EE)return d0;EE=1;var i=ka(),e=B3();d0.openZip=t;function t(n){return n.arrayBuffer?i.resolve(e.openArrayBuffer(n.arrayBuffer)):i.reject(new Error("Could not find file in options"))}return d0}var h0={},SE;function SB(){if(SE)return h0;SE=1;var i=Dg(),e=xg();h0.element=t;function t(n){return function(r){return e.elementWithTag(i.element(n),[r])}}return h0}var CE;function CB(){if(CE)return ir;CE=1;var i=fn,e=lB(),t=cB(),n=pB().DocumentConverter,r=gB().convertElementToRawText,s=TB().readStyle,a=_B().readOptions,l=EB(),c=_s().Result;ir.convertToHtml=d,ir.convertToMarkdown=h,ir.convert=p,ir.extractRawText=b,ir.images=H3(),ir.transforms=W3(),ir.underline=SB(),ir.embedStyleMap=x,ir.readEmbeddedStyleMap=g;function d(D,w){return p(D,w)}function h(D,w){var T=Object.create(w||{});return T.outputFormat="markdown",p(D,T)}function p(D,w){return w=a(w),l.openZip(D).tap(function(T){return t.readStyleMap(T).then(function(C){w.embeddedStyleMap=C})}).then(function(T){return e.read(T,D,w).then(function(C){return C.map(w.transformDocument)}).then(function(C){return m(C,w)})})}function g(D){return l.openZip(D).then(t.readStyleMap)}function m(D,w){var T=v(w.readStyleMap()),C=i.extend({},w,{styleMap:T.value}),E=new n(C);return D.flatMapThen(function(S){return T.flatMapThen(function(k){return E.convertToHtml(S)})})}function v(D){return c.combine((D||[]).map(s)).map(function(w){return w.filter(function(T){return!!T})})}function b(D){return l.openZip(D).then(e.read).then(function(w){return w.map(r)})}function x(D,w){return l.openZip(D).tap(function(T){return t.writeStyleMap(T,w)}).then(function(T){return T.toArrayBuffer()}).then(function(T){return{toArrayBuffer:function(){return T},toBuffer:function(){return Buffer.from(T)}}})}return ir.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},ir}var kB=CB();const UB=Hp(kB);Wl.workerSrc=`https://unpkg.com/pdfjs-dist@${tk}/build/pdf.worker.min.mjs`;async function MB(i){if(i.type==="application/pdf")return RB(i);if(i.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||i.name.endsWith(".docx"))return OB(i);throw new Error("Formato de arquivo no suportado. Use PDF ou DOCX.")}async function RB(i){const e=await i.arrayBuffer(),t=await ZC({data:e}).promise;let n="";for(let r=1;r<=t.numPages;r++){const s=await t.getPage(r),a=await s.getTextContent(),l=s.getViewport({scale:1}),c=a.items.sort((g,m)=>{const v=m.transform[5]-g.transform[5];return Math.abs(v)>5?v:g.transform[4]-m.transform[4]});let d=-1,h="",p="";for(const g of c){const m=g.transform[5],v=g.str;d===-1?(d=m,h=v):Math.abs(m-d)<8?h+=" "+v:(h.trim()&&(p+=`<p>${h}</p>`),d=m,h=v)}h.trim()&&(p+=`<p>${h}</p>`),n+=`<div class="page-content" style="position: relative; min-height: ${l.height}px; width: 100%; max-width: ${l.width}px; margin: 0 auto; padding: 20px; background: white; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-bottom: 20px;">${p}</div>`}return n}async function OB(i){const e=await i.arrayBuffer();return(await UB.convertToHtml({arrayBuffer:e})).value}var kE;(function(i){i.STRING="string",i.NUMBER="number",i.INTEGER="integer",i.BOOLEAN="boolean",i.ARRAY="array",i.OBJECT="object"})(kE||(kE={}));var UE;(function(i){i.LANGUAGE_UNSPECIFIED="language_unspecified",i.PYTHON="python"})(UE||(UE={}));var ME;(function(i){i.OUTCOME_UNSPECIFIED="outcome_unspecified",i.OUTCOME_OK="outcome_ok",i.OUTCOME_FAILED="outcome_failed",i.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ME||(ME={}));const RE=["user","model","function","system"];var OE;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(OE||(OE={}));var NE;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(NE||(NE={}));var FE;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(FE||(FE={}));var BE;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER"})(BE||(BE={}));var Tu;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.OTHER="OTHER"})(Tu||(Tu={}));var LE;(function(i){i.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",i.RETRIEVAL_QUERY="RETRIEVAL_QUERY",i.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",i.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",i.CLASSIFICATION="CLASSIFICATION",i.CLUSTERING="CLUSTERING"})(LE||(LE={}));var IE;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(IE||(IE={}));var PE;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(PE||(PE={}));class Kn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Al extends Kn{constructor(e,t){super(e),this.response=t}}class Y3 extends Kn{constructor(e,t,n,r){super(e),this.status=t,this.statusText=n,this.errorDetails=r}}class pa extends Kn{}class K3 extends Kn{}const NB="https://generativelanguage.googleapis.com",FB="v1beta",BB="0.24.1",LB="genai-js";var Do;(function(i){i.GENERATE_CONTENT="generateContent",i.STREAM_GENERATE_CONTENT="streamGenerateContent",i.COUNT_TOKENS="countTokens",i.EMBED_CONTENT="embedContent",i.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Do||(Do={}));class IB{constructor(e,t,n,r,s){this.model=e,this.task=t,this.apiKey=n,this.stream=r,this.requestOptions=s}toString(){var e,t;const n=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||FB;let s=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||NB}/${n}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function PB(i){const e=[];return i?.apiClient&&e.push(i.apiClient),e.push(`${LB}/${BB}`),e.join(" ")}async function zB(i){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",PB(i.requestOptions)),t.append("x-goog-api-key",i.apiKey);let n=(e=i.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(r){throw new pa(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${r.message}`)}for(const[r,s]of n.entries()){if(r==="x-goog-api-key")throw new pa(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new pa(`Header name ${r} can only be set using the apiClient field`);t.append(r,s)}}return t}async function WB(i,e,t,n,r,s){const a=new IB(i,e,t,n,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},VB(s)),{method:"POST",headers:await zB(a),body:r})}}async function gd(i,e,t,n,r,s={},a=fetch){const{url:l,fetchOptions:c}=await WB(i,e,t,n,r,s);return jB(l,c,a)}async function jB(i,e,t=fetch){let n;try{n=await t(i,e)}catch(r){HB(r,i)}return n.ok||await qB(n,i),n}function HB(i,e){let t=i;throw t.name==="AbortError"?(t=new K3(`Request aborted when fetching ${e.toString()}: ${i.message}`),t.stack=i.stack):i instanceof Y3||i instanceof pa||(t=new Kn(`Error fetching from ${e.toString()}: ${i.message}`),t.stack=i.stack),t}async function qB(i,e){let t="",n;try{const r=await i.json();t=r.error.message,r.error.details&&(t+=` ${JSON.stringify(r.error.details)}`,n=r.error.details)}catch{}throw new Y3(`Error fetching from ${e.toString()}: [${i.status} ${i.statusText}] ${t}`,i.status,i.statusText,n)}function VB(i){const e={};if(i?.signal!==void 0||i?.timeout>=0){const t=new AbortController;i?.timeout>=0&&setTimeout(()=>t.abort(),i.timeout),i?.signal&&i.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}function Gv(i){return i.text=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Pf(i.candidates[0]))throw new Al(`${na(i)}`,i);return GB(i)}else if(i.promptFeedback)throw new Al(`Text not available. ${na(i)}`,i);return""},i.functionCall=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Pf(i.candidates[0]))throw new Al(`${na(i)}`,i);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),zE(i)[0]}else if(i.promptFeedback)throw new Al(`Function call not available. ${na(i)}`,i)},i.functionCalls=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Pf(i.candidates[0]))throw new Al(`${na(i)}`,i);return zE(i)}else if(i.promptFeedback)throw new Al(`Function call not available. ${na(i)}`,i)},i}function GB(i){var e,t,n,r;const s=[];if(!((t=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const a of(r=(n=i.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0?void 0:r.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function zE(i){var e,t,n,r;const s=[];if(!((t=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const a of(r=(n=i.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0?void 0:r.parts)a.functionCall&&s.push(a.functionCall);if(s.length>0)return s}const XB=[Tu.RECITATION,Tu.SAFETY,Tu.LANGUAGE];function Pf(i){return!!i.finishReason&&XB.includes(i.finishReason)}function na(i){var e,t,n;let r="";if((!i.candidates||i.candidates.length===0)&&i.promptFeedback)r+="Response was blocked",!((e=i.promptFeedback)===null||e===void 0)&&e.blockReason&&(r+=` due to ${i.promptFeedback.blockReason}`),!((t=i.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(r+=`: ${i.promptFeedback.blockReasonMessage}`);else if(!((n=i.candidates)===null||n===void 0)&&n[0]){const s=i.candidates[0];Pf(s)&&(r+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(r+=`: ${s.finishMessage}`))}return r}function Gu(i){return this instanceof Gu?(this.v=i,this):new Gu(i)}function $B(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(i,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(g){n[g]&&(r[g]=function(m){return new Promise(function(v,b){s.push([g,m,v,b])>1||l(g,m)})})}function l(g,m){try{c(n[g](m))}catch(v){p(s[0][3],v)}}function c(g){g.value instanceof Gu?Promise.resolve(g.value.v).then(d,h):p(s[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function p(g,m){g(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}const WE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function YB(i){const e=i.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=QB(e),[n,r]=t.tee();return{stream:ZB(n),response:KB(r)}}async function KB(i){const e=[],t=i.getReader();for(;;){const{done:n,value:r}=await t.read();if(n)return Gv(JB(e));e.push(r)}}function ZB(i){return $B(this,arguments,function*(){const t=i.getReader();for(;;){const{value:n,done:r}=yield Gu(t.read());if(r)break;yield yield Gu(Gv(n))}})}function QB(i){const e=i.getReader();return new ReadableStream({start(n){let r="";return s();function s(){return e.read().then(({value:a,done:l})=>{if(l){if(r.trim()){n.error(new Kn("Failed to parse stream"));return}n.close();return}r+=a;let c=r.match(WE),d;for(;c;){try{d=JSON.parse(c[1])}catch{n.error(new Kn(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(d),r=r.substring(c[0].length),c=r.match(WE)}return s()}).catch(a=>{let l=a;throw l.stack=a.stack,l.name==="AbortError"?l=new K3("Request aborted when reading from the stream"):l=new Kn("Error reading from the stream"),l})}}})}function JB(i){const e=i[i.length-1],t={promptFeedback:e?.promptFeedback};for(const n of i){if(n.candidates){let r=0;for(const s of n.candidates)if(t.candidates||(t.candidates=[]),t.candidates[r]||(t.candidates[r]={index:r}),t.candidates[r].citationMetadata=s.citationMetadata,t.candidates[r].groundingMetadata=s.groundingMetadata,t.candidates[r].finishReason=s.finishReason,t.candidates[r].finishMessage=s.finishMessage,t.candidates[r].safetyRatings=s.safetyRatings,s.content&&s.content.parts){t.candidates[r].content||(t.candidates[r].content={role:s.content.role||"user",parts:[]});const a={};for(const l of s.content.parts)l.text&&(a.text=l.text),l.functionCall&&(a.functionCall=l.functionCall),l.executableCode&&(a.executableCode=l.executableCode),l.codeExecutionResult&&(a.codeExecutionResult=l.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),t.candidates[r].content.parts.push(a)}r++}n.usageMetadata&&(t.usageMetadata=n.usageMetadata)}return t}async function Z3(i,e,t,n){const r=await gd(e,Do.STREAM_GENERATE_CONTENT,i,!0,JSON.stringify(t),n);return YB(r)}async function Q3(i,e,t,n){const s=await(await gd(e,Do.GENERATE_CONTENT,i,!1,JSON.stringify(t),n)).json();return{response:Gv(s)}}function J3(i){if(i!=null){if(typeof i=="string")return{role:"system",parts:[{text:i}]};if(i.text)return{role:"system",parts:[i]};if(i.parts)return i.role?i:{role:"system",parts:i.parts}}}function Xu(i){let e=[];if(typeof i=="string")e=[{text:i}];else for(const t of i)typeof t=="string"?e.push({text:t}):e.push(t);return e6(e)}function e6(i){const e={role:"user",parts:[]},t={role:"function",parts:[]};let n=!1,r=!1;for(const s of i)"functionResponse"in s?(t.parts.push(s),r=!0):(e.parts.push(s),n=!0);if(n&&r)throw new Kn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!r)throw new Kn("No content is provided for sending chat message.");return n?e:t}function t6(i,e){var t;let n={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(t=e?.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const r=i.generateContentRequest!=null;if(i.contents){if(r)throw new pa("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=i.contents}else if(r)n=Object.assign(Object.assign({},n),i.generateContentRequest);else{const s=Xu(i);n.contents=[s]}return{generateContentRequest:n}}function jE(i){let e;return i.contents?e=i:e={contents:[Xu(i)]},i.systemInstruction&&(e.systemInstruction=J3(i.systemInstruction)),e}function n6(i){return typeof i=="string"||Array.isArray(i)?{content:Xu(i)}:i}const HE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],i6={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function r6(i){let e=!1;for(const t of i){const{role:n,parts:r}=t;if(!e&&n!=="user")throw new Kn(`First content should be with role 'user', got ${n}`);if(!RE.includes(n))throw new Kn(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(RE)}`);if(!Array.isArray(r))throw new Kn("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new Kn("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of r)for(const c of HE)c in l&&(s[c]+=1);const a=i6[n];for(const l of HE)if(!a.includes(l)&&s[l]>0)throw new Kn(`Content with role '${n}' can't contain '${l}' part`);e=!0}}function qE(i){var e;if(i.candidates===void 0||i.candidates.length===0)return!1;const t=(e=i.candidates[0])===null||e===void 0?void 0:e.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const n of t.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}const VE="SILENT_ERROR";class s6{constructor(e,t,n,r={}){this.model=t,this.params=n,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,n?.history&&(r6(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var n,r,s,a,l,c;await this._sendPromise;const d=Xu(e),h={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},p=Object.assign(Object.assign({},this._requestOptions),t);let g;return this._sendPromise=this._sendPromise.then(()=>Q3(this._apiKey,this.model,h,p)).then(m=>{var v;if(qE(m.response)){this._history.push(d);const b=Object.assign({parts:[],role:"model"},(v=m.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(b)}else{const b=na(m.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}g=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,g}async sendMessageStream(e,t={}){var n,r,s,a,l,c;await this._sendPromise;const d=Xu(e),h={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},p=Object.assign(Object.assign({},this._requestOptions),t),g=Z3(this._apiKey,this.model,h,p);return this._sendPromise=this._sendPromise.then(()=>g).catch(m=>{throw new Error(VE)}).then(m=>m.response).then(m=>{if(qE(m)){this._history.push(d);const v=Object.assign({},m.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=na(m);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(m=>{m.message!==VE&&console.error(m)}),g}}async function a6(i,e,t,n){return(await gd(e,Do.COUNT_TOKENS,i,!1,JSON.stringify(t),n)).json()}async function o6(i,e,t,n){return(await gd(e,Do.EMBED_CONTENT,i,!1,JSON.stringify(t),n)).json()}async function l6(i,e,t,n){const r=t.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await gd(e,Do.BATCH_EMBED_CONTENTS,i,!1,JSON.stringify({requests:r}),n)).json()}class GE{constructor(e,t,n={}){this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=J3(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var n;const r=jE(e),s=Object.assign(Object.assign({},this._requestOptions),t);return Q3(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},r),s)}async generateContentStream(e,t={}){var n;const r=jE(e),s=Object.assign(Object.assign({},this._requestOptions),t);return Z3(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},r),s)}startChat(e){var t;return new s6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const n=t6(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),t);return a6(this.apiKey,this.model,n,r)}async embedContent(e,t={}){const n=n6(e),r=Object.assign(Object.assign({},this._requestOptions),t);return o6(this.apiKey,this.model,n,r)}async batchEmbedContents(e,t={}){const n=Object.assign(Object.assign({},this._requestOptions),t);return l6(this.apiKey,this.model,e,n)}}class c6{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new Kn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new GE(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new pa("Cached content must contain a `name` field.");if(!e.model)throw new pa("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const a of r)if(t?.[a]&&e[a]&&t?.[a]!==e[a]){if(a==="model"){const l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,c=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(l===c)continue}throw new pa(`Different value for "${a}" specified in modelParams (${t[a]}) and cachedContent (${e[a]})`)}const s=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new GE(this.apiKey,s,n)}}const u6="AIzaSyB5Ku-bjDLH67aqtwcayTfIB7FNccCL4X8",d6=new c6(u6);async function h6(i){const e=d6.getGenerativeModel({model:"gemini-2.0-flash"}),t=`
    Voc  um especialista em RH e recrutamento. Analise o seguinte currculo e fornea:
    1. 3 conselhos prticos (um de melhoria, um ponto forte, um alerta).
       - IMPORTANTE: NO sugira alteraes em dados pessoais imutveis como nome, idade, data de nascimento, gnero ou nacionalidade.
       - Foque estritamente em: experincia profissional, habilidades, educao, formatao, palavras-chave e impacto.
    2. Uma estimativa de salrio mensal em Reais (R$) baseada no mercado brasileiro para este perfil.
    3. 3 sugestes de vagas compatveis (Ttulo, Empresa Fictcia ou Genrica, Localizao, e termos de busca para Indeed/Glassdoor).

    Currculo:
    ${i}

    Responda APENAS com um JSON vlido no seguinte formato, sem markdown e sem comentrios:
    {
      "advice": [
        { "id": "1", "type": "improvement", "title": "...", "description": "..." },
        { "id": "2", "type": "strength", "title": "...", "description": "..." },
        { "id": "3", "type": "warning", "title": "...", "description": "..." }
      ],
      "valuation": 12345.00,
      "jobMatches": [
        { 
          "id": "1", 
          "title": "...", 
          "company": "...", 
          "location": "...", 
          "source": "Indeed", 
          "searchQuery": "..." 
        },
        { 
          "id": "2", 
          "title": "...", 
          "company": "...", 
          "location": "...", 
          "source": "Glassdoor", 
          "searchQuery": "..." 
        }
      ]
    }
  `;try{const s=(await(await e.generateContent(t)).response).text();console.log("Gemini Raw Response:",s);const a=s.match(/\{[\s\S]*\}/);if(!a)throw new Error("No foi possvel extrair JSON da resposta do Gemini.");const l=a[0],c=JSON.parse(l),d=c.jobMatches.map(h=>({...h,url:h.source==="Indeed"?`https://br.indeed.com/jobs?q=${encodeURIComponent(h.searchQuery)}`:`https://www.glassdoor.com.br/Job/jobs.htm?sc.keyword=${encodeURIComponent(h.searchQuery)}`,matchScore:Math.floor(Math.random()*19+80)}));return{...c,jobMatches:d}}catch(n){throw console.error("Error analyzing CV:",n),n}}const f6=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p6=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),XE=i=>{const e=p6(i);return e.charAt(0).toUpperCase()+e.slice(1)},eU=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),g6=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var m6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const y6=Tt.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:a,...l},c)=>Tt.createElement("svg",{ref:c,...m6,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:eU("lucide",r),...!s&&!g6(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,h])=>Tt.createElement(d,h)),...Array.isArray(s)?s:[s]]));const en=(i,e)=>{const t=Tt.forwardRef(({className:n,...r},s)=>Tt.createElement(y6,{ref:s,iconNode:e,className:eU(`lucide-${f6(XE(i))}`,`lucide-${i}`,n),...r}));return t.displayName=XE(i),t};const b6=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],v6=en("bold",b6);const x6=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],D6=en("briefcase",x6);const w6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],A6=en("circle-alert",w6);const T6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_6=en("circle-check",T6);const E6=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],S6=en("coins",E6);const C6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],k6=en("external-link",C6);const U6=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],M6=en("heading-1",U6);const R6=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],O6=en("heading-2",R6);const N6=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],F6=en("italic",N6);const B6=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],$E=en("lightbulb",B6);const L6=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],I6=en("list-ordered",L6);const P6=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],z6=en("list",P6);const W6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],j6=en("loader-circle",W6);const H6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],q6=en("map-pin",H6);const V6=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],G6=en("redo",V6);const X6=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],$6=en("text-align-center",X6);const Y6=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],K6=en("text-align-end",Y6);const Z6=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],Q6=en("text-align-start",Z6);const J6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],eL=en("trending-up",J6);const tL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nL=en("triangle-alert",tL);const iL=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],rL=en("underline",iL);const sL=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],aL=en("undo",sL);const oL=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lL=en("upload",oL);function cL({tokens:i,onBuyTokens:e}){return Te.jsx("header",{className:"w-full bg-white shadow-md border-b border-gray-100 sticky top-0 z-50",children:Te.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[Te.jsx("div",{className:"flex items-center gap-3",children:Te.jsx("img",{src:"/MQ_EDIT/logo.jpg",alt:"Logo",className:"h-10 w-auto object-contain",onError:t=>{t.target.style.display="none"}})}),Te.jsx("div",{className:"flex items-center gap-4",children:Te.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-accent/10 text-accent hover:bg-accent/20 rounded-full transition-colors font-medium",children:[Te.jsx(S6,{className:"w-5 h-5"}),Te.jsxs("span",{children:[i," Tokens"]}),Te.jsx("span",{className:"text-xs bg-accent text-white px-1.5 py-0.5 rounded-full ml-1",children:"+"})]})})]})})}function tU(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=tU(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function uL(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=tU(i))&&(n&&(n+=" "),n+=e);return n}const dL=(i,e)=>{const t=new Array(i.length+e.length);for(let n=0;n<i.length;n++)t[n]=i[n];for(let n=0;n<e.length;n++)t[i.length+n]=e[n];return t},hL=(i,e)=>({classGroupId:i,validator:e}),nU=(i=new Map,e=null,t)=>({nextPart:i,validators:e,classGroupId:t}),Jf="-",YE=[],fL="arbitrary..",pL=i=>{const e=mL(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return gL(a);const l=a.split(Jf),c=l[0]===""&&l.length>1?1:0;return iU(l,c,e)},getConflictingClassGroupIds:(a,l)=>{if(l){const c=n[a],d=t[a];return c?d?dL(d,c):c:d||YE}return t[a]||YE}}},iU=(i,e,t)=>{if(i.length-e===0)return t.classGroupId;const r=i[e],s=t.nextPart.get(r);if(s){const d=iU(i,e+1,s);if(d)return d}const a=t.validators;if(a===null)return;const l=e===0?i.join(Jf):i.slice(e).join(Jf),c=a.length;for(let d=0;d<c;d++){const h=a[d];if(h.validator(l))return h.classGroupId}},gL=i=>i.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=i.slice(1,-1),t=e.indexOf(":"),n=e.slice(0,t);return n?fL+n:void 0})(),mL=i=>{const{theme:e,classGroups:t}=i;return yL(t,e)},yL=(i,e)=>{const t=nU();for(const n in i){const r=i[n];Xv(r,t,n,e)}return t},Xv=(i,e,t,n)=>{const r=i.length;for(let s=0;s<r;s++){const a=i[s];bL(a,e,t,n)}},bL=(i,e,t,n)=>{if(typeof i=="string"){vL(i,e,t);return}if(typeof i=="function"){xL(i,e,t,n);return}DL(i,e,t,n)},vL=(i,e,t)=>{const n=i===""?e:rU(e,i);n.classGroupId=t},xL=(i,e,t,n)=>{if(wL(i)){Xv(i(n),e,t,n);return}e.validators===null&&(e.validators=[]),e.validators.push(hL(t,i))},DL=(i,e,t,n)=>{const r=Object.entries(i),s=r.length;for(let a=0;a<s;a++){const[l,c]=r[a];Xv(c,rU(e,l),t,n)}},rU=(i,e)=>{let t=i;const n=e.split(Jf),r=n.length;for(let s=0;s<r;s++){const a=n[s];let l=t.nextPart.get(a);l||(l=nU(),t.nextPart.set(a,l)),t=l}return t},wL=i=>"isThemeGetter"in i&&i.isThemeGetter===!0,AL=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),n=Object.create(null);const r=(s,a)=>{t[s]=a,e++,e>i&&(e=0,n=t,t=Object.create(null))};return{get(s){let a=t[s];if(a!==void 0)return a;if((a=n[s])!==void 0)return r(s,a),a},set(s,a){s in t?t[s]=a:r(s,a)}}},u1="!",KE=":",TL=[],ZE=(i,e,t,n,r)=>({modifiers:i,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:n,isExternal:r}),_L=i=>{const{prefix:e,experimentalParseClassName:t}=i;let n=r=>{const s=[];let a=0,l=0,c=0,d;const h=r.length;for(let b=0;b<h;b++){const x=r[b];if(a===0&&l===0){if(x===KE){s.push(r.slice(c,b)),c=b+1;continue}if(x==="/"){d=b;continue}}x==="["?a++:x==="]"?a--:x==="("?l++:x===")"&&l--}const p=s.length===0?r:r.slice(c);let g=p,m=!1;p.endsWith(u1)?(g=p.slice(0,-1),m=!0):p.startsWith(u1)&&(g=p.slice(1),m=!0);const v=d&&d>c?d-c:void 0;return ZE(s,m,g,v)};if(e){const r=e+KE,s=n;n=a=>a.startsWith(r)?s(a.slice(r.length)):ZE(TL,!1,a,void 0,!0)}if(t){const r=n;n=s=>t({className:s,parseClassName:r})}return n},EL=i=>{const e=new Map;return i.orderSensitiveModifiers.forEach((t,n)=>{e.set(t,1e6+n)}),t=>{const n=[];let r=[];for(let s=0;s<t.length;s++){const a=t[s],l=a[0]==="[",c=e.has(a);l||c?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(a)):r.push(a)}return r.length>0&&(r.sort(),n.push(...r)),n}},SL=i=>({cache:AL(i.cacheSize),parseClassName:_L(i),sortModifiers:EL(i),...pL(i)}),CL=/\s+/,kL=(i,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:s}=e,a=[],l=i.trim().split(CL);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:p,modifiers:g,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:b}=t(h);if(p){c=h+(c.length>0?" "+c:c);continue}let x=!!b,D=n(x?v.substring(0,b):v);if(!D){if(!x){c=h+(c.length>0?" "+c:c);continue}if(D=n(v),!D){c=h+(c.length>0?" "+c:c);continue}x=!1}const w=g.length===0?"":g.length===1?g[0]:s(g).join(":"),T=m?w+u1:w,C=T+D;if(a.indexOf(C)>-1)continue;a.push(C);const E=r(D,x);for(let S=0;S<E.length;++S){const k=E[S];a.push(T+k)}c=h+(c.length>0?" "+c:c)}return c},UL=(...i)=>{let e=0,t,n,r="";for(;e<i.length;)(t=i[e++])&&(n=sU(t))&&(r&&(r+=" "),r+=n);return r},sU=i=>{if(typeof i=="string")return i;let e,t="";for(let n=0;n<i.length;n++)i[n]&&(e=sU(i[n]))&&(t&&(t+=" "),t+=e);return t},ML=(i,...e)=>{let t,n,r,s;const a=c=>{const d=e.reduce((h,p)=>p(h),i());return t=SL(d),n=t.cache.get,r=t.cache.set,s=l,l(c)},l=c=>{const d=n(c);if(d)return d;const h=kL(c,t);return r(c,h),h};return s=a,(...c)=>s(UL(...c))},RL=[],_n=i=>{const e=t=>t[i]||RL;return e.isThemeGetter=!0,e},aU=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,oU=/^\((?:(\w[\w-]*):)?(.+)\)$/i,OL=/^\d+\/\d+$/,NL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,LL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tl=i=>OL.test(i),ht=i=>!!i&&!Number.isNaN(Number(i)),Js=i=>!!i&&Number.isInteger(Number(i)),f0=i=>i.endsWith("%")&&ht(i.slice(0,-1)),hs=i=>NL.test(i),PL=()=>!0,zL=i=>FL.test(i)&&!BL.test(i),lU=()=>!1,WL=i=>LL.test(i),jL=i=>IL.test(i),HL=i=>!He(i)&&!qe(i),qL=i=>sc(i,dU,lU),He=i=>aU.test(i),Ja=i=>sc(i,hU,zL),p0=i=>sc(i,YL,ht),QE=i=>sc(i,cU,lU),VL=i=>sc(i,uU,jL),ef=i=>sc(i,fU,WL),qe=i=>oU.test(i),pu=i=>ac(i,hU),GL=i=>ac(i,KL),JE=i=>ac(i,cU),XL=i=>ac(i,dU),$L=i=>ac(i,uU),tf=i=>ac(i,fU,!0),sc=(i,e,t)=>{const n=aU.exec(i);return n?n[1]?e(n[1]):t(n[2]):!1},ac=(i,e,t=!1)=>{const n=oU.exec(i);return n?n[1]?e(n[1]):t:!1},cU=i=>i==="position"||i==="percentage",uU=i=>i==="image"||i==="url",dU=i=>i==="length"||i==="size"||i==="bg-size",hU=i=>i==="length",YL=i=>i==="number",KL=i=>i==="family-name",fU=i=>i==="shadow",ZL=()=>{const i=_n("color"),e=_n("font"),t=_n("text"),n=_n("font-weight"),r=_n("tracking"),s=_n("leading"),a=_n("breakpoint"),l=_n("container"),c=_n("spacing"),d=_n("radius"),h=_n("shadow"),p=_n("inset-shadow"),g=_n("text-shadow"),m=_n("drop-shadow"),v=_n("blur"),b=_n("perspective"),x=_n("aspect"),D=_n("ease"),w=_n("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...C(),qe,He],S=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],O=()=>[qe,He,c],R=()=>[Tl,"full","auto",...O()],z=()=>[Js,"none","subgrid",qe,He],Z=()=>["auto",{span:["full",Js,qe,He]},Js,qe,He],F=()=>[Js,"auto",qe,He],W=()=>["auto","min","max","fr",qe,He],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...O()],I=()=>[Tl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],V=()=>[i,qe,He],K=()=>[...C(),JE,QE,{position:[qe,He]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",XL,qL,{size:[qe,He]}],H=()=>[f0,pu,Ja],G=()=>["","none","full",d,qe,He],te=()=>["",ht,pu,Ja],ce=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[ht,f0,JE,QE],Ce=()=>["","none",v,qe,He],Ue=()=>["none",ht,qe,He],Fe=()=>["none",ht,qe,He],Pe=()=>[ht,qe,He],Qe=()=>[Tl,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hs],breakpoint:[hs],color:[PL],container:[hs],"drop-shadow":[hs],ease:["in","out","in-out"],font:[HL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hs],shadow:[hs],spacing:["px",ht],text:[hs],"text-shadow":[hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Tl,He,qe,x]}],container:["container"],columns:[{columns:[ht,He,qe,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Js,"auto",qe,He]}],basis:[{basis:[Tl,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,Tl,"auto","initial","none",He]}],grow:[{grow:["",ht,qe,He]}],shrink:[{shrink:["",ht,qe,He]}],order:[{order:[Js,"first","last","none",qe,He]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[l,"screen",...I()]}],"min-w":[{"min-w":[l,"screen","none",...I()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",t,pu,Ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,qe,p0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",f0,He]}],"font-family":[{font:[GL,He,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,qe,He]}],"line-clamp":[{"line-clamp":[ht,"none",qe,p0]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",qe,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",qe,Ja]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[ht,"auto",qe,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Js,qe,He],radial:["",qe,He],conic:[Js,qe,He]},$L,VL]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,qe,He]}],"outline-w":[{outline:["",ht,pu,Ja]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",h,tf,ef]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",p,tf,ef]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[ht,Ja]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",g,tf,ef]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[ht,qe,He]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[qe,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,He]}],filter:[{filter:["","none",qe,He]}],blur:[{blur:Ce()}],brightness:[{brightness:[ht,qe,He]}],contrast:[{contrast:[ht,qe,He]}],"drop-shadow":[{"drop-shadow":["","none",m,tf,ef]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",ht,qe,He]}],"hue-rotate":[{"hue-rotate":[ht,qe,He]}],invert:[{invert:["",ht,qe,He]}],saturate:[{saturate:[ht,qe,He]}],sepia:[{sepia:["",ht,qe,He]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,He]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[ht,qe,He]}],"backdrop-contrast":[{"backdrop-contrast":[ht,qe,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,qe,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,qe,He]}],"backdrop-invert":[{"backdrop-invert":["",ht,qe,He]}],"backdrop-opacity":[{"backdrop-opacity":[ht,qe,He]}],"backdrop-saturate":[{"backdrop-saturate":[ht,qe,He]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,qe,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",qe,He]}],ease:[{ease:["linear","initial",D,qe,He]}],delay:[{delay:[ht,qe,He]}],animate:[{animate:["none",w,qe,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,qe,He]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:Fe()}],"scale-x":[{"scale-x":Fe()}],"scale-y":[{"scale-y":Fe()}],"scale-z":[{"scale-z":Fe()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[qe,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qe()}],"translate-x":[{"translate-x":Qe()}],"translate-y":[{"translate-y":Qe()}],"translate-z":[{"translate-z":Qe()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,He]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[ht,pu,Ja,p0]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QL=ML(ZL);function Di(...i){return QL(uL(i))}function JL({onFileUpload:i}){const[e,t]=Tt.useState(!1),[n,r]=Tt.useState(null),s=Tt.useCallback(h=>{h.preventDefault(),t(!0)},[]),a=Tt.useCallback(h=>{h.preventDefault(),t(!1)},[]),l=h=>["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(h.type)?h.size>5*1024*1024?(r("O arquivo deve ter no mximo 5MB."),!1):!0:(r("Por favor, envie um arquivo PDF ou DOCX."),!1),c=Tt.useCallback(h=>{h.preventDefault(),t(!1),r(null);const p=h.dataTransfer.files[0];p&&l(p)&&i(p)},[i]),d=Tt.useCallback(h=>{r(null);const p=h.target.files?.[0];p&&l(p)&&i(p)},[i]);return Te.jsx("div",{className:"w-full max-w-2xl mx-auto p-6",children:Te.jsxs("div",{onDragOver:s,onDragLeave:a,onDrop:c,className:Di("relative border-2 border-dashed rounded-xl p-12 transition-all duration-300 ease-in-out flex flex-col items-center justify-center text-center cursor-pointer group",e?"border-primary bg-primary/5 scale-[1.02]":"border-gray-300 hover:border-primary/50 hover:bg-gray-50",n&&"border-red-300 bg-red-50"),children:[Te.jsx("input",{type:"file",accept:".pdf,.docx",onChange:d,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),Te.jsx("div",{className:Di("p-4 rounded-full bg-gray-100 mb-4 transition-colors group-hover:bg-primary/10",e&&"bg-primary/20"),children:Te.jsx(lL,{className:Di("w-8 h-8 text-gray-400 group-hover:text-primary transition-colors",e&&"text-primary")})}),Te.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Arraste e solte seu currculo aqui"}),Te.jsx("p",{className:"text-gray-500 mb-6",children:"Suportamos arquivos PDF ou DOCX (max 5MB)"}),Te.jsx("button",{className:"px-6 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors shadow-sm hover:shadow-md",children:"Selecionar Arquivo"}),n&&Te.jsxs("div",{className:"absolute bottom-4 flex items-center gap-2 text-red-600 text-sm bg-white/80 px-3 py-1.5 rounded-full shadow-sm backdrop-blur-sm",children:[Te.jsx(A6,{className:"w-4 h-4"}),Te.jsx("span",{children:n})]})]})})}var eI=SC();const tI=Hp(eI);var g0={exports:{}},m0={};var eS;function nI(){if(eS)return m0;eS=1;var i=rd();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,r=i.useEffect,s=i.useLayoutEffect,a=i.useDebugValue;function l(p,g){var m=g(),v=n({inst:{value:m,getSnapshot:g}}),b=v[0].inst,x=v[1];return s(function(){b.value=m,b.getSnapshot=g,c(b)&&x({inst:b})},[p,m,g]),r(function(){return c(b)&&x({inst:b}),p(function(){c(b)&&x({inst:b})})},[p]),a(m),m}function c(p){var g=p.getSnapshot;p=p.value;try{var m=g();return!t(p,m)}catch{return!0}}function d(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return m0.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:h,m0}var tS;function pU(){return tS||(tS=1,g0.exports=nI()),g0.exports}var gU=pU();function Hn(i){this.content=i}Hn.prototype={constructor:Hn,find:function(i){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===i)return e;return-1},get:function(i){var e=this.find(i);return e==-1?void 0:this.content[e+1]},update:function(i,e,t){var n=t&&t!=i?this.remove(t):this,r=n.find(i),s=n.content.slice();return r==-1?s.push(t||i,e):(s[r+1]=e,t&&(s[r]=t)),new Hn(s)},remove:function(i){var e=this.find(i);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Hn(t)},addToStart:function(i,e){return new Hn([i,e].concat(this.remove(i).content))},addToEnd:function(i,e){var t=this.remove(i).content.slice();return t.push(i,e),new Hn(t)},addBefore:function(i,e,t){var n=this.remove(e),r=n.content.slice(),s=n.find(i);return r.splice(s==-1?r.length:s,0,e,t),new Hn(r)},forEach:function(i){for(var e=0;e<this.content.length;e+=2)i(this.content[e],this.content[e+1])},prepend:function(i){return i=Hn.from(i),i.size?new Hn(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=Hn.from(i),i.size?new Hn(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var e=this;i=Hn.from(i);for(var t=0;t<i.content.length;t+=2)e=e.remove(i.content[t]);return e},toObject:function(){var i={};return this.forEach(function(e,t){i[e]=t}),i},get size(){return this.content.length>>1}};Hn.from=function(i){if(i instanceof Hn)return i;var e=[];if(i)for(var t in i)e.push(t,i[t]);return new Hn(e)};function mU(i,e,t){for(let n=0;;n++){if(n==i.childCount||n==e.childCount)return i.childCount==e.childCount?null:t;let r=i.child(n),s=e.child(n);if(r==s){t+=r.nodeSize;continue}if(!r.sameMarkup(s))return t;if(r.isText&&r.text!=s.text){for(let a=0;r.text[a]==s.text[a];a++)t++;return t}if(r.content.size||s.content.size){let a=mU(r.content,s.content,t+1);if(a!=null)return a}t+=r.nodeSize}}function yU(i,e,t,n){for(let r=i.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:t,b:n};let a=i.child(--r),l=e.child(--s),c=a.nodeSize;if(a==l){t-=c,n-=c;continue}if(!a.sameMarkup(l))return{a:t,b:n};if(a.isText&&a.text!=l.text){let d=0,h=Math.min(a.text.length,l.text.length);for(;d<h&&a.text[a.text.length-d-1]==l.text[l.text.length-d-1];)d++,t--,n--;return{a:t,b:n}}if(a.content.size||l.content.size){let d=yU(a.content,l.content,t-1,n-1);if(d)return d}t-=c,n-=c}}class ke{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,s){for(let a=0,l=0;l<t;a++){let c=this.content[a],d=l+c.nodeSize;if(d>e&&n(c,r+l,s||null,a)!==!1&&c.content.size){let h=l+1;c.nodesBetween(Math.max(0,e-h),Math.min(c.content.size,t-h),n,r+h)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let s="",a=!0;return this.nodesBetween(e,t,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,t-c):l.isLeaf?r?typeof r=="function"?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&n&&(a?a=!1:s+=n),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new ke(r,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],r=0;if(t>e)for(let s=0,a=0;a<t;s++){let l=this.content[s],c=a+l.nodeSize;c>e&&((a<e||c>t)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,t-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,t-a-1))),n.push(l),r+=l.nodeSize),a=c}return new ke(n,r)}cutByIndex(e,t){return e==t?ke.empty:e==0&&t==this.content.length?this:new ke(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),s=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new ke(r,s)}addToStart(e){return new ke([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ke(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return mU(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return yU(this,e,t,n)}findIndex(e){if(e==0)return nf(0,e);if(e==this.size)return nf(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let r=this.child(t),s=n+r.nodeSize;if(s>=e)return s==e?nf(t+1,s):nf(t,n);n=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ke.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ke(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ke.empty;let t,n=0;for(let r=0;r<e.length;r++){let s=e[r];n+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(t||(t=e.slice(0,r)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new ke(t||e,n)}static from(e){if(!e)return ke.empty;if(e instanceof ke)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ke([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ke.empty=new ke([],0);const y0={index:0,offset:0};function nf(i,e){return y0.index=i,y0.offset=e,y0}function ep(i,e){if(i===e)return!0;if(!(i&&typeof i=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(i);if(Array.isArray(e)!=t)return!1;if(t){if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(!ep(i[n],e[n]))return!1}else{for(let n in i)if(!(n in e)||!ep(i[n],e[n]))return!1;for(let n in e)if(!(n in i))return!1}return!0}let Wt=class d1{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(s)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ep(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return d1.none;if(e instanceof d1)return[e];let t=e.slice();return t.sort((n,r)=>n.type.rank-r.type.rank),t}};Wt.none=[];class tp extends Error{}class Le{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=vU(this.content,e+this.openStart,t);return n&&new Le(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Le(bU(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Le.empty;let n=t.openStart||0,r=t.openEnd||0;if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Le(ke.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)r++;return new Le(e,n,r)}}Le.empty=new Le(ke.empty,0,0);function bU(i,e,t){let{index:n,offset:r}=i.findIndex(e),s=i.maybeChild(n),{index:a,offset:l}=i.findIndex(t);if(r==e||s.isText){if(l!=t&&!i.child(a).isText)throw new RangeError("Removing non-flat range");return i.cut(0,e).append(i.cut(t))}if(n!=a)throw new RangeError("Removing non-flat range");return i.replaceChild(n,s.copy(bU(s.content,e-r-1,t-r-1)))}function vU(i,e,t,n){let{index:r,offset:s}=i.findIndex(e),a=i.maybeChild(r);if(s==e||a.isText)return n&&!n.canReplace(r,r,t)?null:i.cut(0,e).append(t).append(i.cut(e));let l=vU(a.content,e-s-1,t,a);return l&&i.replaceChild(r,a.copy(l))}function iI(i,e,t){if(t.openStart>i.depth)throw new tp("Inserted content deeper than insertion position");if(i.depth-t.openStart!=e.depth-t.openEnd)throw new tp("Inconsistent open depths");return xU(i,e,t,0)}function xU(i,e,t,n){let r=i.index(n),s=i.node(n);if(r==e.index(n)&&n<i.depth-t.openStart){let a=xU(i,e,t,n+1);return s.copy(s.content.replaceChild(r,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&i.depth==n&&e.depth==n){let a=i.parent,l=a.content;return fo(a,l.cut(0,i.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=rI(t,i);return fo(s,wU(i,a,l,e,n))}else return fo(s,np(i,e,n))}function DU(i,e){if(!e.type.compatibleContent(i.type))throw new tp("Cannot join "+e.type.name+" onto "+i.type.name)}function h1(i,e,t){let n=i.node(t);return DU(n,e.node(t)),n}function ho(i,e){let t=e.length-1;t>=0&&i.isText&&i.sameMarkup(e[t])?e[t]=i.withText(e[t].text+i.text):e.push(i)}function _u(i,e,t,n){let r=(e||i).node(t),s=0,a=e?e.index(t):r.childCount;i&&(s=i.index(t),i.depth>t?s++:i.textOffset&&(ho(i.nodeAfter,n),s++));for(let l=s;l<a;l++)ho(r.child(l),n);e&&e.depth==t&&e.textOffset&&ho(e.nodeBefore,n)}function fo(i,e){return i.type.checkContent(e),i.copy(e)}function wU(i,e,t,n,r){let s=i.depth>r&&h1(i,e,r+1),a=n.depth>r&&h1(t,n,r+1),l=[];return _u(null,i,r,l),s&&a&&e.index(r)==t.index(r)?(DU(s,a),ho(fo(s,wU(i,e,t,n,r+1)),l)):(s&&ho(fo(s,np(i,e,r+1)),l),_u(e,t,r,l),a&&ho(fo(a,np(t,n,r+1)),l)),_u(n,null,r,l),new ke(l)}function np(i,e,t){let n=[];if(_u(null,i,t,n),i.depth>t){let r=h1(i,e,t+1);ho(fo(r,np(i,e,t+1)),n)}return _u(e,null,t,n),new ke(n)}function rI(i,e){let t=e.depth-i.openStart,r=e.node(t).copy(i.content);for(let s=t-1;s>=0;s--)r=e.node(s).copy(ke.from(r));return{start:r.resolveNoCache(i.openStart+t),end:r.resolveNoCache(r.content.size-i.openEnd-t)}}class $u{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],r=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)r+=n.child(s).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Wt.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let l=n;n=r,r=l}let s=n.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!r||!s[a].isInSet(r.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!r||!n[s].isInSet(r.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new ip(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,s=t;for(let a=e;;){let{index:l,offset:c}=a.content.findIndex(s),d=s-c;if(n.push(a,l,r+c),!d||(a=a.child(l),a.isText))break;s=d-1,r+=c+1}return new $u(t,n,s)}static resolveCached(e,t){let n=nS.get(e);if(n)for(let s=0;s<n.elts.length;s++){let a=n.elts[s];if(a.pos==t)return a}else nS.set(e,n=new sI);let r=n.elts[n.i]=$u.resolve(e,t);return n.i=(n.i+1)%aI,r}}class sI{constructor(){this.elts=[],this.i=0}}const aI=12,nS=new WeakMap;class ip{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const oI=Object.create(null);let ga=class f1{constructor(e,t,n,r=Wt.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||ke.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&ep(this.attrs,t||e.defaultAttrs||oI)&&Wt.sameSet(this.marks,n||Wt.none)}copy(e=null){return e==this.content?this:new f1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new f1(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Le.empty;let r=this.resolve(e),s=this.resolve(t),a=n?0:r.sharedDepth(t),l=r.start(a),d=r.node(a).content.cut(r.pos-l,s.pos-l);return new Le(d,r.depth-a,s.depth-a)}replace(e,t,n){return iI(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return $u.resolveCached(this,e)}resolveNoCache(e){return $u.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,s=>(n.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),AU(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=ke.empty,r=0,s=n.childCount){let a=this.contentMatchAt(e).matchFragment(n,r,s),l=a&&a.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let c=r;c<s;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(n),a=s&&s.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Wt.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Wt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=ke.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,r,n);return s.type.checkAttrs(s.attrs),s}};ga.prototype.text=void 0;class rp extends ga{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):AU(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new rp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new rp(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function AU(i,e){for(let t=i.length-1;t>=0;t--)e=i[t].type.name+"("+e+")";return e}class wo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new lI(e,t);if(n.next==null)return wo.empty;let r=TU(n);n.next&&n.err("Unexpected trailing text");let s=gI(pI(r));return mI(s,n),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let s=t;r&&s<n;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];function s(a,l){let c=a.matchFragment(e,n);if(c&&(!t||c.validEnd))return ke.from(l.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:h,next:p}=a.next[d];if(!(h.isText||h.hasRequiredAttrs())&&r.indexOf(p)==-1){r.push(p);let g=s(p,l.concat(h));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),s=r.match;if(s.matchType(e)){let a=[];for(let l=r;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in t)&&(!r.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:r}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let r=0;r<n.next.length;r++)e.indexOf(n.next[r].next)==-1&&t(n.next[r].next)}return t(this),e.map((n,r)=>{let s=r+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)s+=(a?", ":"")+n.next[a].type.name+"->"+e.indexOf(n.next[a].next);return s}).join(`
`)}}wo.empty=new wo(!0);class lI{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function TU(i){let e=[];do e.push(cI(i));while(i.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function cI(i){let e=[];do e.push(uI(i));while(i.next&&i.next!=")"&&i.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function uI(i){let e=fI(i);for(;;)if(i.eat("+"))e={type:"plus",expr:e};else if(i.eat("*"))e={type:"star",expr:e};else if(i.eat("?"))e={type:"opt",expr:e};else if(i.eat("{"))e=dI(i,e);else break;return e}function iS(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let e=Number(i.next);return i.pos++,e}function dI(i,e){let t=iS(i),n=t;return i.eat(",")&&(i.next!="}"?n=iS(i):n=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function hI(i,e){let t=i.nodeTypes,n=t[e];if(n)return[n];let r=[];for(let s in t){let a=t[s];a.isInGroup(e)&&r.push(a)}return r.length==0&&i.err("No node type or group '"+e+"' found"),r}function fI(i){if(i.eat("(")){let e=TU(i);return i.eat(")")||i.err("Missing closing paren"),e}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let e=hI(i,i.next).map(t=>(i.inline==null?i.inline=t.isInline:i.inline!=t.isInline&&i.err("Mixing inline and block content"),{type:"name",value:t}));return i.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function pI(i){let e=[[]];return r(s(i,0),t()),e;function t(){return e.push([])-1}function n(a,l,c){let d={term:c,to:l};return e[a].push(d),d}function r(a,l){a.forEach(c=>c.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((c,d)=>c.concat(s(d,l)),[]);if(a.type=="seq")for(let c=0;;c++){let d=s(a.exprs[c],l);if(c==a.exprs.length-1)return d;r(d,l=t())}else if(a.type=="star"){let c=t();return n(l,c),r(s(a.expr,c),c),[n(c)]}else if(a.type=="plus"){let c=t();return r(s(a.expr,l),c),r(s(a.expr,c),c),[n(c)]}else{if(a.type=="opt")return[n(l)].concat(s(a.expr,l));if(a.type=="range"){let c=l;for(let d=0;d<a.min;d++){let h=t();r(s(a.expr,c),h),c=h}if(a.max==-1)r(s(a.expr,c),c);else for(let d=a.min;d<a.max;d++){let h=t();n(c,h),r(s(a.expr,c),h),c=h}return[n(c)]}else{if(a.type=="name")return[n(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function _U(i,e){return e-i}function rS(i,e){let t=[];return n(e),t.sort(_U);function n(r){let s=i[r];if(s.length==1&&!s[0].term)return n(s[0].to);t.push(r);for(let a=0;a<s.length;a++){let{term:l,to:c}=s[a];!l&&t.indexOf(c)==-1&&n(c)}}}function gI(i){let e=Object.create(null);return t(rS(i,0));function t(n){let r=[];n.forEach(a=>{i[a].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let h=0;h<r.length;h++)r[h][0]==l&&(d=r[h][1]);rS(i,c).forEach(h=>{d||r.push([l,d=[]]),d.indexOf(h)==-1&&d.push(h)})})});let s=e[n.join(",")]=new wo(n.indexOf(i.length-1)>-1);for(let a=0;a<r.length;a++){let l=r[a][1].sort(_U);s.next.push({type:r[a][0],next:e[l.join(",")]||t(l)})}return s}}function mI(i,e){for(let t=0,n=[i];t<n.length;t++){let r=n[t],s=!r.validEnd,a=[];for(let l=0;l<r.next.length;l++){let{type:c,next:d}=r.next[l];a.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),n.indexOf(d)==-1&&n.push(d)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function EU(i){let e=Object.create(null);for(let t in i){let n=i[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function SU(i,e){let t=Object.create(null);for(let n in i){let r=e&&e[n];if(r===void 0){let s=i[n];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=r}return t}function CU(i,e,t,n){for(let r in e)if(!(r in i))throw new RangeError(`Unsupported attribute ${r} for ${t} of type ${r}`);for(let r in i){let s=i[r];s.validate&&s.validate(e[r])}}function kU(i,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new bI(i,n,e[n]);return t}let sS=class UU{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=kU(e,n.attrs),this.defaultAttrs=EU(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==wo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:SU(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ga(this,this.computeAttrs(e),ke.from(t),Wt.setFrom(n))}createChecked(e=null,t,n){return t=ke.from(t),this.checkContent(t),new ga(this,this.computeAttrs(e),t,Wt.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=ke.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let r=this.contentMatch.matchFragment(t),s=r&&r.fillBefore(ke.empty,!0);return s?new ga(this,e,t.append(s),Wt.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){CU(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Wt.none:e}static compile(e,t){let n=Object.create(null);e.forEach((s,a)=>n[s]=new UU(s,t,a));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function yI(i,e,t){let n=t.split("|");return r=>{let s=r===null?"null":typeof r;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${i}, got ${s}`)}}class bI{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?yI(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class wg{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=kU(e,r.attrs),this.excluded=null;let s=EU(this.attrs);this.instance=s?new Wt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Wt(this,SU(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((s,a)=>n[s]=new wg(s,r++,t,a)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){CU(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class MU{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=Hn.from(e.nodes),t.marks=Hn.from(e.marks||{}),this.nodes=sS.compile(this.spec.nodes,this),this.marks=wg.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=n[a]||(n[a]=wo.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?aS(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:aS(this,a.split(" "))}this.nodeFromJSON=r=>ga.fromJSON(this,r),this.markFromJSON=r=>Wt.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof sS){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new rp(n,n.defaultAttrs,e,Wt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function aS(i,e){let t=[];for(let n=0;n<e.length;n++){let r=e[n],s=i.marks[r],a=s;if(s)t.push(s);else for(let l in i.marks){let c=i.marks[l];(r=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(r)>-1)&&t.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function vI(i){return i.tag!=null}function xI(i){return i.style!=null}class ma{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(r=>{if(vI(r))this.tags.push(r);else if(xI(r)){let s=/[^=]*/.exec(r.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let n=new lS(this,t,!1);return n.addAll(e,Wt.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new lS(this,t,!0);return n.addAll(e,Wt.none,t.from,t.to),Le.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(AI(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,t,n,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!n.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=t))){if(a.getAttrs){let c=a.getAttrs(t);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let t=[];function n(r){let s=r.priority==null?50:r.priority,a=0;for(;a<t.length;a++){let l=t[a];if((l.priority==null?50:l.priority)<s)break}t.splice(a,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(a=>{n(a=cS(a)),a.mark||a.ignore||a.clearMark||(a.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(a=>{n(a=cS(a)),a.node||a.ignore||a.mark||(a.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ma(e,ma.schemaRules(e)))}}const RU={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},DI={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},OU={ol:!0,ul:!0},Yu=1,p1=2,Eu=4;function oS(i,e,t){return e!=null?(e?Yu:0)|(e==="full"?p1:0):i&&i.whitespace=="pre"?Yu|p1:t&~Eu}class rf{constructor(e,t,n,r,s,a){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=a,this.content=[],this.activeMarks=Wt.none,this.match=s||(a&Eu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ke.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(e.type))?(this.match=n,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Yu)){let n=this.content[this.content.length-1],r;if(n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let t=ke.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ke.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!RU.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class lS{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=t.topNode,s,a=oS(null,t.preserveWhitespace,0)|(n?Eu:0);r?s=new rf(r.type,r.attrs,Wt.none,!0,t.topMatch||r.type.contentMatch,a):n?s=new rf(null,null,Wt.none,!0,null,a):s=new rf(e.schema.topNodeType,null,Wt.none,!0,null,a),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,s=r.options&p1?"full":this.localPreserveWS||(r.options&Yu)>0,{schema:a}=this.parser;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)if(s==="full")n=n.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(a.linebreakReplacement.create())){let l=n.split(/\r?\n|\r/);for(let c=0;c<l.length;c++)c&&this.insertNode(a.linebreakReplacement.create(),t,!0),l[c]&&this.insertNode(a.text(l[c]),t,!/\S/.test(l[c]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let l=r.content[r.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(n=n.slice(1))}n&&this.insertNode(a.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;OU.hasOwnProperty(a)&&this.parser.normalizeLists&&wI(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,n));e:if(c?c.ignore:DI.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,h=this.needsBlock;if(RU.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let p=c&&c.skip?t:this.readStyles(e,t);p&&this.addAll(e,p),d&&this.sync(s),this.needsBlock=h}else{let d=this.readStyles(e,t);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=r}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],a=n.getPropertyValue(s);if(a)for(let l=void 0;;){let c=this.parser.matchStyle(s,a,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?t=t.filter(d=>!c.clearMark(d)):t=t.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return t}addElementByRule(e,t,n,r){let s,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(a,t.attrs||null,n,t.preserveWhitespace);c&&(s=!0,n=c)}else{let c=this.parser.schema.marks[t.mark];n=n.concat(c.create(t.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}s&&this.sync(l)&&this.open--}addAll(e,t,n,r){let s=n||0;for(let a=n?e.childNodes[n]:e.firstChild,l=r==null?null:e.childNodes[r];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,t);this.findAtPoint(e,s)}findPlace(e,t,n){let r,s;for(let a=this.open,l=0;a>=0;a--){let c=this.nodes[a],d=c.findWrapping(e);if(d&&(!r||r.length>d.length+l)&&(r=d,s=c,!d.length))break;if(c.solid){if(n)break;l+=2}}if(!r)return null;this.sync(s);for(let a=0;a<r.length;a++)t=this.enterInner(r[a],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=Wt.none;for(let l of r.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):uS(l.type,e.type))&&(a=l.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,t,n,r){let s=this.findPlace(e.create(t),n,!1);return s&&(s=this.enterInner(e,t,n,!0,r)),s}enterInner(e,t,n,r=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=oS(e,s,a.options);a.options&Eu&&a.content.length==0&&(l|=Eu);let c=Wt.none;return n=n.filter(d=>(a.type?a.type.allowsMarkType(d.type):uS(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new rf(e,t,c,r,null,l)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Yu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(r?0:1),a=(l,c)=>{for(;l>=0;l--){let d=t[l];if(d==""){if(l==t.length-1||l==0)continue;for(;c>=s;c--)if(a(l-1,c))return!0;return!1}else{let h=c>0||c==0&&r?this.nodes[c].type:n&&c>=s?n.node(c-s).type:null;if(!h||h.name!=d&&!h.isInGroup(d))return!1;c--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function wI(i){for(let e=i.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&OU.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function AI(i,e){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,e)}function cS(i){let e={};for(let t in i)e[t]=i[t];return e}function uS(i,e){let t=e.schema.nodes;for(let n in t){let r=t[n];if(!r.allowsMarkType(i))continue;let s=[],a=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:h}=l.edge(c);if(d==e||s.indexOf(h)<0&&a(h))return!0}};if(a(r.contentMatch))return!0}}class Oo{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=b0(t).createDocumentFragment());let r=n,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,c=0;for(;l<s.length&&c<a.marks.length;){let d=a.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(s[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)r=s.pop()[1];for(;c<a.marks.length;){let d=a.marks[c++],h=this.serializeMark(d,a.isInline,t);h&&(s.push([d,r]),r.appendChild(h.dom),r=h.contentDOM||h.dom)}}r.appendChild(this.serializeNodeInner(a,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=zf(b0(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&zf(b0(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return zf(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Oo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=dS(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return dS(e.marks)}}function dS(i){let e={};for(let t in i){let n=i[t].spec.toDOM;n&&(e[t]=n)}return e}function b0(i){return i.document||window.document}const hS=new WeakMap;function TI(i){let e=hS.get(i);return e===void 0&&hS.set(i,e=_I(i)),e}function _I(i){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let r=0;r<n.length;r++)t(n[r]);else for(let r in n)t(n[r])}return t(i),e}function zf(i,e,t,n){if(typeof e=="string")return{dom:i.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=TI(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=r.indexOf(" ");a>0&&(t=r.slice(0,a),r=r.slice(a+1));let l,c=t?i.createElementNS(t,r):i.createElement(r),d=e[1],h=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){h=2;for(let p in d)if(d[p]!=null){let g=p.indexOf(" ");g>0?c.setAttributeNS(p.slice(0,g),p.slice(g+1),d[p]):p=="style"&&c.style?c.style.cssText=d[p]:c.setAttribute(p,d[p])}}for(let p=h;p<e.length;p++){let g=e[p];if(g===0){if(p<e.length-1||p>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:m,contentDOM:v}=zf(i,g,t,n);if(c.appendChild(m),v){if(l)throw new RangeError("Multiple content holes");l=v}}}return{dom:c,contentDOM:l}}const NU=65535,FU=Math.pow(2,16);function EI(i,e){return i+e*FU}function fS(i){return i&NU}function SI(i){return(i-(i&NU))/FU}const BU=1,LU=2,Wf=4,IU=8;class g1{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&IU)>0}get deletedBefore(){return(this.delInfo&(BU|Wf))>0}get deletedAfter(){return(this.delInfo&(LU|Wf))>0}get deletedAcross(){return(this.delInfo&Wf)>0}}class zi{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&zi.empty)return zi.empty}recover(e){let t=0,n=fS(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[n*3]+t+SI(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let d=this.ranges[l+s],h=this.ranges[l+a],p=c+d;if(e<=p){let g=d?e==c?-1:e==p?1:t:t,m=c+r+(g<0?0:h);if(n)return m;let v=e==(t<0?c:p)?null:EI(l/3,e-c),b=e==c?LU:e==p?BU:Wf;return(t<0?e!=c:e!=p)&&(b|=IU),new g1(m,b,v)}r+=h-d}return n?e+r:new g1(e+r,0,null)}touches(e,t){let n=0,r=fS(t),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let d=this.ranges[l+s],h=c+d;if(e<=h&&l==r*3)return!0;n+=this.ranges[l+a]-d}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let a=this.ranges[r],l=a-(this.inverted?s:0),c=a+(this.inverted?0:s),d=this.ranges[r+t],h=this.ranges[r+n];e(l,l+d,c,c+h),s+=h-d}}invert(){return new zi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?zi.empty:new zi(e<0?[0,-e,0]:[0,0,e])}}zi.empty=new zi([]);class Ku{constructor(e,t,n=0,r=e?e.length:0){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Ku(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],r!=null&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),r!=null&&r>t?n-r-1:void 0)}}invert(){let e=new Ku;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],l=a.mapResult(e,t);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(l.recover);continue}}r|=l.delInfo,e=l.pos}return n?e:new g1(e,r,null)}}const v0=Object.create(null);class ei{getMap(){return zi.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=v0[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in v0)throw new RangeError("Duplicate use of step JSON ID "+e);return v0[e]=t,t.prototype.jsonID=e,t}}class Dn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Dn(e,null)}static fail(e){return new Dn(null,e)}static fromReplace(e,t,n,r){try{return Dn.ok(e.replace(t,n,r))}catch(s){if(s instanceof tp)return Dn.fail(s.message);throw s}}}function $v(i,e,t){let n=[];for(let r=0;r<i.childCount;r++){let s=i.child(r);s.content.size&&(s=s.copy($v(s.content,e,s))),s.isInline&&(s=e(s,t,r)),n.push(s)}return ke.fromArray(n)}class da extends ei{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),s=new Le($v(t.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),r),t.openStart,t.openEnd);return Dn.fromReplace(e,this.from,this.to,s)}invert(){return new Tr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new da(t.pos,n.pos,this.mark)}merge(e){return e instanceof da&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new da(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new da(t.from,t.to,e.markFromJSON(t.mark))}}ei.jsonID("addMark",da);class Tr extends ei{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Le($v(t.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),t.openStart,t.openEnd);return Dn.fromReplace(e,this.from,this.to,n)}invert(){return new da(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Tr(t.pos,n.pos,this.mark)}merge(e){return e instanceof Tr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Tr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Tr(t.from,t.to,e.markFromJSON(t.mark))}}ei.jsonID("removeMark",Tr);class ha extends ei{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Dn.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Dn.fromReplace(e,this.pos,this.pos+1,new Le(ke.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let r=0;r<t.marks.length;r++)if(!t.marks[r].isInSet(n))return new ha(this.pos,t.marks[r]);return new ha(this.pos,this.mark)}}return new Ao(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ha(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ha(t.pos,e.markFromJSON(t.mark))}}ei.jsonID("addNodeMark",ha);class Ao extends ei{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Dn.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Dn.fromReplace(e,this.pos,this.pos+1,new Le(ke.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ha(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ao(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ao(t.pos,e.markFromJSON(t.mark))}}ei.jsonID("removeNodeMark",Ao);class On extends ei{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&m1(e,this.from,this.to)?Dn.fail("Structure replace would overwrite content"):Dn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new zi([this.from,this.to-this.from,this.slice.size])}invert(e){return new On(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new On(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof On)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Le.empty:new Le(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new On(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Le.empty:new Le(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new On(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new On(t.from,t.to,Le.fromJSON(e,t.slice),!!t.structure)}}ei.jsonID("replace",On);class Nn extends ei{constructor(e,t,n,r,s,a,l=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(m1(e,this.from,this.gapFrom)||m1(e,this.gapTo,this.to)))return Dn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Dn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Dn.fromReplace(e,this.from,this.to,n):Dn.fail("Content does not fit in gap")}getMap(){return new zi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Nn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||s>n.pos?null:new Nn(t.pos,n.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Nn(t.from,t.to,t.gapFrom,t.gapTo,Le.fromJSON(e,t.slice),t.insert,!!t.structure)}}ei.jsonID("replaceAround",Nn);function m1(i,e,t){let n=i.resolve(e),r=t-e,s=n.depth;for(;r>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,r--;if(r>0){let a=n.node(s).maybeChild(n.indexAfter(s));for(;r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}}return!1}function CI(i,e,t,n){let r=[],s=[],a,l;i.doc.nodesBetween(e,t,(c,d,h)=>{if(!c.isInline)return;let p=c.marks;if(!n.isInSet(p)&&h.type.allowsMarkType(n.type)){let g=Math.max(d,e),m=Math.min(d+c.nodeSize,t),v=n.addToSet(p);for(let b=0;b<p.length;b++)p[b].isInSet(v)||(a&&a.to==g&&a.mark.eq(p[b])?a.to=m:r.push(a=new Tr(g,m,p[b])));l&&l.to==g?l.to=m:s.push(l=new da(g,m,n))}}),r.forEach(c=>i.step(c)),s.forEach(c=>i.step(c))}function kI(i,e,t,n){let r=[],s=0;i.doc.nodesBetween(e,t,(a,l)=>{if(!a.isInline)return;s++;let c=null;if(n instanceof wg){let d=a.marks,h;for(;h=n.isInSet(d);)(c||(c=[])).push(h),d=h.removeFromSet(d)}else n?n.isInSet(a.marks)&&(c=[n]):c=a.marks;if(c&&c.length){let d=Math.min(l+a.nodeSize,t);for(let h=0;h<c.length;h++){let p=c[h],g;for(let m=0;m<r.length;m++){let v=r[m];v.step==s-1&&p.eq(r[m].style)&&(g=v)}g?(g.to=d,g.step=s):r.push({style:p,from:Math.max(l,e),to:d,step:s})}}}),r.forEach(a=>i.step(new Tr(a.from,a.to,a.style)))}function Yv(i,e,t,n=t.contentMatch,r=!0){let s=i.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<s.childCount;c++){let d=s.child(c),h=l+d.nodeSize,p=n.matchType(d.type);if(!p)a.push(new On(l,h,Le.empty));else{n=p;for(let g=0;g<d.marks.length;g++)t.allowsMarkType(d.marks[g].type)||i.step(new Tr(l,h,d.marks[g]));if(r&&d.isText&&t.whitespace!="pre"){let g,m=/\r?\n|\r/g,v;for(;g=m.exec(d.text);)v||(v=new Le(ke.from(t.schema.text(" ",t.allowedMarks(d.marks))),0,0)),a.push(new On(l+g.index,l+g.index+g[0].length,v))}}l=h}if(!n.validEnd){let c=n.fillBefore(ke.empty,!0);i.replace(l,l,new Le(c,0,0))}for(let c=a.length-1;c>=0;c--)i.step(a[c])}function UI(i,e,t){return(e==0||i.canReplace(e,i.childCount))&&(t==i.childCount||i.canReplace(0,t))}function oc(i){let t=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let n=i.depth,r=0,s=0;;--n){let a=i.$from.node(n),l=i.$from.index(n)+r,c=i.$to.indexAfter(n)-s;if(n<i.depth&&a.canReplace(l,c,t))return n;if(n==0||a.type.spec.isolating||!UI(a,l,c))break;l&&(r=1),c<a.childCount&&(s=1)}return null}function MI(i,e,t){let{$from:n,$to:r,depth:s}=e,a=n.before(s+1),l=r.after(s+1),c=a,d=l,h=ke.empty,p=0;for(let v=s,b=!1;v>t;v--)b||n.index(v)>0?(b=!0,h=ke.from(n.node(v).copy(h)),p++):c--;let g=ke.empty,m=0;for(let v=s,b=!1;v>t;v--)b||r.after(v+1)<r.end(v)?(b=!0,g=ke.from(r.node(v).copy(g)),m++):d++;i.step(new Nn(c,d,a,l,new Le(h.append(g),p,m),h.size-p,!0))}function Kv(i,e,t=null,n=i){let r=RI(i,e),s=r&&OI(n,e);return s?r.map(pS).concat({type:e,attrs:t}).concat(s.map(pS)):null}function pS(i){return{type:i,attrs:null}}function RI(i,e){let{parent:t,startIndex:n,endIndex:r}=i,s=t.contentMatchAt(n).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return t.canReplaceWith(n,r,a)?s:null}function OI(i,e){let{parent:t,startIndex:n,endIndex:r}=i,s=t.child(n),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let d=n;c&&d<r;d++)c=c.matchType(t.child(d).type);return!c||!c.validEnd?null:a}function NI(i,e,t){let n=ke.empty;for(let a=t.length-1;a>=0;a--){if(n.size){let l=t[a].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=ke.from(t[a].type.create(t[a].attrs,n))}let r=e.start,s=e.end;i.step(new Nn(r,s,r,s,new Le(n,0,0),t.length,!0))}function FI(i,e,t,n,r){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=i.steps.length;i.doc.nodesBetween(e,t,(a,l)=>{let c=typeof r=="function"?r(a):r;if(a.isTextblock&&!a.hasMarkup(n,c)&&BI(i.doc,i.mapping.slice(s).map(l),n)){let d=null;if(n.schema.linebreakReplacement){let m=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);m&&!v?d=!1:!m&&v&&(d=!0)}d===!1&&zU(i,a,l,s),Yv(i,i.mapping.slice(s).map(l,1),n,void 0,d===null);let h=i.mapping.slice(s),p=h.map(l,1),g=h.map(l+a.nodeSize,1);return i.step(new Nn(p,g,p+1,g-1,new Le(ke.from(n.create(c,null,a.marks)),0,0),1,!0)),d===!0&&PU(i,a,l,s),!1}})}function PU(i,e,t,n){e.forEach((r,s)=>{if(r.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(r.text);){let c=i.mapping.slice(n).map(t+1+s+a.index);i.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function zU(i,e,t,n){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let a=i.mapping.slice(n).map(t+1+s);i.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function BI(i,e,t){let n=i.resolve(e),r=n.index();return n.parent.canReplaceWith(r,r+1,t)}function LI(i,e,t,n,r){let s=i.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let a=t.create(n,null,r||s.marks);if(s.isLeaf)return i.replaceWith(e,e+s.nodeSize,a);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);i.step(new Nn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Le(ke.from(a),0,0),1,!0))}function ws(i,e,t=1,n){let r=i.resolve(e),s=r.depth-t,a=n&&n[n.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let d=r.depth-1,h=t-2;d>s;d--,h--){let p=r.node(d),g=r.index(d);if(p.type.spec.isolating)return!1;let m=p.content.cutByIndex(g,p.childCount),v=n&&n[h+1];v&&(m=m.replaceChild(0,v.type.create(v.attrs)));let b=n&&n[h]||p;if(!p.canReplace(g+1,p.childCount)||!b.type.validContent(m))return!1}let l=r.indexAfter(s),c=n&&n[0];return r.node(s).canReplaceWith(l,l,c?c.type:r.node(s+1).type)}function II(i,e,t=1,n){let r=i.doc.resolve(e),s=ke.empty,a=ke.empty;for(let l=r.depth,c=r.depth-t,d=t-1;l>c;l--,d--){s=ke.from(r.node(l).copy(s));let h=n&&n[d];a=ke.from(h?h.type.create(h.attrs,a):r.node(l).copy(a))}i.step(new On(e,e,new Le(s.append(a),t,t),!0))}function Ma(i,e){let t=i.resolve(e),n=t.index();return WU(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function PI(i,e){e.content.size||i.type.compatibleContent(e.type);let t=i.contentMatchAt(i.childCount),{linebreakReplacement:n}=i.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),a=s.type==n?i.type.schema.nodes.text:s.type;if(t=t.matchType(a),!t||!i.type.allowsMarks(s.marks))return!1}return t.validEnd}function WU(i,e){return!!(i&&e&&!i.isLeaf&&PI(i,e))}function Ag(i,e,t=-1){let n=i.resolve(e);for(let r=n.depth;;r--){let s,a,l=n.index(r);if(r==n.depth?(s=n.nodeBefore,a=n.nodeAfter):t>0?(s=n.node(r+1),l++,a=n.node(r).maybeChild(l)):(s=n.node(r).maybeChild(l-1),a=n.node(r+1)),s&&!s.isTextblock&&WU(s,a)&&n.node(r).canReplace(l,l+1))return e;if(r==0)break;e=t<0?n.before(r):n.after(r)}}function zI(i,e,t){let n=null,{linebreakReplacement:r}=i.doc.type.schema,s=i.doc.resolve(e-t),a=s.node().type;if(r&&a.inlineContent){let h=a.whitespace=="pre",p=!!a.contentMatch.matchType(r);h&&!p?n=!1:!h&&p&&(n=!0)}let l=i.steps.length;if(n===!1){let h=i.doc.resolve(e+t);zU(i,h.node(),h.before(),l)}a.inlineContent&&Yv(i,e+t-1,a,s.node().contentMatchAt(s.index()),n==null);let c=i.mapping.slice(l),d=c.map(e-t);if(i.step(new On(d,c.map(e+t,-1),Le.empty,!0)),n===!0){let h=i.doc.resolve(d);PU(i,h.node(),h.before(),i.steps.length)}return i}function WI(i,e,t){let n=i.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let r=n.depth-1;r>=0;r--){let s=n.index(r);if(n.node(r).canReplaceWith(s,s,t))return n.before(r+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let r=n.depth-1;r>=0;r--){let s=n.indexAfter(r);if(n.node(r).canReplaceWith(s,s,t))return n.after(r+1);if(s<n.node(r).childCount)return null}return null}function jU(i,e,t){let n=i.resolve(e);if(!t.content.size)return e;let r=t.content;for(let s=0;s<t.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let a=n.depth;a>=0;a--){let l=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,c=n.index(a)+(l>0?1:0),d=n.node(a),h=!1;if(s==1)h=d.canReplace(c,c,r);else{let p=d.contentMatchAt(c).findWrapping(r.firstChild.type);h=p&&d.canReplaceWith(c,c,p[0])}if(h)return l==0?n.pos:l<0?n.before(a+1):n.after(a+1)}return null}function Tg(i,e,t=e,n=Le.empty){if(e==t&&!n.size)return null;let r=i.resolve(e),s=i.resolve(t);return HU(r,s,n)?new On(e,t,n):new jI(r,s,n).fit()}function HU(i,e,t){return!t.openStart&&!t.openEnd&&i.start()==e.start()&&i.parent.canReplace(i.index(),e.index(),t.content)}class jI{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=ke.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=ke.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let s=this.placed,a=n.depth,l=r.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let c=new Le(s,a,l);return e>-1?new Nn(n.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||n.pos!=this.$to.pos?new On(n.pos,r.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let s=t.firstChild;if(t.childCount>1&&(r=0),s.type.spec.isolating&&r<=n){e=n;break}t=s.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let r,s=null;n?(s=x0(this.unplaced.content,n-1).firstChild,r=s.content):r=this.unplaced.content;let a=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],h,p=null;if(t==1&&(a?d.matchType(a.type)||(p=d.fillBefore(ke.from(a),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:l,parent:s,inject:p};if(t==2&&a&&(h=d.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:l,parent:s,wrap:h};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=x0(e,t);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new Le(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=x0(e,t);if(r.childCount<=1&&t>0){let s=e.size-t<=t+r.size;this.unplaced=new Le(xu(e,t-1,1),t-1,s?t-1:n)}else this.unplaced=new Le(xu(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let b=0;b<s.length;b++)this.openFrontierNode(s[b]);let a=this.unplaced,l=n?n.content:a.content,c=a.openStart-e,d=0,h=[],{match:p,type:g}=this.frontier[t];if(r){for(let b=0;b<r.childCount;b++)h.push(r.child(b));p=p.matchFragment(r)}let m=l.size+e-(a.content.size-a.openEnd);for(;d<l.childCount;){let b=l.child(d),x=p.matchType(b.type);if(!x)break;d++,(d>1||c==0||b.content.size)&&(p=x,h.push(qU(b.mark(g.allowedMarks(b.marks)),d==1?c:0,d==l.childCount?m:-1)))}let v=d==l.childCount;v||(m=-1),this.placed=Du(this.placed,t,ke.from(h)),this.frontier[t].match=p,v&&m<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,x=l;b<m;b++){let D=x.lastChild;this.frontier.push({type:D.type,match:D.contentMatchAt(D.childCount)}),x=D.content}this.unplaced=v?e==0?Le.empty:new Le(xu(a.content,e-1,1),e-1,m<0?a.openEnd:e-1):new Le(xu(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!D0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=D0(e,t,r,n,s);if(a){for(let l=t-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],h=D0(e,l,d,c,!0);if(!h||h.childCount)continue e}return{depth:t,fit:a,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Du(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let r=e.node(n),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Du(this.placed,this.depth,ke.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ke.empty,!0);t.childCount&&(this.placed=Du(this.placed,this.frontier.length,t))}}function xu(i,e,t){return e==0?i.cutByIndex(t,i.childCount):i.replaceChild(0,i.firstChild.copy(xu(i.firstChild.content,e-1,t)))}function Du(i,e,t){return e==0?i.append(t):i.replaceChild(i.childCount-1,i.lastChild.copy(Du(i.lastChild.content,e-1,t)))}function x0(i,e){for(let t=0;t<e;t++)i=i.firstChild.content;return i}function qU(i,e,t){if(e<=0)return i;let n=i.content;return e>1&&(n=n.replaceChild(0,qU(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=i.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(i.type.contentMatch.matchFragment(n).fillBefore(ke.empty,!0)))),i.copy(n)}function D0(i,e,t,n,r){let s=i.node(e),a=r?i.indexAfter(e):i.index(e);if(a==s.childCount&&!t.compatibleContent(s.type))return null;let l=n.fillBefore(s.content,!0,a);return l&&!HI(t,s.content,a)?l:null}function HI(i,e,t){for(let n=t;n<e.childCount;n++)if(!i.allowsMarks(e.child(n).marks))return!0;return!1}function qI(i){return i.spec.defining||i.spec.definingForContent}function VI(i,e,t,n){if(!n.size)return i.deleteRange(e,t);let r=i.doc.resolve(e),s=i.doc.resolve(t);if(HU(r,s,n))return i.step(new On(e,t,n));let a=GU(r,s);a[a.length-1]==0&&a.pop();let l=-(r.depth+1);a.unshift(l);for(let g=r.depth,m=r.pos-1;g>0;g--,m--){let v=r.node(g).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;a.indexOf(g)>-1?l=g:r.before(g)==m&&a.splice(1,0,-g)}let c=a.indexOf(l),d=[],h=n.openStart;for(let g=n.content,m=0;;m++){let v=g.firstChild;if(d.push(v),m==n.openStart)break;g=v.content}for(let g=h-1;g>=0;g--){let m=d[g],v=qI(m.type);if(v&&!m.sameMarkup(r.node(Math.abs(l)-1)))h=g;else if(v||!m.type.isTextblock)break}for(let g=n.openStart;g>=0;g--){let m=(g+h+1)%(n.openStart+1),v=d[m];if(v)for(let b=0;b<a.length;b++){let x=a[(b+c)%a.length],D=!0;x<0&&(D=!1,x=-x);let w=r.node(x-1),T=r.index(x-1);if(w.canReplaceWith(T,T,v.type,v.marks))return i.replace(r.before(x),D?s.after(x):t,new Le(VU(n.content,0,n.openStart,m),m,n.openEnd))}}let p=i.steps.length;for(let g=a.length-1;g>=0&&(i.replace(e,t,n),!(i.steps.length>p));g--){let m=a[g];m<0||(e=r.before(m),t=s.after(m))}}function VU(i,e,t,n,r){if(e<t){let s=i.firstChild;i=i.replaceChild(0,s.copy(VU(s.content,e+1,t,n,s)))}if(e>n){let s=r.contentMatchAt(0),a=s.fillBefore(i).append(i);i=a.append(s.matchFragment(a).fillBefore(ke.empty,!0))}return i}function GI(i,e,t,n){if(!n.isInline&&e==t&&i.doc.resolve(e).parent.content.size){let r=WI(i.doc,e,n.type);r!=null&&(e=t=r)}i.replaceRange(e,t,new Le(ke.from(n),0,0))}function XI(i,e,t){let n=i.doc.resolve(e),r=i.doc.resolve(t),s=GU(n,r);for(let a=0;a<s.length;a++){let l=s[a],c=a==s.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return i.delete(n.start(l),r.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),r.indexAfter(l-1))))return i.delete(n.before(l),r.after(l))}for(let a=1;a<=n.depth&&a<=r.depth;a++)if(e-n.start(a)==n.depth-a&&t>n.end(a)&&r.end(a)-t!=r.depth-a&&n.start(a-1)==r.start(a-1)&&n.node(a-1).canReplace(n.index(a-1),r.index(a-1)))return i.delete(n.before(a),t);i.delete(e,t)}function GU(i,e){let t=[],n=Math.min(i.depth,e.depth);for(let r=n;r>=0;r--){let s=i.start(r);if(s<i.pos-(i.depth-r)||e.end(r)>e.pos+(e.depth-r)||i.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==i.depth&&r==e.depth&&i.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&t.push(r)}return t}class ql extends ei{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Dn.fail("No node at attribute step's position");let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Dn.fromReplace(e,this.pos,this.pos+1,new Le(ke.from(r),0,t.isLeaf?0:1))}getMap(){return zi.empty}invert(e){return new ql(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ql(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ql(t.pos,t.attr,t.value)}}ei.jsonID("attr",ql);class Zu extends ei{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return Dn.ok(n)}getMap(){return zi.empty}invert(e){return new Zu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Zu(t.attr,t.value)}}ei.jsonID("docAttr",Zu);let Kl=class extends Error{};Kl=function i(e){let t=Error.call(this,e);return t.__proto__=i.prototype,t};Kl.prototype=Object.create(Error.prototype);Kl.prototype.constructor=Kl;Kl.prototype.name="TransformError";class XU{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ku}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Kl(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Le.empty){let r=Tg(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new Le(ke.from(n),0,0))}delete(e,t){return this.replace(e,t,Le.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return VI(this,e,t,n),this}replaceRangeWith(e,t,n){return GI(this,e,t,n),this}deleteRange(e,t){return XI(this,e,t),this}lift(e,t){return MI(this,e,t),this}join(e,t=1){return zI(this,e,t),this}wrap(e,t){return NI(this,e,t),this}setBlockType(e,t=e,n,r=null){return FI(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return LI(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new ql(e,t,n)),this}setDocAttribute(e,t){return this.step(new Zu(e,t)),this}addNodeMark(e,t){return this.step(new ha(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof Wt)t.isInSet(n.marks)&&this.step(new Ao(e,t));else{let r=n.marks,s,a=[];for(;s=t.isInSet(r);)a.push(new Ao(e,s)),r=s.removeFromSet(r);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,t=1,n){return II(this,e,t,n),this}addMark(e,t,n){return CI(this,e,t,n),this}removeMark(e,t,n){return kI(this,e,t,n),this}clearIncompatible(e,t,n){return Yv(this,e,t,n),this}}const w0=Object.create(null);class dt{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new $I(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Le.empty){let n=t.content.lastChild,r=null;for(let l=0;l<t.openEnd;l++)r=n,n=n.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:d}=a[l],h=e.mapping.slice(s);e.replaceRange(h.map(c.pos),h.map(d.pos),l?Le.empty:t),l==0&&yS(e,s,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:a,$to:l}=r[s],c=e.mapping.slice(n),d=c.map(a.pos),h=c.map(l.pos);s?e.deleteRange(d,h):(e.replaceRangeWith(d,h,t),yS(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new tt(e):Ul(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let s=e.depth-1;s>=0;s--){let a=t<0?Ul(e.node(0),e.node(s),e.before(s+1),e.index(s),t,n):Ul(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,n);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Wi(e.node(0))}static atStart(e){return Ul(e,e,0,0,1)||new Wi(e)}static atEnd(e){return Ul(e,e,e.content.size,e.childCount,-1)||new Wi(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=w0[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in w0)throw new RangeError("Duplicate use of selection JSON ID "+e);return w0[e]=t,t.prototype.jsonID=e,t}getBookmark(){return tt.between(this.$anchor,this.$head).getBookmark()}}dt.prototype.visible=!0;class $I{constructor(e,t){this.$from=e,this.$to=t}}let gS=!1;function mS(i){!gS&&!i.parent.inlineContent&&(gS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}class tt extends dt{constructor(e,t=e){mS(e),mS(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return dt.near(n);let r=e.resolve(t.map(this.anchor));return new tt(r.parent.inlineContent?r:n,n)}replace(e,t=Le.empty){if(super.replace(e,t),t==Le.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof tt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new _g(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new tt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if((!n||r)&&(n=r>=0?1:-1),!t.parent.inlineContent){let s=dt.findFrom(t,n,!0)||dt.findFrom(t,-n,!0);if(s)t=s.$head;else return dt.near(t,n)}return e.parent.inlineContent||(r==0?e=t:(e=(dt.findFrom(e,-n,!0)||dt.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new tt(e,t)}}dt.jsonID("text",tt);class _g{constructor(e,t){this.anchor=e,this.head=t}map(e){return new _g(e.map(this.anchor),e.map(this.head))}resolve(e){return tt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ke extends dt{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),s=e.resolve(r);return n?dt.near(s):new Ke(s)}content(){return new Le(ke.from(this.node),0,0)}eq(e){return e instanceof Ke&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Zv(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ke(e.resolve(t.anchor))}static create(e,t){return new Ke(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ke.prototype.visible=!1;dt.jsonID("node",Ke);class Zv{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new _g(n,n):new Zv(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Ke.isSelectable(n)?new Ke(t):dt.near(t)}}class Wi extends dt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Le.empty){if(t==Le.empty){e.delete(0,e.doc.content.size);let n=dt.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Wi(e)}map(e){return new Wi(e)}eq(e){return e instanceof Wi}getBookmark(){return YI}}dt.jsonID("all",Wi);const YI={map(){return this},resolve(i){return new Wi(i)}};function Ul(i,e,t,n,r,s=!1){if(e.inlineContent)return tt.create(i,t);for(let a=n-(r>0?0:1);r>0?a<e.childCount:a>=0;a+=r){let l=e.child(a);if(l.isAtom){if(!s&&Ke.isSelectable(l))return Ke.create(i,t-(r<0?l.nodeSize:0))}else{let c=Ul(i,l,t+r,r<0?l.childCount:0,r,s);if(c)return c}t+=l.nodeSize*r}return null}function yS(i,e,t){let n=i.steps.length-1;if(n<e)return;let r=i.steps[n];if(!(r instanceof On||r instanceof Nn))return;let s=i.mapping.maps[n],a;s.forEach((l,c,d,h)=>{a==null&&(a=h)}),i.setSelection(dt.near(i.doc.resolve(a),t))}const bS=1,sf=2,vS=4;class KI extends XU{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|bS)&~sf,this.storedMarks=null,this}get selectionSet(){return(this.updated&bS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=sf,this}ensureMarks(e){return Wt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&sf)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~sf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Wt.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),!e)return this.deleteRange(t,n);let s=this.storedMarks;if(!s){let a=this.doc.resolve(t);s=n==t?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,s)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(dt.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=vS,this}get scrolledIntoView(){return(this.updated&vS)>0}}function xS(i,e){return!e||!i?i:i.bind(e)}class wu{constructor(e,t,n){this.name=e,this.init=xS(t.init,n),this.apply=xS(t.apply,n)}}const ZI=[new wu("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new wu("selection",{init(i,e){return i.selection||dt.atStart(e.doc)},apply(i){return i.selection}}),new wu("storedMarks",{init(i){return i.storedMarks||null},apply(i,e,t,n){return n.selection.$cursor?i.storedMarks:null}}),new wu("scrollToSelection",{init(){return 0},apply(i,e){return i.scrolledIntoView?e+1:e}})];class A0{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ZI.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new wu(n.key,n.spec.state,n))})}}class Ll{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=r?r[a].n:0,d=r?r[a].state:this,h=c<t.length&&l.spec.appendTransaction.call(l,c?t.slice(c):t,d,n);if(h&&n.filterTransaction(h,a)){if(h.setMeta("appendedTransaction",e),!r){r=[];for(let p=0;p<this.config.plugins.length;p++)r.push(p<a?{state:n,n:t.length}:{state:this,n:0})}t.push(h),n=n.applyInner(h),s=!0}r&&(r[a]={state:n,n:t.length})}}if(!s)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Ll(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let s=n[r];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new KI(this)}static create(e){let t=new A0(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Ll(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new A0(this.schema,e.plugins),n=t.fields,r=new Ll(t);for(let s=0;s<n.length;s++){let a=n[s].name;r[a]=this.hasOwnProperty(a)?this[a]:n[s].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],s=r.spec.state;s&&s.toJSON&&(t[n]=s.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new A0(e.schema,e.plugins),s=new Ll(r);return r.fields.forEach(a=>{if(a.name=="doc")s.doc=ga.fromJSON(e.schema,t.doc);else if(a.name=="selection")s.selection=dt.fromJSON(s.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],d=c.spec.state;if(c.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){s[a.name]=d.fromJSON.call(c,e,t[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function $U(i,e,t){for(let n in i){let r=i[n];r instanceof Function?r=r.bind(e):n=="handleDOMEvents"&&(r=$U(r,e,{})),t[n]=r}return t}class tn{constructor(e){this.spec=e,this.props={},e.props&&$U(e.props,this,this.props),this.key=e.key?e.key.key:YU("plugin")}getState(e){return e[this.key]}}const T0=Object.create(null);function YU(i){return i in T0?i+"$"+ ++T0[i]:(T0[i]=0,i+"$")}class Sn{constructor(e="key"){this.key=YU(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Qv=(i,e)=>i.selection.empty?!1:(e&&e(i.tr.deleteSelection().scrollIntoView()),!0);function KU(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("backward",i):t.parentOffset>0)?null:t}const ZU=(i,e,t)=>{let n=KU(i,t);if(!n)return!1;let r=Jv(n);if(!r){let a=n.blockRange(),l=a&&oc(a);return l==null?!1:(e&&e(i.tr.lift(a,l).scrollIntoView()),!0)}let s=r.nodeBefore;if(aM(i,r,e,-1))return!0;if(n.parent.content.size==0&&(Zl(s,"end")||Ke.isSelectable(s)))for(let a=n.depth;;a--){let l=Tg(i.doc,n.before(a),n.after(a),Le.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=i.tr.step(l);c.setSelection(Zl(s,"end")?dt.findFrom(c.doc.resolve(c.mapping.map(r.pos,-1)),-1):Ke.create(c.doc,r.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||n.node(a-1).childCount>1)break}return s.isAtom&&r.depth==n.depth-1?(e&&e(i.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},QI=(i,e,t)=>{let n=KU(i,t);if(!n)return!1;let r=Jv(n);return r?QU(i,r,e):!1},JI=(i,e,t)=>{let n=eM(i,t);if(!n)return!1;let r=e2(n);return r?QU(i,r,e):!1};function QU(i,e,t){let n=e.nodeBefore,r=n,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let h=r.lastChild;if(!h)return!1;r=h}let a=e.nodeAfter,l=a,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let h=l.firstChild;if(!h)return!1;l=h}let d=Tg(i.doc,s,c,Le.empty);if(!d||d.from!=s||d instanceof On&&d.slice.size>=c-s)return!1;if(t){let h=i.tr.step(d);h.setSelection(tt.create(h.doc,s)),t(h.scrollIntoView())}return!0}function Zl(i,e,t=!1){for(let n=i;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const JU=(i,e,t)=>{let{$head:n,empty:r}=i.selection,s=n;if(!r)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",i):n.parentOffset>0)return!1;s=Jv(n)}let a=s&&s.nodeBefore;return!a||!Ke.isSelectable(a)?!1:(e&&e(i.tr.setSelection(Ke.create(i.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function Jv(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){if(i.index(e)>0)return i.doc.resolve(i.before(e+1));if(i.node(e).type.spec.isolating)break}return null}function eM(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("forward",i):t.parentOffset<t.parent.content.size)?null:t}const tM=(i,e,t)=>{let n=eM(i,t);if(!n)return!1;let r=e2(n);if(!r)return!1;let s=r.nodeAfter;if(aM(i,r,e,1))return!0;if(n.parent.content.size==0&&(Zl(s,"start")||Ke.isSelectable(s))){let a=Tg(i.doc,n.before(),n.after(),Le.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=i.tr.step(a);l.setSelection(Zl(s,"start")?dt.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):Ke.create(l.doc,l.mapping.map(r.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&r.depth==n.depth-1?(e&&e(i.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},nM=(i,e,t)=>{let{$head:n,empty:r}=i.selection,s=n;if(!r)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",i):n.parentOffset<n.parent.content.size)return!1;s=e2(n)}let a=s&&s.nodeAfter;return!a||!Ke.isSelectable(a)?!1:(e&&e(i.tr.setSelection(Ke.create(i.doc,s.pos)).scrollIntoView()),!0)};function e2(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){let t=i.node(e);if(i.index(e)+1<t.childCount)return i.doc.resolve(i.after(e+1));if(t.type.spec.isolating)break}return null}const e9=(i,e)=>{let t=i.selection,n=t instanceof Ke,r;if(n){if(t.node.isTextblock||!Ma(i.doc,t.from))return!1;r=t.from}else if(r=Ag(i.doc,t.from,-1),r==null)return!1;if(e){let s=i.tr.join(r);n&&s.setSelection(Ke.create(s.doc,r-i.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},t9=(i,e)=>{let t=i.selection,n;if(t instanceof Ke){if(t.node.isTextblock||!Ma(i.doc,t.to))return!1;n=t.to}else if(n=Ag(i.doc,t.to,1),n==null)return!1;return e&&e(i.tr.join(n).scrollIntoView()),!0},n9=(i,e)=>{let{$from:t,$to:n}=i.selection,r=t.blockRange(n),s=r&&oc(r);return s==null?!1:(e&&e(i.tr.lift(r,s).scrollIntoView()),!0)},iM=(i,e)=>{let{$head:t,$anchor:n}=i.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(i.tr.insertText(`
`).scrollIntoView()),!0)};function t2(i){for(let e=0;e<i.edgeCount;e++){let{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const i9=(i,e)=>{let{$head:t,$anchor:n}=i.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let r=t.node(-1),s=t.indexAfter(-1),a=t2(r.contentMatchAt(s));if(!a||!r.canReplaceWith(s,s,a))return!1;if(e){let l=t.after(),c=i.tr.replaceWith(l,l,a.createAndFill());c.setSelection(dt.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},rM=(i,e)=>{let t=i.selection,{$from:n,$to:r}=t;if(t instanceof Wi||n.parent.inlineContent||r.parent.inlineContent)return!1;let s=t2(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!n.parentOffset&&r.index()<r.parent.childCount?n:r).pos,l=i.tr.insert(a,s.createAndFill());l.setSelection(tt.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},sM=(i,e)=>{let{$cursor:t}=i.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(ws(i.doc,s))return e&&e(i.tr.split(s).scrollIntoView()),!0}let n=t.blockRange(),r=n&&oc(n);return r==null?!1:(e&&e(i.tr.lift(n,r).scrollIntoView()),!0)};function r9(i){return(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Ke&&e.selection.node.isBlock)return!n.parentOffset||!ws(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],a,l,c=!1,d=!1;for(let m=n.depth;;m--)if(n.node(m).isBlock){c=n.end(m)==n.pos+(n.depth-m),d=n.start(m)==n.pos-(n.depth-m),l=t2(n.node(m-1).contentMatchAt(n.indexAfter(m-1))),s.unshift(c&&l?{type:l}:null),a=m;break}else{if(m==1)return!1;s.unshift(null)}let h=e.tr;(e.selection instanceof tt||e.selection instanceof Wi)&&h.deleteSelection();let p=h.mapping.map(n.pos),g=ws(h.doc,p,s.length,s);if(g||(s[0]=l?{type:l}:null,g=ws(h.doc,p,s.length,s)),!g)return!1;if(h.split(p,s.length,s),!c&&d&&n.node(a).type!=l){let m=h.mapping.map(n.before(a)),v=h.doc.resolve(m);l&&n.node(a-1).canReplaceWith(v.index(),v.index()+1,l)&&h.setNodeMarkup(h.mapping.map(n.before(a)),l)}return t&&t(h.scrollIntoView()),!0}}const s9=r9(),a9=(i,e)=>{let{$from:t,to:n}=i.selection,r,s=t.sharedDepth(n);return s==0?!1:(r=t.before(s),e&&e(i.tr.setSelection(Ke.create(i.doc,r))),!0)};function o9(i,e,t){let n=e.nodeBefore,r=e.nodeAfter,s=e.index();return!n||!r||!n.type.compatibleContent(r.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(t&&t(i.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||Ma(i.doc,e.pos))?!1:(t&&t(i.tr.join(e.pos).scrollIntoView()),!0)}function aM(i,e,t,n){let r=e.nodeBefore,s=e.nodeAfter,a,l,c=r.type.spec.isolating||s.type.spec.isolating;if(!c&&o9(i,e,t))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(l=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(t){let m=e.pos+s.nodeSize,v=ke.empty;for(let D=a.length-1;D>=0;D--)v=ke.from(a[D].create(null,v));v=ke.from(r.copy(v));let b=i.tr.step(new Nn(e.pos-1,m,e.pos,m,new Le(v,1,0),a.length,!0)),x=b.doc.resolve(m+2*a.length);x.nodeAfter&&x.nodeAfter.type==r.type&&Ma(b.doc,x.pos)&&b.join(x.pos),t(b.scrollIntoView())}return!0}let h=s.type.spec.isolating||n>0&&c?null:dt.findFrom(e,1),p=h&&h.$from.blockRange(h.$to),g=p&&oc(p);if(g!=null&&g>=e.depth)return t&&t(i.tr.lift(p,g).scrollIntoView()),!0;if(d&&Zl(s,"start",!0)&&Zl(r,"end")){let m=r,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let b=s,x=1;for(;!b.isTextblock;b=b.firstChild)x++;if(m.canReplace(m.childCount,m.childCount,b.content)){if(t){let D=ke.empty;for(let T=v.length-1;T>=0;T--)D=ke.from(v[T].copy(D));let w=i.tr.step(new Nn(e.pos-v.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new Le(D,v.length,0),0,!0));t(w.scrollIntoView())}return!0}}return!1}function oM(i){return function(e,t){let n=e.selection,r=i<0?n.$from:n.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(t&&t(e.tr.setSelection(tt.create(e.doc,i<0?r.start(s):r.end(s)))),!0):!1}}const l9=oM(-1),c9=oM(1);function u9(i,e=null){return function(t,n){let{$from:r,$to:s}=t.selection,a=r.blockRange(s),l=a&&Kv(a,i,e);return l?(n&&n(t.tr.wrap(a,l).scrollIntoView()),!0):!1}}function DS(i,e=null){return function(t,n){let r=!1;for(let s=0;s<t.selection.ranges.length&&!r;s++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[s];t.doc.nodesBetween(a,l,(c,d)=>{if(r)return!1;if(!(!c.isTextblock||c.hasMarkup(i,e)))if(c.type==i)r=!0;else{let h=t.doc.resolve(d),p=h.index();r=h.parent.canReplaceWith(p,p+1,i)}})}if(!r)return!1;if(n){let s=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:c}}=t.selection.ranges[a];s.setBlockType(l,c,i,e)}n(s.scrollIntoView())}return!0}}function n2(...i){return function(e,t,n){for(let r=0;r<i.length;r++)if(i[r](e,t,n))return!0;return!1}}n2(Qv,ZU,JU);n2(Qv,tM,nM);n2(iM,rM,sM,s9);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function d9(i,e=null){return function(t,n){let{$from:r,$to:s}=t.selection,a=r.blockRange(s);if(!a)return!1;let l=n?t.tr:null;return h9(l,a,i,e)?(n&&n(l.scrollIntoView()),!0):!1}}function h9(i,e,t,n=null){let r=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);s=new ip(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new ip(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let l=Kv(s,t,n,e);return l?(i&&f9(i,e,l,r,t),!0):!1}function f9(i,e,t,n,r){let s=ke.empty;for(let h=t.length-1;h>=0;h--)s=ke.from(t[h].type.create(t[h].attrs,s));i.step(new Nn(e.start-(n?2:0),e.end,e.start,e.end,new Le(s,0,0),t.length,!0));let a=0;for(let h=0;h<t.length;h++)t[h].type==r&&(a=h+1);let l=t.length-a,c=e.start+t.length-(n?2:0),d=e.parent;for(let h=e.startIndex,p=e.endIndex,g=!0;h<p;h++,g=!1)!g&&ws(i.doc,c,l)&&(i.split(c,l),c+=2*l),c+=d.child(h).nodeSize;return i}function p9(i){return function(e,t){let{$from:n,$to:r}=e.selection,s=n.blockRange(r,a=>a.childCount>0&&a.firstChild.type==i);return s?t?n.node(s.depth-1).type==i?g9(e,t,i,s):m9(e,t,s):!0:!1}}function g9(i,e,t,n){let r=i.tr,s=n.end,a=n.$to.end(n.depth);s<a&&(r.step(new Nn(s-1,a,s,a,new Le(ke.from(t.create(null,n.parent.copy())),1,0),1,!0)),n=new ip(r.doc.resolve(n.$from.pos),r.doc.resolve(a),n.depth));const l=oc(n);if(l==null)return!1;r.lift(n,l);let c=r.doc.resolve(r.mapping.map(s,-1)-1);return Ma(r.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&r.join(c.pos),e(r.scrollIntoView()),!0}function m9(i,e,t){let n=i.tr,r=t.parent;for(let m=t.end,v=t.endIndex-1,b=t.startIndex;v>b;v--)m-=r.child(v).nodeSize,n.delete(m-1,m+1);let s=n.doc.resolve(t.start),a=s.nodeAfter;if(n.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let l=t.startIndex==0,c=t.endIndex==r.childCount,d=s.node(-1),h=s.index(-1);if(!d.canReplace(h+(l?0:1),h+1,a.content.append(c?ke.empty:ke.from(r))))return!1;let p=s.pos,g=p+a.nodeSize;return n.step(new Nn(p-(l?1:0),g+(c?1:0),p+1,g-1,new Le((l?ke.empty:ke.from(r.copy(ke.empty))).append(c?ke.empty:ke.from(r.copy(ke.empty))),l?0:1,c?0:1),l?0:1)),e(n.scrollIntoView()),!0}function y9(i){return function(e,t){let{$from:n,$to:r}=e.selection,s=n.blockRange(r,d=>d.childCount>0&&d.firstChild.type==i);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,c=l.child(a-1);if(c.type!=i)return!1;if(t){let d=c.lastChild&&c.lastChild.type==l.type,h=ke.from(d?i.create():null),p=new Le(ke.from(i.create(null,ke.from(l.type.create(null,h)))),d?3:1,0),g=s.start,m=s.end;t(e.tr.step(new Nn(g-(d?3:1),m,g,m,p,1,!0)).scrollIntoView())}return!0}}const Vn=function(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e},Ql=function(i){let e=i.assignedSlot||i.parentNode;return e&&e.nodeType==11?e.host:e};let y1=null;const vs=function(i,e,t){let n=y1||(y1=document.createRange());return n.setEnd(i,t??i.nodeValue.length),n.setStart(i,e||0),n},b9=function(){y1=null},To=function(i,e,t,n){return t&&(wS(i,e,t,n,-1)||wS(i,e,t,n,1))},v9=/^(img|br|input|textarea|hr)$/i;function wS(i,e,t,n,r){for(var s;;){if(i==t&&e==n)return!0;if(e==(r<0?0:cr(i))){let a=i.parentNode;if(!a||a.nodeType!=1||md(i)||v9.test(i.nodeName)||i.contentEditable=="false")return!1;e=Vn(i)+(r<0?0:1),i=a}else if(i.nodeType==1){let a=i.childNodes[e+(r<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=r;else return!1;else i=a,e=r<0?cr(i):0}else return!1}}function cr(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function x9(i,e){for(;;){if(i.nodeType==3&&e)return i;if(i.nodeType==1&&e>0){if(i.contentEditable=="false")return null;i=i.childNodes[e-1],e=cr(i)}else if(i.parentNode&&!md(i))e=Vn(i),i=i.parentNode;else return null}}function D9(i,e){for(;;){if(i.nodeType==3&&e<i.nodeValue.length)return i;if(i.nodeType==1&&e<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[e],e=0}else if(i.parentNode&&!md(i))e=Vn(i)+1,i=i.parentNode;else return null}}function w9(i,e,t){for(let n=e==0,r=e==cr(i);n||r;){if(i==t)return!0;let s=Vn(i);if(i=i.parentNode,!i)return!1;n=n&&s==0,r=r&&s==cr(i)}}function md(i){let e;for(let t=i;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==i||e.contentDOM==i)}const Eg=function(i){return i.focusNode&&To(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function to(i,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=i,t.key=t.code=e,t}function A9(i){let e=i.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function T9(i,e,t){if(i.caretPositionFromPoint)try{let n=i.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min(cr(n.offsetNode),n.offset)}}catch{}if(i.caretRangeFromPoint){let n=i.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min(cr(n.startContainer),n.startOffset)}}}const Hr=typeof navigator<"u"?navigator:null,AS=typeof document<"u"?document:null,Ra=Hr&&Hr.userAgent||"",b1=/Edge\/(\d+)/.exec(Ra),lM=/MSIE \d/.exec(Ra),v1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ra),Ti=!!(lM||v1||b1),ya=lM?document.documentMode:v1?+v1[1]:b1?+b1[1]:0,dr=!Ti&&/gecko\/(\d+)/i.test(Ra);dr&&+(/Firefox\/(\d+)/.exec(Ra)||[0,0])[1];const x1=!Ti&&/Chrome\/(\d+)/.exec(Ra),Zn=!!x1,cM=x1?+x1[1]:0,ci=!Ti&&!!Hr&&/Apple Computer/.test(Hr.vendor),Jl=ci&&(/Mobile\/\w+/.test(Ra)||!!Hr&&Hr.maxTouchPoints>2),lr=Jl||(Hr?/Mac/.test(Hr.platform):!1),_9=Hr?/Win/.test(Hr.platform):!1,Ds=/Android \d/.test(Ra),yd=!!AS&&"webkitFontSmoothing"in AS.documentElement.style,E9=yd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function S9(i){let e=i.defaultView&&i.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function fs(i,e){return typeof i=="number"?i:i[e]}function C9(i){let e=i.getBoundingClientRect(),t=e.width/i.offsetWidth||1,n=e.height/i.offsetHeight||1;return{left:e.left,right:e.left+i.clientWidth*t,top:e.top,bottom:e.top+i.clientHeight*n}}function TS(i,e,t){let n=i.someProp("scrollThreshold")||0,r=i.someProp("scrollMargin")||5,s=i.dom.ownerDocument;for(let a=t||i.dom;a;){if(a.nodeType!=1){a=Ql(a);continue}let l=a,c=l==s.body,d=c?S9(s):C9(l),h=0,p=0;if(e.top<d.top+fs(n,"top")?p=-(d.top-e.top+fs(r,"top")):e.bottom>d.bottom-fs(n,"bottom")&&(p=e.bottom-e.top>d.bottom-d.top?e.top+fs(r,"top")-d.top:e.bottom-d.bottom+fs(r,"bottom")),e.left<d.left+fs(n,"left")?h=-(d.left-e.left+fs(r,"left")):e.right>d.right-fs(n,"right")&&(h=e.right-d.right+fs(r,"right")),h||p)if(c)s.defaultView.scrollBy(h,p);else{let m=l.scrollLeft,v=l.scrollTop;p&&(l.scrollTop+=p),h&&(l.scrollLeft+=h);let b=l.scrollLeft-m,x=l.scrollTop-v;e={left:e.left-b,top:e.top-x,right:e.right-b,bottom:e.bottom-x}}let g=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(g))break;a=g=="absolute"?a.offsetParent:Ql(a)}}function k9(i){let e=i.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,r;for(let s=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=i.root.elementFromPoint(s,a);if(!l||l==i.dom||!i.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=t-20){n=l,r=c.top;break}}return{refDOM:n,refTop:r,stack:uM(i.dom)}}function uM(i){let e=[],t=i.ownerDocument;for(let n=i;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),i!=t);n=Ql(n));return e}function U9({refDOM:i,refTop:e,stack:t}){let n=i?i.getBoundingClientRect().top:0;dM(t,n==0?0:n-e)}function dM(i,e){for(let t=0;t<i.length;t++){let{dom:n,top:r,left:s}=i[t];n.scrollTop!=r+e&&(n.scrollTop=r+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let _l=null;function M9(i){if(i.setActive)return i.setActive();if(_l)return i.focus(_l);let e=uM(i);i.focus(_l==null?{get preventScroll(){return _l={preventScroll:!0},!0}}:void 0),_l||(_l=!1,dM(e,0))}function hM(i,e){let t,n=2e8,r,s=0,a=e.top,l=e.top,c,d;for(let h=i.firstChild,p=0;h;h=h.nextSibling,p++){let g;if(h.nodeType==1)g=h.getClientRects();else if(h.nodeType==3)g=vs(h).getClientRects();else continue;for(let m=0;m<g.length;m++){let v=g[m];if(v.top<=a&&v.bottom>=l){a=Math.max(v.bottom,a),l=Math.min(v.top,l);let b=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(b<n){t=h,n=b,r=b&&t.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,h.nodeType==1&&b&&(s=p+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!c&&v.left<=e.left&&v.right>=e.left&&(c=h,d={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!t&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(s=p+1)}}return!t&&c&&(t=c,r=d,n=0),t&&t.nodeType==3?R9(t,r):!t||n&&t.nodeType==1?{node:i,offset:s}:hM(t,r)}function R9(i,e){let t=i.nodeValue.length,n=document.createRange();for(let r=0;r<t;r++){n.setEnd(i,r+1),n.setStart(i,r);let s=ta(n,1);if(s.top!=s.bottom&&i2(e,s))return{node:i,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:i,offset:0}}function i2(i,e){return i.left>=e.left-1&&i.left<=e.right+1&&i.top>=e.top-1&&i.top<=e.bottom+1}function O9(i,e){let t=i.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<i.getBoundingClientRect().left?t:i}function N9(i,e,t){let{node:n,offset:r}=hM(e,t),s=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();s=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return i.docView.posFromDOM(n,r,s)}function F9(i,e,t,n){let r=-1;for(let s=e,a=!1;s!=i.dom;){let l=i.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&c.left>n.left||c.top>n.top?r=l.posBefore:(!a&&c.right<n.left||c.bottom<n.top)&&(r=l.posAfter),a=!0),!l.contentDOM&&r<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return r>-1?r:i.docView.posFromDOM(e,t,-1)}function fM(i,e,t){let n=i.childNodes.length;if(n&&t.top<t.bottom)for(let r=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),s=r;;){let a=i.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(i2(e,d))return fM(a,e,d)}}if((s=(s+1)%n)==r)break}return i}function B9(i,e){let t=i.dom.ownerDocument,n,r=0,s=T9(t,e.left,e.top);s&&({node:n,offset:r}=s);let a=(i.root.elementFromPoint?i.root:t).elementFromPoint(e.left,e.top),l;if(!a||!i.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=i.dom.getBoundingClientRect();if(!i2(e,d)||(a=fM(i.dom,e,d),!a))return null}if(ci)for(let d=a;n&&d;d=Ql(d))d.draggable&&(n=void 0);if(a=O9(a,e),n){if(dr&&n.nodeType==1&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let h=n.childNodes[r],p;h.nodeName=="IMG"&&(p=h.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&r++}let d;yd&&r&&n.nodeType==1&&(d=n.childNodes[r-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&r--,n==i.dom&&r==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=i.state.doc.content.size:(r==0||n.nodeType!=1||n.childNodes[r-1].nodeName!="BR")&&(l=F9(i,n,r,e))}l==null&&(l=N9(i,a,e));let c=i.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function _S(i){return i.top<i.bottom||i.left<i.right}function ta(i,e){let t=i.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(_S(n))return n}return Array.prototype.find.call(t,_S)||i.getBoundingClientRect()}const L9=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function pM(i,e,t){let{node:n,offset:r,atom:s}=i.docView.domFromPos(e,t<0?-1:1),a=yd||dr;if(n.nodeType==3)if(a&&(L9.test(n.nodeValue)||(t<0?!r:r==n.nodeValue.length))){let c=ta(vs(n,r,r),t);if(dr&&r&&/\s/.test(n.nodeValue[r-1])&&r<n.nodeValue.length){let d=ta(vs(n,r-1,r-1),-1);if(d.top==c.top){let h=ta(vs(n,r,r+1),-1);if(h.top!=c.top)return gu(h,h.left<d.left)}}return c}else{let c=r,d=r,h=t<0?1:-1;return t<0&&!r?(d++,h=-1):t>=0&&r==n.nodeValue.length?(c--,h=1):t<0?c--:d++,gu(ta(vs(n,c,d),h),h<0)}if(!i.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(t<0||r==cr(n))){let c=n.childNodes[r-1];if(c.nodeType==1)return _0(c.getBoundingClientRect(),!1)}if(s==null&&r<cr(n)){let c=n.childNodes[r];if(c.nodeType==1)return _0(c.getBoundingClientRect(),!0)}return _0(n.getBoundingClientRect(),t>=0)}if(s==null&&r&&(t<0||r==cr(n))){let c=n.childNodes[r-1],d=c.nodeType==3?vs(c,cr(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return gu(ta(d,1),!1)}if(s==null&&r<cr(n)){let c=n.childNodes[r];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?vs(c,0,a?0:1):c.nodeType==1?c:null:null;if(d)return gu(ta(d,-1),!0)}return gu(ta(n.nodeType==3?vs(n):n,-t),t>=0)}function gu(i,e){if(i.width==0)return i;let t=e?i.left:i.right;return{top:i.top,bottom:i.bottom,left:t,right:t}}function _0(i,e){if(i.height==0)return i;let t=e?i.top:i.bottom;return{top:t,bottom:t,left:i.left,right:i.right}}function gM(i,e,t){let n=i.state,r=i.root.activeElement;n!=e&&i.updateState(e),r!=i.dom&&i.focus();try{return t()}finally{n!=e&&i.updateState(n),r!=i.dom&&r&&r.focus()}}function I9(i,e,t){let n=e.selection,r=t=="up"?n.$from:n.$to;return gM(i,e,()=>{let{node:s}=i.docView.domFromPos(r.pos,t=="up"?-1:1);for(;;){let l=i.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=pM(i,r.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=vs(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let h=c[d];if(h.bottom>h.top+1&&(t=="up"?a.top-h.top>(h.bottom-a.top)*2:h.bottom-a.bottom>(a.bottom-h.top)*2))return!1}}return!0})}const P9=/[\u0590-\u08ac]/;function z9(i,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let r=n.parentOffset,s=!r,a=r==n.parent.content.size,l=i.domSelection();return l?!P9.test(n.parent.textContent)||!l.modify?t=="left"||t=="backward"?s:a:gM(i,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:h,anchorOffset:p}=i.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",t,"character");let m=n.depth?i.docView.domAfterPos(n.before()):i.dom,{focusNode:v,focusOffset:b}=i.domSelectionRange(),x=v&&!m.contains(v.nodeType==1?v:v.parentNode)||c==v&&d==b;try{l.collapse(h,p),c&&(c!=h||d!=p)&&l.extend&&l.extend(c,d)}catch{}return g!=null&&(l.caretBidiLevel=g),x}):n.pos==n.start()||n.pos==n.end()}let ES=null,SS=null,CS=!1;function W9(i,e,t){return ES==e&&SS==t?CS:(ES=e,SS=t,CS=t=="up"||t=="down"?I9(i,e,t):z9(i,e,t))}const hr=0,kS=1,io=2,qr=3;class bd{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=hr,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,a;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=t>Vn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),a;if(s&&(!t||s.node))if(n&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))n=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],s=n+r.size;if(n==e&&s!=n){for(;!r.border&&r.children.length;)for(let a=0;a<r.children.length;a++){let l=r.children[a];if(l.size){r=l;break}}return r}if(e<s)return r.descAt(e-n-r.border);n=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let s=0;n<this.children.length;n++){let a=this.children[n],l=s+a.size;if(l>e||a instanceof yM){r=e-s;break}s=l}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof mM&&s.side>=0;n--);if(t<=0){let s,a=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,a=!1);return s&&t&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Vn(s.dom)+1:0}}else{let s,a=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Vn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let a=n,l=0;;l++){let c=this.children[l],d=a+c.size;if(r==-1&&e<=d){let h=a+c.border;if(e>=h&&t<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,h);e=a;for(let p=l;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){r=Vn(g.dom)+1;break}e-=g.size}r==-1&&(r=0)}if(r>-1&&(d>t||l==this.children.length-1)){t=d;for(let h=l+1;h<this.children.length;h++){let p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=Vn(p.dom);break}t+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let s=Math.min(e,t),a=Math.max(e,t);for(let m=0,v=0;m<this.children.length;m++){let b=this.children[m],x=v+b.size;if(s>v&&a<x)return b.setSelection(e-v-b.border,t-v-b.border,n,r);v=x}let l=this.domFromPos(e,e?-1:1),c=t==e?l:this.domFromPos(t,t?-1:1),d=n.root.getSelection(),h=n.domSelectionRange(),p=!1;if((dr||ci)&&e==t){let{node:m,offset:v}=l;if(m.nodeType==3){if(p=!!(v&&m.nodeValue[v-1]==`
`),p&&v==m.nodeValue.length)for(let b=m,x;b;b=b.parentNode){if(x=b.nextSibling){x.nodeName=="BR"&&(l=c={node:x.parentNode,offset:Vn(x)+1});break}let D=b.pmViewDesc;if(D&&D.node&&D.node.isBlock)break}}else{let b=m.childNodes[v-1];p=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(dr&&h.focusNode&&h.focusNode!=c.node&&h.focusNode.nodeType==1){let m=h.focusNode.childNodes[h.focusOffset];m&&m.contentEditable=="false"&&(r=!0)}if(!(r||p&&ci)&&To(l.node,l.offset,h.anchorNode,h.anchorOffset)&&To(c.node,c.offset,h.focusNode,h.focusOffset))return;let g=!1;if((d.extend||e==t)&&!(p&&dr)){d.collapse(l.node,l.offset);try{e!=t&&d.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>t){let v=l;l=c,c=v}let m=document.createRange();m.setEnd(c.node,c.offset),m.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let s=this.children[r],a=n+s.size;if(n==a?e<=a&&t>=n:e<a&&t>n){let l=n+s.border,c=a-s.border;if(e>=l&&t<=c){this.dirty=e==n||t==a?io:kS,e==l&&t==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=qr:s.markDirty(e-l,t-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?io:qr}n=a}this.dirty=io}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?io:kS;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class mM extends bd{constructor(e,t,n,r){let s,a=t.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==hr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class j9 extends bd{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class _o extends bd{constructor(e,t,n,r,s){super(e,[],n,r),this.mark=t,this.spec=s}static create(e,t,n,r){let s=r.nodeViews[t.type.name],a=s&&s(t,r,n);return(!a||!a.dom)&&(a=Oo.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new _o(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&qr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=qr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=hr){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=hr}}slice(e,t,n){let r=_o.create(this.parent,this.mark,!0,n),s=this.children,a=this.size;t<a&&(s=w1(s,t,a,n)),e>0&&(s=w1(s,0,e,n));for(let l=0;l<s.length;l++)s[l].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ba extends bd{constructor(e,t,n,r,s,a,l,c,d){super(e,[],s,a),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=l}static create(e,t,n,r,s,a){let l=s.nodeViews[t.type.name],c,d=l&&l(t,s,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},n,r),h=d&&d.dom,p=d&&d.contentDOM;if(t.isText){if(!h)h=document.createTextNode(t.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:p}=Oo.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!p&&!t.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),t.type.spec.draggable&&(h.draggable=!0));let g=h;return h=xM(h,n,t),d?c=new H9(e,t,n,r,h,p||null,g,d,s,a+1):t.isText?new Sg(e,t,n,r,h,g,s):new ba(e,t,n,r,h,p||null,g,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ke.empty)}return e}matchesNode(e,t,n){return this.dirty==hr&&e.eq(this.node)&&sp(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,s=e.composing?this.localCompositionInfo(e,t):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new V9(this,a&&a.node,e);$9(this.node,this.innerDeco,(d,h,p)=>{d.spec.marks?c.syncToMarks(d.spec.marks,n,e):d.type.side>=0&&!p&&c.syncToMarks(h==this.node.childCount?Wt.none:this.node.child(h).marks,n,e),c.placeWidget(d,e,r)},(d,h,p,g)=>{c.syncToMarks(d.marks,n,e);let m;c.findNodeMatch(d,h,p,g)||l&&e.state.selection.from>r&&e.state.selection.to<r+d.nodeSize&&(m=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(d,h,p,m,e)||c.updateNextNode(d,h,p,e,g,r)||c.addNode(d,h,p,e,r),r+=d.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==io)&&(a&&this.protectLocalComposition(e,a),bM(this.contentDOM,this.children,e),Jl&&Y9(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof tt)||n<t||r>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=K9(this.node.content,a,n-t,r-t);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new j9(this,s,t,r);e.input.compositionNodes.push(a),this.children=w1(this.children,n,n+r.length,e,a)}update(e,t,n,r){return this.dirty==qr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=hr}updateOuterDeco(e){if(sp(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=vM(this.dom,this.nodeDOM,D1(this.outerDeco,this.node,t),D1(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function US(i,e,t,n,r){xM(n,e,i);let s=new ba(void 0,i,e,t,n,n,n,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class Sg extends ba{constructor(e,t,n,r,s,a,l){super(e,t,n,r,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return this.dirty==qr||this.dirty!=hr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=hr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=hr,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let r=this.node.cut(e,t),s=document.createTextNode(r.text);return new Sg(this.parent,r,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=qr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class yM extends bd{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==hr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class H9 extends ba{constructor(e,t,n,r,s,a,l,c,d,h){super(e,t,n,r,s,a,l,d,h),this.spec=c}update(e,t,n,r){if(this.dirty==qr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,n);return s&&this.updateInner(e,t,n,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function bM(i,e,t){let n=i.firstChild,r=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==i){for(;l!=n;)n=MS(n),r=!0;n=n.nextSibling}else r=!0,i.insertBefore(l,n);if(a instanceof _o){let c=n?n.previousSibling:i.lastChild;bM(a.contentDOM,a.children,t),n=c?c.nextSibling:i.firstChild}}for(;n;)n=MS(n),r=!0;r&&t.trackWrites==i&&(t.trackWrites=null)}const Su=function(i){i&&(this.nodeName=i)};Su.prototype=Object.create(null);const ro=[new Su];function D1(i,e,t){if(i.length==0)return ro;let n=t?ro[0]:new Su,r=[n];for(let s=0;s<i.length;s++){let a=i[s].type.attrs;if(a){a.nodeName&&r.push(n=new Su(a.nodeName));for(let l in a){let c=a[l];c!=null&&(t&&r.length==1&&r.push(n=new Su(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return r}function vM(i,e,t,n){if(t==ro&&n==ro)return e;let r=e;for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(s){let c;l&&l.nodeName==a.nodeName&&r!=i&&(c=r.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(r),l=ro[0]),r=c}q9(r,l||ro[0],a)}return r}function q9(i,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&i.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&i.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],r=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)r.indexOf(n[s])==-1&&i.classList.remove(n[s]);for(let s=0;s<r.length;s++)n.indexOf(r[s])==-1&&i.classList.add(r[s]);i.classList.length==0&&i.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(e.style);)i.style.removeProperty(r[1])}t.style&&(i.style.cssText+=t.style)}}function xM(i,e,t){return vM(i,i,ro,D1(e,t,i.nodeType!=1))}function sp(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].type.eq(e[t].type))return!1;return!0}function MS(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class V9{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=G9(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;r<a&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=hr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=_o.create(this.top,e[s],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,n,r){let s=-1,a;if(r>=this.preMatch.index&&(a=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,n))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,t,n)&&!this.preMatch.matched.has(d)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,n,r,s){let a=this.top.children[r];return a.dirty==qr&&a.dom==a.contentDOM&&(a.dirty=io),a.update(e,t,n,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r}return-1}e=t}}updateNextNode(e,t,n,r,s,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof ba){let d=this.preMatch.matched.get(c);if(d!=null&&d!=s)return!1;let h=c.dom,p,g=this.isLocked(h)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=qr&&sp(t,c.outerDeco));if(!g&&c.update(e,t,n,r))return this.destroyBetween(this.index,l),c.dom!=h&&(this.changed=!0),this.index++,!0;if(!g&&(p=this.recreateWrapper(c,e,t,n,r,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=io,p.updateChildren(r,a+1),p.dirty=hr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,s,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!sp(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let l=ba.create(this.top,t,n,r,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,t,n,r,s){let a=ba.create(this.top,e,t,n,r,s);a.contentDOM&&a.updateChildren(r,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new mM(this.top,e,t,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof _o;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Sg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ci||Zn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let r=new yM(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function G9(i,e){let t=e,n=t.children.length,r=i.childCount,s=new Map,a=[];e:for(;r>0;){let l;for(;;)if(n){let d=t.children[n-1];if(d instanceof _o)t=d,n=d.children.length;else{l=d,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let c=l.node;if(c){if(c!=i.child(r-1))break;--r,s.set(l,r),a.push(l)}}return{index:r,matched:s,matches:a.reverse()}}function X9(i,e){return i.type.side-e.type.side}function $9(i,e,t,n){let r=e.locals(i),s=0;if(r.length==0){for(let d=0;d<i.childCount;d++){let h=i.child(d);n(h,r,e.forChild(s,h),d),s+=h.nodeSize}return}let a=0,l=[],c=null;for(let d=0;;){let h,p;for(;a<r.length&&r[a].to==s;){let x=r[a++];x.widget&&(h?(p||(p=[h])).push(x):h=x)}if(h)if(p){p.sort(X9);for(let x=0;x<p.length;x++)t(p[x],d,!!c)}else t(h,d,!!c);let g,m;if(c)m=-1,g=c,c=null;else if(d<i.childCount)m=d,g=i.child(d++);else break;for(let x=0;x<l.length;x++)l[x].to<=s&&l.splice(x--,1);for(;a<r.length&&r[a].from<=s&&r[a].to>s;)l.push(r[a++]);let v=s+g.nodeSize;if(g.isText){let x=v;a<r.length&&r[a].from<x&&(x=r[a].from);for(let D=0;D<l.length;D++)l[D].to<x&&(x=l[D].to);x<v&&(c=g.cut(x-s),g=g.cut(0,x-s),v=x,m=-1)}else for(;a<r.length&&r[a].to<v;)a++;let b=g.isInline&&!g.isLeaf?l.filter(x=>!x.inline):l.slice();n(g,b,e.forChild(s,g),m),s=v}}function Y9(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let e=i.style.cssText;i.style.cssText=e+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=e}}function K9(i,e,t,n){for(let r=0,s=0;r<i.childCount&&s<=n;){let a=i.child(r++),l=s;if(s+=a.nodeSize,!a.isText)continue;let c=a.text;for(;r<i.childCount;){let d=i.child(r++);if(s+=d.nodeSize,!d.isText)break;c+=d.text}if(s>=t){if(s>=n&&c.slice(n-e.length-l,n-l)==e)return n-e.length;let d=l<n?c.lastIndexOf(e,n-l-1):-1;if(d>=0&&d+e.length+l>=t)return l+d;if(t==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function w1(i,e,t,n,r){let s=[];for(let a=0,l=0;a<i.length;a++){let c=i[a],d=l,h=l+=c.size;d>=t||h<=e?s.push(c):(d<e&&s.push(c.slice(0,e-d,n)),r&&(s.push(r),r=void 0),h>t&&s.push(c.slice(t-d,c.size,n)))}return s}function r2(i,e=null){let t=i.domSelectionRange(),n=i.state.doc;if(!t.focusNode)return null;let r=i.docView.nearestDesc(t.focusNode),s=r&&r.size==0,a=i.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let l=n.resolve(a),c,d;if(Eg(t)){for(c=a;r&&!r.node;)r=r.parent;let p=r.node;if(r&&p.isAtom&&Ke.isSelectable(p)&&r.parent&&!(p.isInline&&w9(t.focusNode,t.focusOffset,r.dom))){let g=r.posBefore;d=new Ke(a==g?l:n.resolve(g))}}else{if(t instanceof i.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let p=a,g=a;for(let m=0;m<t.rangeCount;m++){let v=t.getRangeAt(m);p=Math.min(p,i.docView.posFromDOM(v.startContainer,v.startOffset,1)),g=Math.max(g,i.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(p<0)return null;[c,a]=g==i.state.selection.anchor?[g,p]:[p,g],l=n.resolve(a)}else c=i.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null}let h=n.resolve(c);if(!d){let p=e=="pointer"||i.state.selection.head<l.pos&&!s?1:-1;d=s2(i,h,l,p)}return d}function DM(i){return i.editable?i.hasFocus():AM(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function As(i,e=!1){let t=i.state.selection;if(wM(i,t),!!DM(i)){if(!e&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&Zn){let n=i.domSelectionRange(),r=i.domObserver.currentSelection;if(n.anchorNode&&r.anchorNode&&To(n.anchorNode,n.anchorOffset,r.anchorNode,r.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)Q9(i);else{let{anchor:n,head:r}=t,s,a;RS&&!(t instanceof tt)&&(t.$from.parent.inlineContent||(s=OS(i,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=OS(i,t.to))),i.docView.setSelection(n,r,i,e),RS&&(s&&NS(s),a&&NS(a)),t.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Z9(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}const RS=ci||Zn&&cM<63;function OS(i,e){let{node:t,offset:n}=i.docView.domFromPos(e,0),r=n<t.childNodes.length?t.childNodes[n]:null,s=n?t.childNodes[n-1]:null;if(ci&&r&&r.contentEditable=="false")return E0(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return E0(r);if(s)return E0(s)}}function E0(i){return i.contentEditable="true",ci&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function NS(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function Z9(i){let e=i.dom.ownerDocument;e.removeEventListener("selectionchange",i.input.hideSelectionGuard);let t=i.domSelectionRange(),n=t.anchorNode,r=t.anchorOffset;e.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=r)&&(e.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!DM(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function Q9(i){let e=i.domSelection();if(!e)return;let t=i.cursorWrapper.dom,n=t.nodeName=="IMG";n?e.collapse(t.parentNode,Vn(t)+1):e.collapse(t,0),!n&&!i.state.selection.visible&&Ti&&ya<=11&&(t.disabled=!0,t.disabled=!1)}function wM(i,e){if(e instanceof Ke){let t=i.docView.descAt(e.from);t!=i.lastSelectedViewDesc&&(FS(i),t&&t.selectNode(),i.lastSelectedViewDesc=t)}else FS(i)}function FS(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function s2(i,e,t,n){return i.someProp("createSelectionBetween",r=>r(i,e,t))||tt.between(e,t,n)}function BS(i){return i.editable&&!i.hasFocus()?!1:AM(i)}function AM(i){let e=i.domSelectionRange();if(!e.anchorNode)return!1;try{return i.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(i.editable||i.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function J9(i){let e=i.docView.domFromPos(i.state.selection.anchor,0),t=i.domSelectionRange();return To(e.node,e.offset,t.anchorNode,t.anchorOffset)}function A1(i,e){let{$anchor:t,$head:n}=i.selection,r=e>0?t.max(n):t.min(n),s=r.parent.inlineContent?r.depth?i.doc.resolve(e>0?r.after():r.before()):null:r;return s&&dt.findFrom(s,e)}function ia(i,e){return i.dispatch(i.state.tr.setSelection(e).scrollIntoView()),!0}function LS(i,e,t){let n=i.state.selection;if(n instanceof tt)if(t.indexOf("s")>-1){let{$head:r}=n,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=i.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return ia(i,new tt(n.$anchor,a))}else if(n.empty){if(i.endOfTextblock(e>0?"forward":"backward")){let r=A1(i.state,e);return r&&r instanceof Ke?ia(i,r):!1}else if(!(lr&&t.indexOf("m")>-1)){let r=n.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(a=i.docView.descAt(l))&&!a.contentDOM?Ke.isSelectable(s)?ia(i,new Ke(e<0?i.state.doc.resolve(r.pos-s.nodeSize):r)):yd?ia(i,new tt(i.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ke&&n.node.isInline)return ia(i,new tt(e>0?n.$to:n.$from));{let r=A1(i.state,e);return r?ia(i,r):!1}}}function ap(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Cu(i,e){let t=i.pmViewDesc;return t&&t.size==0&&(e<0||i.nextSibling||i.nodeName!="BR")}function El(i,e){return e<0?e7(i):t7(i)}function e7(i){let e=i.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let r,s,a=!1;for(dr&&t.nodeType==1&&n<ap(t)&&Cu(t.childNodes[n],-1)&&(a=!0);;)if(n>0){if(t.nodeType!=1)break;{let l=t.childNodes[n-1];if(Cu(l,-1))r=t,s=--n;else if(l.nodeType==3)t=l,n=t.nodeValue.length;else break}}else{if(TM(t))break;{let l=t.previousSibling;for(;l&&Cu(l,-1);)r=t.parentNode,s=Vn(l),l=l.previousSibling;if(l)t=l,n=ap(t);else{if(t=t.parentNode,t==i.dom)break;n=0}}}a?T1(i,t,n):r&&T1(i,r,s)}function t7(i){let e=i.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let r=ap(t),s,a;for(;;)if(n<r){if(t.nodeType!=1)break;let l=t.childNodes[n];if(Cu(l,1))s=t,a=++n;else break}else{if(TM(t))break;{let l=t.nextSibling;for(;l&&Cu(l,1);)s=l.parentNode,a=Vn(l)+1,l=l.nextSibling;if(l)t=l,n=0,r=ap(t);else{if(t=t.parentNode,t==i.dom)break;n=r=0}}}s&&T1(i,s,a)}function TM(i){let e=i.pmViewDesc;return e&&e.node&&e.node.isBlock}function n7(i,e){for(;i&&e==i.childNodes.length&&!md(i);)e=Vn(i)+1,i=i.parentNode;for(;i&&e<i.childNodes.length;){let t=i.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=0}}function i7(i,e){for(;i&&!e&&!md(i);)e=Vn(i),i=i.parentNode;for(;i&&e;){let t=i.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=i.childNodes.length}}function T1(i,e,t){if(e.nodeType!=3){let s,a;(a=n7(e,t))?(e=a,t=0):(s=i7(e,t))&&(e=s,t=s.nodeValue.length)}let n=i.domSelection();if(!n)return;if(Eg(n)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,t);i.domObserver.setCurSelection();let{state:r}=i;setTimeout(()=>{i.state==r&&As(i)},50)}function IS(i,e){let t=i.state.doc.resolve(e);if(!(Zn||_9)&&t.parent.inlineContent){let r=i.coordsAtPos(e);if(e>t.start()){let s=i.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<t.end()){let s=i.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function PS(i,e,t){let n=i.state.selection;if(n instanceof tt&&!n.empty||t.indexOf("s")>-1||lr&&t.indexOf("m")>-1)return!1;let{$from:r,$to:s}=n;if(!r.parent.inlineContent||i.endOfTextblock(e<0?"up":"down")){let a=A1(i.state,e);if(a&&a instanceof Ke)return ia(i,a)}if(!r.parent.inlineContent){let a=e<0?r:s,l=n instanceof Wi?dt.near(a,e):dt.findFrom(a,e);return l?ia(i,l):!1}return!1}function zS(i,e){if(!(i.state.selection instanceof tt))return!0;let{$head:t,$anchor:n,empty:r}=i.state.selection;if(!t.sameParent(n))return!0;if(!r)return!1;if(i.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let a=i.state.tr;return e<0?a.delete(t.pos-s.nodeSize,t.pos):a.delete(t.pos,t.pos+s.nodeSize),i.dispatch(a),!0}return!1}function WS(i,e,t){i.domObserver.stop(),e.contentEditable=t,i.domObserver.start()}function r7(i){if(!ci||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=i.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;WS(i,n,"true"),setTimeout(()=>WS(i,n,"false"),20)}return!1}function s7(i){let e="";return i.ctrlKey&&(e+="c"),i.metaKey&&(e+="m"),i.altKey&&(e+="a"),i.shiftKey&&(e+="s"),e}function a7(i,e){let t=e.keyCode,n=s7(e);if(t==8||lr&&t==72&&n=="c")return zS(i,-1)||El(i,-1);if(t==46&&!e.shiftKey||lr&&t==68&&n=="c")return zS(i,1)||El(i,1);if(t==13||t==27)return!0;if(t==37||lr&&t==66&&n=="c"){let r=t==37?IS(i,i.state.selection.from)=="ltr"?-1:1:-1;return LS(i,r,n)||El(i,r)}else if(t==39||lr&&t==70&&n=="c"){let r=t==39?IS(i,i.state.selection.from)=="ltr"?1:-1:1;return LS(i,r,n)||El(i,r)}else{if(t==38||lr&&t==80&&n=="c")return PS(i,-1,n)||El(i,-1);if(t==40||lr&&t==78&&n=="c")return r7(i)||PS(i,1,n)||El(i,1);if(n==(lr?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function a2(i,e){i.someProp("transformCopied",m=>{e=m(e,i)});let t=[],{content:n,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){r--,s--;let m=n.firstChild;t.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),n=m.content}let a=i.someProp("clipboardSerializer")||Oo.fromSchema(i.state.schema),l=UM(),c=l.createElement("div");c.appendChild(a.serializeFragment(n,{document:l}));let d=c.firstChild,h,p=0;for(;d&&d.nodeType==1&&(h=kM[d.nodeName.toLowerCase()]);){for(let m=h.length-1;m>=0;m--){let v=l.createElement(h[m]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),p++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${r} ${s}${p?` -${p}`:""} ${JSON.stringify(t)}`);let g=i.someProp("clipboardTextSerializer",m=>m(e,i))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function _M(i,e,t,n,r){let s=r.parent.type.spec.code,a,l;if(!t&&!e)return null;let c=!!e&&(n||s||!t);if(c){if(i.someProp("transformPastedText",g=>{e=g(e,s||n,i)}),s)return l=new Le(ke.from(i.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),i.someProp("transformPasted",g=>{l=g(l,i,!0)}),l;let p=i.someProp("clipboardTextParser",g=>g(e,r,n,i));if(p)l=p;else{let g=r.marks(),{schema:m}=i.state,v=Oo.fromSchema(m);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let x=a.appendChild(document.createElement("p"));b&&x.appendChild(v.serializeNode(m.text(b,g)))})}}else i.someProp("transformPastedHTML",p=>{t=p(t,i)}),a=u7(t),yd&&d7(a);let d=a&&a.querySelector("[data-pm-slice]"),h=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let p=+h[3];p>0;p--){let g=a.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;a=g}if(l||(l=(i.someProp("clipboardParser")||i.someProp("domParser")||ma.fromSchema(i.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||h),context:r,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!o7.test(g.parentNode.nodeName)?{ignore:!0}:null}})),h)l=h7(jS(l,+h[1],+h[2]),h[4]);else if(l=Le.maxOpen(l7(l.content,r),!0),l.openStart||l.openEnd){let p=0,g=0;for(let m=l.content.firstChild;p<l.openStart&&!m.type.spec.isolating;p++,m=m.firstChild);for(let m=l.content.lastChild;g<l.openEnd&&!m.type.spec.isolating;g++,m=m.lastChild);l=jS(l,p,g)}return i.someProp("transformPasted",p=>{l=p(l,i,c)}),l}const o7=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function l7(i,e){if(i.childCount<2)return i;for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.index(t)),s,a=[];if(i.forEach(l=>{if(!a)return;let c=r.findWrapping(l.type),d;if(!c)return a=null;if(d=a.length&&s.length&&SM(c,s,l,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=CM(a[a.length-1],s.length));let h=EM(l,c);a.push(h),r=r.matchType(h.type),s=c}}),a)return ke.from(a)}return i}function EM(i,e,t=0){for(let n=e.length-1;n>=t;n--)i=e[n].create(null,ke.from(i));return i}function SM(i,e,t,n,r){if(r<i.length&&r<e.length&&i[r]==e[r]){let s=SM(i,e,t,n.lastChild,r+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(r==i.length-1?t.type:i[r+1]))return n.copy(n.content.append(ke.from(EM(t,i,r+1))))}}function CM(i,e){if(e==0)return i;let t=i.content.replaceChild(i.childCount-1,CM(i.lastChild,e-1)),n=i.contentMatchAt(i.childCount).fillBefore(ke.empty,!0);return i.copy(t.append(n))}function _1(i,e,t,n,r,s){let a=e<0?i.firstChild:i.lastChild,l=a.content;return i.childCount>1&&(s=0),r<n-1&&(l=_1(l,e,t,n,r+1,s)),r>=t&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=r).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(ke.empty,!0))),i.replaceChild(e<0?0:i.childCount-1,a.copy(l))}function jS(i,e,t){return e<i.openStart&&(i=new Le(_1(i.content,-1,e,i.openStart,0,i.openEnd),e,i.openEnd)),t<i.openEnd&&(i=new Le(_1(i.content,1,t,i.openEnd,0,0),i.openStart,t)),i}const kM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let HS=null;function UM(){return HS||(HS=document.implementation.createHTMLDocument("title"))}let S0=null;function c7(i){let e=window.trustedTypes;return e?(S0||(S0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),S0.createHTML(i)):i}function u7(i){let e=/^(\s*<meta [^>]*>)*/.exec(i);e&&(i=i.slice(e[0].length));let t=UM().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(i),r;if((r=n&&kM[n[1].toLowerCase()])&&(i=r.map(s=>"<"+s+">").join("")+i+r.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=c7(i),r)for(let s=0;s<r.length;s++)t=t.querySelector(r[s])||t;return t}function d7(i){let e=i.querySelectorAll(Zn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),n)}}function h7(i,e){if(!i.size)return i;let t=i.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return i}let{content:r,openStart:s,openEnd:a}=i;for(let l=n.length-2;l>=0;l-=2){let c=t.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;r=ke.from(c.create(n[l+1],r)),s++,a++}return new Le(r,s,a)}const ui={},di={},f7={touchstart:!0,touchmove:!0};class p7{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function g7(i){for(let e in ui){let t=ui[e];i.dom.addEventListener(e,i.input.eventHandlers[e]=n=>{y7(i,n)&&!o2(i,n)&&(i.editable||!(n.type in di))&&t(i,n)},f7[e]?{passive:!0}:void 0)}ci&&i.dom.addEventListener("input",()=>null),E1(i)}function fa(i,e){i.input.lastSelectionOrigin=e,i.input.lastSelectionTime=Date.now()}function m7(i){i.domObserver.stop();for(let e in i.input.eventHandlers)i.dom.removeEventListener(e,i.input.eventHandlers[e]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function E1(i){i.someProp("handleDOMEvents",e=>{for(let t in e)i.input.eventHandlers[t]||i.dom.addEventListener(t,i.input.eventHandlers[t]=n=>o2(i,n))})}function o2(i,e){return i.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(i,e)||e.defaultPrevented:!1})}function y7(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=i.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function b7(i,e){!o2(i,e)&&ui[e.type]&&(i.editable||!(e.type in di))&&ui[e.type](i,e)}di.keydown=(i,e)=>{let t=e;if(i.input.shiftKey=t.keyCode==16||t.shiftKey,!RM(i,t)&&(i.input.lastKeyCode=t.keyCode,i.input.lastKeyCodeTime=Date.now(),!(Ds&&Zn&&t.keyCode==13)))if(t.keyCode!=229&&i.domObserver.forceFlush(),Jl&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();i.input.lastIOSEnter=n,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==n&&(i.someProp("handleKeyDown",r=>r(i,to(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",n=>n(i,t))||a7(i,t)?t.preventDefault():fa(i,"key")};di.keyup=(i,e)=>{e.keyCode==16&&(i.input.shiftKey=!1)};di.keypress=(i,e)=>{let t=e;if(RM(i,t)||!t.charCode||t.ctrlKey&&!t.altKey||lr&&t.metaKey)return;if(i.someProp("handleKeyPress",r=>r(i,t))){t.preventDefault();return}let n=i.state.selection;if(!(n instanceof tt)||!n.$from.sameParent(n.$to)){let r=String.fromCharCode(t.charCode),s=()=>i.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!i.someProp("handleTextInput",a=>a(i,n.$from.pos,n.$to.pos,r,s))&&i.dispatch(s()),t.preventDefault()}};function Cg(i){return{left:i.clientX,top:i.clientY}}function v7(i,e){let t=e.x-i.clientX,n=e.y-i.clientY;return t*t+n*n<100}function l2(i,e,t,n,r){if(n==-1)return!1;let s=i.state.doc.resolve(n);for(let a=s.depth+1;a>0;a--)if(i.someProp(e,l=>a>s.depth?l(i,t,s.nodeAfter,s.before(a),r,!0):l(i,t,s.node(a),s.before(a),r,!1)))return!0;return!1}function Vl(i,e,t){if(i.focused||i.focus(),i.state.selection.eq(e))return;let n=i.state.tr.setSelection(e);n.setMeta("pointer",!0),i.dispatch(n)}function x7(i,e){if(e==-1)return!1;let t=i.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&Ke.isSelectable(n)?(Vl(i,new Ke(t)),!0):!1}function D7(i,e){if(e==-1)return!1;let t=i.state.selection,n,r;t instanceof Ke&&(n=t.node);let s=i.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(Ke.isSelectable(l)){n&&t.$from.depth>0&&a>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?r=s.before(t.$from.depth):r=s.before(a);break}}return r!=null?(Vl(i,Ke.create(i.state.doc,r)),!0):!1}function w7(i,e,t,n,r){return l2(i,"handleClickOn",e,t,n)||i.someProp("handleClick",s=>s(i,e,n))||(r?D7(i,t):x7(i,t))}function A7(i,e,t,n){return l2(i,"handleDoubleClickOn",e,t,n)||i.someProp("handleDoubleClick",r=>r(i,e,n))}function T7(i,e,t,n){return l2(i,"handleTripleClickOn",e,t,n)||i.someProp("handleTripleClick",r=>r(i,e,n))||_7(i,t,n)}function _7(i,e,t){if(t.button!=0)return!1;let n=i.state.doc;if(e==-1)return n.inlineContent?(Vl(i,tt.create(n,0,n.content.size)),!0):!1;let r=n.resolve(e);for(let s=r.depth+1;s>0;s--){let a=s>r.depth?r.nodeAfter:r.node(s),l=r.before(s);if(a.inlineContent)Vl(i,tt.create(n,l+1,l+1+a.content.size));else if(Ke.isSelectable(a))Vl(i,Ke.create(n,l));else continue;return!0}}function c2(i){return op(i)}const MM=lr?"metaKey":"ctrlKey";ui.mousedown=(i,e)=>{let t=e;i.input.shiftKey=t.shiftKey;let n=c2(i),r=Date.now(),s="singleClick";r-i.input.lastClick.time<500&&v7(t,i.input.lastClick)&&!t[MM]&&i.input.lastClick.button==t.button&&(i.input.lastClick.type=="singleClick"?s="doubleClick":i.input.lastClick.type=="doubleClick"&&(s="tripleClick")),i.input.lastClick={time:r,x:t.clientX,y:t.clientY,type:s,button:t.button};let a=i.posAtCoords(Cg(t));a&&(s=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new E7(i,a,t,!!n)):(s=="doubleClick"?A7:T7)(i,a.pos,a.inside,t)?t.preventDefault():fa(i,"pointer"))};class E7{constructor(e,t,n,r){this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[MM],this.allowDefault=n.shiftKey;let s,a;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),a=t.inside;else{let h=e.state.doc.resolve(t.pos);s=h.parent,a=h.depth?h.before():0}const l=r?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:d}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof Ke&&d.from<=a&&d.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&dr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fa(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>As(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Cg(e))),this.updateAllowDefault(e),this.allowDefault||!t?fa(this.view,"pointer"):w7(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ci&&this.mightDrag&&!this.mightDrag.node.isAtom||Zn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Vl(this.view,dt.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):fa(this.view,"pointer")}move(e){this.updateAllowDefault(e),fa(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ui.touchstart=i=>{i.input.lastTouch=Date.now(),c2(i),fa(i,"pointer")};ui.touchmove=i=>{i.input.lastTouch=Date.now(),fa(i,"pointer")};ui.contextmenu=i=>c2(i);function RM(i,e){return i.composing?!0:ci&&Math.abs(e.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}const S7=Ds?5e3:-1;di.compositionstart=di.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:e}=i,t=e.selection.$to;if(e.selection instanceof tt&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||t.marks(),op(i,!0),i.markCursor=null;else if(op(i,!e.selection.empty),dr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=i.domSelectionRange();for(let r=n.focusNode,s=n.focusOffset;r&&r.nodeType==1&&s!=0;){let a=s<0?r.lastChild:r.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=i.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else r=a,s=-1}}i.input.composing=!0}OM(i,S7)};di.compositionend=(i,e)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=e.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionNode=null,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,OM(i,20))};function OM(i,e){clearTimeout(i.input.composingTimeout),e>-1&&(i.input.composingTimeout=setTimeout(()=>op(i),e))}function NM(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=k7());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function C7(i){let e=i.domSelectionRange();if(!e.focusNode)return null;let t=x9(e.focusNode,e.focusOffset),n=D9(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let r=n.pmViewDesc,s=i.domObserver.lastChangedTextNode;if(t==s||n==s)return s;if(!r||!r.isText(n.nodeValue))return n;if(i.input.compositionNode==n){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return n}}return t||n}function k7(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function op(i,e=!1){if(!(Ds&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),NM(i),e||i.docView&&i.docView.dirty){let t=r2(i),n=i.state.selection;return t&&!t.eq(n)?i.dispatch(i.state.tr.setSelection(t)):(i.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?i.dispatch(i.state.tr.deleteSelection()):i.updateState(i.state),!0}return!1}}function U7(i,e){if(!i.dom.parentNode)return;let t=i.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),r=document.createRange();r.selectNodeContents(e),i.dom.blur(),n.removeAllRanges(),n.addRange(r),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),i.focus()},50)}const Qu=Ti&&ya<15||Jl&&E9<604;ui.copy=di.cut=(i,e)=>{let t=e,n=i.state.selection,r=t.type=="cut";if(n.empty)return;let s=Qu?null:t.clipboardData,a=n.content(),{dom:l,text:c}=a2(i,a);s?(t.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):U7(i,l),r&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function M7(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function R7(i,e){if(!i.dom.parentNode)return;let t=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,n=i.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let r=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Ju(i,n.value,null,r,e):Ju(i,n.textContent,n.innerHTML,r,e)},50)}function Ju(i,e,t,n,r){let s=_M(i,e,t,n,i.state.selection.$from);if(i.someProp("handlePaste",c=>c(i,r,s||Le.empty)))return!0;if(!s)return!1;let a=M7(s),l=a?i.state.tr.replaceSelectionWith(a,n):i.state.tr.replaceSelection(s);return i.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function FM(i){let e=i.getData("text/plain")||i.getData("Text");if(e)return e;let t=i.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}di.paste=(i,e)=>{let t=e;if(i.composing&&!Ds)return;let n=Qu?null:t.clipboardData,r=i.input.shiftKey&&i.input.lastKeyCode!=45;n&&Ju(i,FM(n),n.getData("text/html"),r,t)?t.preventDefault():R7(i,t)};class BM{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const O7=lr?"altKey":"ctrlKey";function LM(i,e){let t=i.someProp("dragCopies",n=>!n(e));return t??!e[O7]}ui.dragstart=(i,e)=>{let t=e,n=i.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let r=i.state.selection,s=r.empty?null:i.posAtCoords(Cg(t)),a;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof Ke?r.to-1:r.to))){if(n&&n.mightDrag)a=Ke.create(i.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let p=i.docView.nearestDesc(t.target,!0);p&&p.node.type.spec.draggable&&p!=i.docView&&(a=Ke.create(i.state.doc,p.posBefore))}}let l=(a||i.state.selection).content(),{dom:c,text:d,slice:h}=a2(i,l);(!t.dataTransfer.files.length||!Zn||cM>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Qu?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",Qu||t.dataTransfer.setData("text/plain",d),i.dragging=new BM(h,LM(i,t),a)};ui.dragend=i=>{let e=i.dragging;window.setTimeout(()=>{i.dragging==e&&(i.dragging=null)},50)};di.dragover=di.dragenter=(i,e)=>e.preventDefault();di.drop=(i,e)=>{let t=e,n=i.dragging;if(i.dragging=null,!t.dataTransfer)return;let r=i.posAtCoords(Cg(t));if(!r)return;let s=i.state.doc.resolve(r.pos),a=n&&n.slice;a?i.someProp("transformPasted",v=>{a=v(a,i,!1)}):a=_M(i,FM(t.dataTransfer),Qu?null:t.dataTransfer.getData("text/html"),!1,s);let l=!!(n&&LM(i,t));if(i.someProp("handleDrop",v=>v(i,t,a||Le.empty,l))){t.preventDefault();return}if(!a)return;t.preventDefault();let c=a?jU(i.state.doc,s.pos,a):s.pos;c==null&&(c=s.pos);let d=i.state.tr;if(l){let{node:v}=n;v?v.replace(d):d.deleteSelection()}let h=d.mapping.map(c),p=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=d.doc;if(p?d.replaceRangeWith(h,h,a.content.firstChild):d.replaceRange(h,h,a),d.doc.eq(g))return;let m=d.doc.resolve(h);if(p&&Ke.isSelectable(a.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new Ke(m));else{let v=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((b,x,D,w)=>v=w),d.setSelection(s2(i,m,d.doc.resolve(v)))}i.focus(),i.dispatch(d.setMeta("uiEvent","drop"))};ui.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&As(i)},20))};ui.blur=(i,e)=>{let t=e;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),t.relatedTarget&&i.dom.contains(t.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)};ui.beforeinput=(i,e)=>{if(Zn&&Ds&&e.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:n}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=n||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",s=>s(i,to(8,"Backspace")))))return;let{$cursor:r}=i.state.selection;r&&r.pos>0&&i.dispatch(i.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let i in di)ui[i]=di[i];function ed(i,e){if(i==e)return!0;for(let t in i)if(i[t]!==e[t])return!1;for(let t in e)if(!(t in i))return!1;return!0}class lp{constructor(e,t){this.toDOM=e,this.spec=t||po,this.side=this.spec.side||0}map(e,t,n,r){let{pos:s,deleted:a}=e.mapResult(t.from+r,this.side<0?-1:1);return a?null:new ai(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof lp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ed(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class va{constructor(e,t){this.attrs=e,this.spec=t||po}map(e,t,n,r){let s=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,a=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return s>=a?null:new ai(s,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof va&&ed(this.attrs,e.attrs)&&ed(this.spec,e.spec)}static is(e){return e.type instanceof va}destroy(){}}class u2{constructor(e,t){this.attrs=e,this.spec=t||po}map(e,t,n,r){let s=e.mapResult(t.from+r,1);if(s.deleted)return null;let a=e.mapResult(t.to+r,-1);return a.deleted||a.pos<=s.pos?null:new ai(s.pos-n,a.pos-n,this)}valid(e,t){let{index:n,offset:r}=e.content.findIndex(t.from),s;return r==t.from&&!(s=e.child(n)).isText&&r+s.nodeSize==t.to}eq(e){return this==e||e instanceof u2&&ed(this.attrs,e.attrs)&&ed(this.spec,e.spec)}destroy(){}}class ai{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new ai(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new ai(e,e,new lp(t,n))}static inline(e,t,n,r){return new ai(e,t,new va(n,r))}static node(e,t,n,r){return new ai(e,t,new u2(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof va}get widget(){return this.type instanceof lp}}const Ml=[],po={};class Qt{constructor(e,t){this.local=e.length?e:Ml,this.children=t.length?t:Ml}static create(e,t){return t.length?cp(t,e,0,po):Yn}find(e,t,n){let r=[];return this.findInner(e??0,t??1e9,r,0,n),r}findInner(e,t,n,r,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=t&&l.to>=e&&(!s||s(l.spec))&&n.push(l.copy(l.from+r,l.to+r))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,t-l,n,r+l,s)}}map(e,t,n){return this==Yn||e.maps.length==0?this:this.mapInner(e,t,0,0,n||po)}mapInner(e,t,n,r,s){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,r);c&&c.type.valid(t,c)?(a||(a=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?N7(this.children,a||[],e,t,n,r,s):a?new Qt(a.sort(go),Ml):Yn}add(e,t){return t.length?this==Yn?Qt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,s=0;e.forEach((l,c)=>{let d=c+n,h;if(h=PM(t,l,d)){for(r||(r=this.children.slice());s<r.length&&r[s]<c;)s+=3;r[s]==c?r[s+2]=r[s+2].addInner(l,h,d+1):r.splice(s,0,c,c+l.nodeSize,cp(h,l,d+1,po)),s+=3}});let a=IM(s?zM(t):t,-n);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new Qt(a.length?this.local.concat(a).sort(go):this.local,r||this.children)}remove(e){return e.length==0||this==Yn?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let s=0;s<n.length;s+=3){let a,l=n[s]+t,c=n[s+1]+t;for(let h=0,p;h<e.length;h++)(p=e[h])&&p.from>l&&p.to<c&&(e[h]=null,(a||(a=[])).push(p));if(!a)continue;n==this.children&&(n=this.children.slice());let d=n[s+2].removeInner(a,l+1);d!=Yn?n[s+2]=d:(n.splice(s,3),s-=3)}if(r.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<r.length;l++)r[l].eq(a,t)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new Qt(r,n):Yn}forChild(e,t){if(this==Yn)return this;if(t.isLeaf)return Qt.empty;let n,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let s=e+1,a=s+t.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>s&&c.type instanceof va){let d=Math.max(s,c.from)-s,h=Math.min(a,c.to)-s;d<h&&(r||(r=[])).push(c.copy(d,h))}}if(r){let l=new Qt(r.sort(go),Ml);return n?new oa([l,n]):l}return n||Yn}eq(e){if(this==e)return!0;if(!(e instanceof Qt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return d2(this.localsInner(e))}localsInner(e){if(this==Yn)return Ml;if(e.inlineContent||!this.local.some(va.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof va||t.push(this.local[n]);return t}forEachSet(e){e(this)}}Qt.empty=new Qt([],[]);Qt.removeOverlap=d2;const Yn=Qt.empty;class oa{constructor(e){this.members=e}map(e,t){const n=this.members.map(r=>r.map(e,t,po));return oa.from(n)}forChild(e,t){if(t.isLeaf)return Qt.empty;let n=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,t);s!=Yn&&(s instanceof oa?n=n.concat(s.members):n.push(s))}return oa.from(n)}eq(e){if(!(e instanceof oa)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!t)t=s;else{n&&(t=t.slice(),n=!1);for(let a=0;a<s.length;a++)t.push(s[a])}}return t?d2(n?t:t.sort(go)):Ml}static from(e){switch(e.length){case 0:return Yn;case 1:return e[0];default:return new oa(e.every(t=>t instanceof Qt)?e:e.reduce((t,n)=>t.concat(n instanceof Qt?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function N7(i,e,t,n,r,s,a){let l=i.slice();for(let d=0,h=s;d<t.maps.length;d++){let p=0;t.maps[d].forEach((g,m,v,b)=>{let x=b-v-(m-g);for(let D=0;D<l.length;D+=3){let w=l[D+1];if(w<0||g>w+h-p)continue;let T=l[D]+h-p;m>=T?l[D+1]=g<=T?-2:-1:g>=h&&x&&(l[D]+=x,l[D+1]+=x)}p+=x}),h=t.maps[d].map(h,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let h=t.map(i[d]+s),p=h-r;if(p<0||p>=n.content.size){c=!0;continue}let g=t.map(i[d+1]+s,-1),m=g-r,{index:v,offset:b}=n.content.findIndex(p),x=n.maybeChild(v);if(x&&b==p&&b+x.nodeSize==m){let D=l[d+2].mapInner(t,x,h+1,i[d]+s+1,a);D!=Yn?(l[d]=p,l[d+1]=m,l[d+2]=D):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=F7(l,i,e,t,r,s,a),h=cp(d,n,0,a);e=h.local;for(let p=0;p<l.length;p+=3)l[p+1]<0&&(l.splice(p,3),p-=3);for(let p=0,g=0;p<h.children.length;p+=3){let m=h.children[p];for(;g<l.length&&l[g]<m;)g+=3;l.splice(g,0,h.children[p],h.children[p+1],h.children[p+2])}}return new Qt(e.sort(go),l)}function IM(i,e){if(!e||!i.length)return i;let t=[];for(let n=0;n<i.length;n++){let r=i[n];t.push(new ai(r.from+e,r.to+e,r.type))}return t}function F7(i,e,t,n,r,s,a){function l(c,d){for(let h=0;h<c.local.length;h++){let p=c.local[h].map(n,r,d);p?t.push(p):a.onRemove&&a.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)l(c.children[h+2],c.children[h]+d+1)}for(let c=0;c<i.length;c+=3)i[c+1]==-1&&l(i[c+2],e[c]+s+1);return t}function PM(i,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,r=null;for(let s=0,a;s<i.length;s++)(a=i[s])&&a.from>t&&a.to<n&&((r||(r=[])).push(a),i[s]=null);return r}function zM(i){let e=[];for(let t=0;t<i.length;t++)i[t]!=null&&e.push(i[t]);return e}function cp(i,e,t,n){let r=[],s=!1;e.forEach((l,c)=>{let d=PM(i,l,c+t);if(d){s=!0;let h=cp(d,l,t+c+1,n);h!=Yn&&r.push(c,c+l.nodeSize,h)}});let a=IM(s?zM(i):i,-t).sort(go);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(n.onRemove&&n.onRemove(a[l].spec),a.splice(l--,1));return a.length||r.length?new Qt(a,r):Yn}function go(i,e){return i.from-e.from||i.to-e.to}function d2(i){let e=i;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let r=t+1;r<e.length;r++){let s=e[r];if(s.from==n.from){s.to!=n.to&&(e==i&&(e=i.slice()),e[r]=s.copy(s.from,n.to),qS(e,r+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==i&&(e=i.slice()),e[t]=n.copy(n.from,s.from),qS(e,r,n.copy(s.from,n.to)));break}}}return e}function qS(i,e,t){for(;e<i.length&&go(t,i[e])>0;)e++;i.splice(e,0,t)}function C0(i){let e=[];return i.someProp("decorations",t=>{let n=t(i.state);n&&n!=Yn&&e.push(n)}),i.cursorWrapper&&e.push(Qt.create(i.state.doc,[i.cursorWrapper.deco])),oa.from(e)}const B7={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},L7=Ti&&ya<=11;class I7{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class P7{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new I7,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let r=0;r<n.length;r++)this.queue.push(n[r]);Ti&&ya<=11&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),L7&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,B7)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(BS(this.view)){if(this.suppressingSelectionUpdates)return As(this.view);if(Ti&&ya<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&To(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let s=e.focusNode;s;s=Ql(s))t.add(s);for(let s=e.anchorNode;s;s=Ql(s))if(t.has(s)){n=s;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&BS(e)&&!this.ignoreSelectionChange(n),s=-1,a=-1,l=!1,c=[];if(e.editable)for(let h=0;h<t.length;h++){let p=this.registerMutation(t[h],c);p&&(s=s<0?p.from:Math.min(p.from,s),a=a<0?p.to:Math.max(p.to,a),p.typeOver&&(l=!0))}if(dr&&c.length){let h=c.filter(p=>p.nodeName=="BR");if(h.length==2){let[p,g]=h;p.parentNode&&p.parentNode.parentNode==g.parentNode?g.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let g of h){let m=g.parentNode;m&&m.nodeName=="LI"&&(!p||j7(e,p)!=m)&&g.remove()}}}let d=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Eg(n)&&(d=r2(e))&&d.eq(dt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,As(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,a),z7(e)),this.handleDOMChange(s,a,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||As(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let p=e.addedNodes[h];t.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,s=e.nextSibling;if(Ti&&ya<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:p,nextSibling:g}=e.addedNodes[h];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(r=p),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let a=r&&r.parentNode==e.target?Vn(r)+1:0,l=n.localPosFromDOM(e.target,a,-1),c=s&&s.parentNode==e.target?Vn(s):e.target.childNodes.length,d=n.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let VS=new WeakMap,GS=!1;function z7(i){if(!VS.has(i)&&(VS.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=dr,GS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),GS=!0}}function XS(i,e){let t=e.startContainer,n=e.startOffset,r=e.endContainer,s=e.endOffset,a=i.domAtPos(i.state.selection.anchor);return To(a.node,a.offset,r,s)&&([t,n,r,s]=[r,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:r,focusOffset:s}}function W7(i,e){if(e.getComposedRanges){let r=e.getComposedRanges(i.root)[0];if(r)return XS(i,r)}let t;function n(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return i.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",n,!0),t?XS(i,t):null}function j7(i,e){for(let t=e.parentNode;t&&t!=i.dom;t=t.parentNode){let n=i.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function H7(i,e,t){let{node:n,fromOffset:r,toOffset:s,from:a,to:l}=i.docView.parseRange(e,t),c=i.domSelectionRange(),d,h=c.anchorNode;if(h&&i.dom.contains(h.nodeType==1?h:h.parentNode)&&(d=[{node:h,offset:c.anchorOffset}],Eg(c)||d.push({node:c.focusNode,offset:c.focusOffset})),Zn&&i.input.lastKeyCode===8)for(let x=s;x>r;x--){let D=n.childNodes[x-1],w=D.pmViewDesc;if(D.nodeName=="BR"&&!w){s=x;break}if(!w||w.size)break}let p=i.state.doc,g=i.someProp("domParser")||ma.fromSchema(i.state.schema),m=p.resolve(a),v=null,b=g.parse(n,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:r,to:s,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:q7,context:m});if(d&&d[0].pos!=null){let x=d[0].pos,D=d[1]&&d[1].pos;D==null&&(D=x),v={anchor:x+a,head:D+a}}return{doc:b,sel:v,from:a,to:l}}function q7(i){let e=i.pmViewDesc;if(e)return e.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(ci&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(i.parentNode.lastChild==i||ci&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}const V7=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function G7(i,e,t,n,r){let s=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,e<0){let k=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,O=r2(i,k);if(O&&!i.state.selection.eq(O)){if(Zn&&Ds&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",z=>z(i,to(13,"Enter"))))return;let R=i.state.tr.setSelection(O);k=="pointer"?R.setMeta("pointer",!0):k=="key"&&R.scrollIntoView(),s&&R.setMeta("composition",s),i.dispatch(R)}return}let a=i.state.doc.resolve(e),l=a.sharedDepth(t);e=a.before(l+1),t=i.state.doc.resolve(t).after(l+1);let c=i.state.selection,d=H7(i,e,t),h=i.state.doc,p=h.slice(d.from,d.to),g,m;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(g=i.state.selection.to,m="end"):(g=i.state.selection.from,m="start"),i.input.lastKeyCode=null;let v=Y7(p.content,d.doc.content,d.from,g,m);if(v&&i.input.domChangeCount++,(Jl&&i.input.lastIOSEnter>Date.now()-225||Ds)&&r.some(k=>k.nodeType==1&&!V7.test(k.nodeName))&&(!v||v.endA>=v.endB)&&i.someProp("handleKeyDown",k=>k(i,to(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!v)if(n&&c instanceof tt&&!c.empty&&c.$head.sameParent(c.$anchor)&&!i.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let k=$S(i,i.state.doc,d.sel);if(k&&!k.eq(i.state.selection)){let O=i.state.tr.setSelection(k);s&&O.setMeta("composition",s),i.dispatch(O)}}return}i.state.selection.from<i.state.selection.to&&v.start==v.endB&&i.state.selection instanceof tt&&(v.start>i.state.selection.from&&v.start<=i.state.selection.from+2&&i.state.selection.from>=d.from?v.start=i.state.selection.from:v.endA<i.state.selection.to&&v.endA>=i.state.selection.to-2&&i.state.selection.to<=d.to&&(v.endB+=i.state.selection.to-v.endA,v.endA=i.state.selection.to)),Ti&&ya<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>d.from&&d.doc.textBetween(v.start-d.from-1,v.start-d.from+1)==" "&&(v.start--,v.endA--,v.endB--);let b=d.doc.resolveNoCache(v.start-d.from),x=d.doc.resolveNoCache(v.endB-d.from),D=h.resolve(v.start),w=b.sameParent(x)&&b.parent.inlineContent&&D.end()>=v.endA;if((Jl&&i.input.lastIOSEnter>Date.now()-225&&(!w||r.some(k=>k.nodeName=="DIV"||k.nodeName=="P"))||!w&&b.pos<d.doc.content.size&&(!b.sameParent(x)||!b.parent.inlineContent)&&b.pos<x.pos&&!/\S/.test(d.doc.textBetween(b.pos,x.pos,"","")))&&i.someProp("handleKeyDown",k=>k(i,to(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>v.start&&$7(h,v.start,v.endA,b,x)&&i.someProp("handleKeyDown",k=>k(i,to(8,"Backspace")))){Ds&&Zn&&i.domObserver.suppressSelectionUpdates();return}Zn&&v.endB==v.start&&(i.input.lastChromeDelete=Date.now()),Ds&&!w&&b.start()!=x.start()&&x.parentOffset==0&&b.depth==x.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==v.endA&&(v.endB-=2,x=d.doc.resolveNoCache(v.endB-d.from),setTimeout(()=>{i.someProp("handleKeyDown",function(k){return k(i,to(13,"Enter"))})},20));let T=v.start,C=v.endA,E=k=>{let O=k||i.state.tr.replace(T,C,d.doc.slice(v.start-d.from,v.endB-d.from));if(d.sel){let R=$S(i,O.doc,d.sel);R&&!(Zn&&i.composing&&R.empty&&(v.start!=v.endB||i.input.lastChromeDelete<Date.now()-100)&&(R.head==T||R.head==O.mapping.map(C)-1)||Ti&&R.empty&&R.head==T)&&O.setSelection(R)}return s&&O.setMeta("composition",s),O.scrollIntoView()},S;if(w)if(b.pos==x.pos){Ti&&ya<=11&&b.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>As(i),20));let k=E(i.state.tr.delete(T,C)),O=h.resolve(v.start).marksAcross(h.resolve(v.endA));O&&k.ensureMarks(O),i.dispatch(k)}else if(v.endA==v.endB&&(S=X7(b.parent.content.cut(b.parentOffset,x.parentOffset),D.parent.content.cut(D.parentOffset,v.endA-D.start())))){let k=E(i.state.tr);S.type=="add"?k.addMark(T,C,S.mark):k.removeMark(T,C,S.mark),i.dispatch(k)}else if(b.parent.child(b.index()).isText&&b.index()==x.index()-(x.textOffset?0:1)){let k=b.parent.textBetween(b.parentOffset,x.parentOffset),O=()=>E(i.state.tr.insertText(k,T,C));i.someProp("handleTextInput",R=>R(i,T,C,k,O))||i.dispatch(O())}else i.dispatch(E());else i.dispatch(E())}function $S(i,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:s2(i,e.resolve(t.anchor),e.resolve(t.head))}function X7(i,e){let t=i.firstChild.marks,n=e.firstChild.marks,r=t,s=n,a,l,c;for(let h=0;h<n.length;h++)r=n[h].removeFromSet(r);for(let h=0;h<t.length;h++)s=t[h].removeFromSet(s);if(r.length==1&&s.length==0)l=r[0],a="add",c=h=>h.mark(l.addToSet(h.marks));else if(r.length==0&&s.length==1)l=s[0],a="remove",c=h=>h.mark(l.removeFromSet(h.marks));else return null;let d=[];for(let h=0;h<e.childCount;h++)d.push(c(e.child(h)));if(ke.from(d).eq(i))return{mark:l,type:a}}function $7(i,e,t,n,r){if(t-e<=r.pos-n.pos||k0(n,!0,!1)<r.pos)return!1;let s=i.resolve(e);if(!n.parent.isTextblock){let l=s.nodeAfter;return l!=null&&t==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=i.resolve(k0(s,!0,!0));return!a.parent.isTextblock||a.pos>t||k0(a,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function k0(i,e,t){let n=i.depth,r=e?i.end():i.pos;for(;n>0&&(e||i.indexAfter(n)==i.node(n).childCount);)n--,r++,e=!1;if(t){let s=i.node(n).maybeChild(i.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function Y7(i,e,t,n,r){let s=i.findDiffStart(e,t);if(s==null)return null;let{a,b:l}=i.findDiffEnd(e,t+i.size,t+e.size);if(r=="end"){let c=Math.max(0,s-Math.min(a,l));n-=a+c-s}if(a<s&&i.size<e.size){let c=n<=s&&n>=a?s-n:0;s-=c,s&&s<e.size&&YS(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-a),a=s}else if(l<s){let c=n<=s&&n>=l?s-n:0;s-=c,s&&s<i.size&&YS(i.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function YS(i){if(i.length!=2)return!1;let e=i.charCodeAt(0),t=i.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class WM{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new p7,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(eC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=QS(this),ZS(this),this.nodeViews=JS(this),this.docView=US(this.state.doc,KS(this),C0(this),this.dom,this),this.domObserver=new P7(this,(n,r,s,a)=>G7(this,n,r,s,a)),this.domObserver.start(),g7(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&E1(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(eC),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(NM(this),a=!0),this.state=e;let l=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(l||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let m=JS(this);Z7(m,this.nodeViews)&&(this.nodeViews=m,s=!0)}(l||t.handleDOMEvents!=this._props.handleDOMEvents)&&E1(this),this.editable=QS(this),ZS(this);let c=C0(this),d=KS(this),h=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(e.doc,d,c);(p||!e.selection.eq(r.selection))&&(a=!0);let g=h=="preserve"&&a&&this.dom.style.overflowAnchor==null&&k9(this);if(a){this.domObserver.stop();let m=p&&(Ti||Zn)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&K7(r.selection,e.selection);if(p){let v=Zn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=C7(this)),(s||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=US(e.doc,d,c,this.dom,this)),v&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&J9(this))?As(this,m):(wM(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((n=this.dragging)===null||n===void 0)&&n.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():g&&U9(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ke){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&TS(this,t.getBoundingClientRect(),e)}else TS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let s=n.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(r=s)}this.dragging=new BM(e.slice,e.move,r<0?void 0:Ke.create(this.state.doc,r))}someProp(e,t){let n=this._props&&this._props[e],r;if(n!=null&&(r=t?t(n):n))return r;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(r=t?t(l):l))return r}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(r=t?t(l):l))return r}}hasFocus(){if(Ti){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&M9(this.dom),As(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return B9(this,e)}coordsAtPos(e,t=1){return pM(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return W9(this,t||this.state,e)}pasteHTML(e,t){return Ju(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ju(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return a2(this,e)}destroy(){this.docView&&(m7(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],C0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,b9())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return b7(this,e)}domSelectionRange(){let e=this.domSelection();return e?ci&&this.root.nodeType===11&&A9(this.dom.ownerDocument)==this.dom&&W7(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}WM.prototype.dispatch=function(i){let e=this._props.dispatchTransaction;e?e.call(this,i):this.updateState(this.state.apply(i))};function KS(i){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(i.editable),i.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(i.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[ai.node(0,i.state.doc.content.size,e)]}function ZS(i){if(i.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),i.cursorWrapper={dom:e,deco:ai.widget(i.state.selection.from,e,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function QS(i){return!i.someProp("editable",e=>e(i.state)===!1)}function K7(i,e){let t=Math.min(i.$anchor.sharedDepth(i.head),e.$anchor.sharedDepth(e.head));return i.$anchor.start(t)!=e.$anchor.start(t)}function JS(i){let e=Object.create(null);function t(n){for(let r in n)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=n[r])}return i.someProp("nodeViews",t),i.someProp("markViews",t),e}function Z7(i,e){let t=0,n=0;for(let r in i){if(i[r]!=e[r])return!0;t++}for(let r in e)n++;return t!=n}function eC(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ta={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},up={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Q7=typeof navigator<"u"&&/Mac/.test(navigator.platform),J7=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Gn=0;Gn<10;Gn++)Ta[48+Gn]=Ta[96+Gn]=String(Gn);for(var Gn=1;Gn<=24;Gn++)Ta[Gn+111]="F"+Gn;for(var Gn=65;Gn<=90;Gn++)Ta[Gn]=String.fromCharCode(Gn+32),up[Gn]=String.fromCharCode(Gn);for(var U0 in Ta)up.hasOwnProperty(U0)||(up[U0]=Ta[U0]);function eP(i){var e=Q7&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||J7&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?up:Ta)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const tP=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),nP=typeof navigator<"u"&&/Win/.test(navigator.platform);function iP(i){let e=i.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,r,s,a;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))tP?a=!0:r=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(t="Alt-"+t),r&&(t="Ctrl-"+t),a&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function rP(i){let e=Object.create(null);for(let t in i)e[iP(t)]=i[t];return e}function M0(i,e,t=!0){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t&&e.shiftKey&&(i="Shift-"+i),i}function sP(i){return new tn({props:{handleKeyDown:jM(i)}})}function jM(i){let e=rP(i);return function(t,n){let r=eP(n),s,a=e[M0(r,n)];if(a&&a(t.state,t.dispatch,t))return!0;if(r.length==1&&r!=" "){if(n.shiftKey){let l=e[M0(r,n,!1)];if(l&&l(t.state,t.dispatch,t))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(nP&&n.ctrlKey&&n.altKey)&&(s=Ta[n.keyCode])&&s!=r){let l=e[M0(s,n)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1}}var aP=Object.defineProperty,h2=(i,e)=>{for(var t in e)aP(i,t,{get:e[t],enumerable:!0})};function kg(i){const{state:e,transaction:t}=i;let{selection:n}=t,{doc:r}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return r},get tr(){return n=t.selection,r=t.doc,s=t.storedMarks,t}}}var Ug=class{constructor(i){this.editor=i.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=i.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:i,editor:e,state:t}=this,{view:n}=e,{tr:r}=t,s=this.buildProps(r);return Object.fromEntries(Object.entries(i).map(([a,l])=>[a,(...d)=>{const h=l(...d)(s);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(r),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(i,e=!0){const{rawCommands:t,editor:n,state:r}=this,{view:s}=n,a=[],l=!!i,c=i||r.tr,d=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(p=>p===!0)),h={...Object.fromEntries(Object.entries(t).map(([p,g])=>[p,(...v)=>{const b=this.buildProps(c,e),x=g(...v)(b);return a.push(x),h}])),run:d};return h}createCan(i){const{rawCommands:e,state:t}=this,n=!1,r=i||t.tr,s=this.buildProps(r,n);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...d)=>c(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(r,n)}}buildProps(i,e=!0){const{rawCommands:t,editor:n,state:r}=this,{view:s}=n,a={tr:i,editor:n,view:s,state:kg({state:r,transaction:i}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(i,e),can:()=>this.createCan(i),get commands(){return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...d)=>c(...d)(a)]))}};return a}},HM={};h2(HM,{blur:()=>oP,clearContent:()=>lP,clearNodes:()=>cP,command:()=>uP,createParagraphNear:()=>dP,cut:()=>hP,deleteCurrentNode:()=>fP,deleteNode:()=>pP,deleteRange:()=>gP,deleteSelection:()=>mP,enter:()=>yP,exitCode:()=>bP,extendMarkRange:()=>vP,first:()=>xP,focus:()=>wP,forEach:()=>AP,insertContent:()=>TP,insertContentAt:()=>SP,joinBackward:()=>UP,joinDown:()=>kP,joinForward:()=>MP,joinItemBackward:()=>RP,joinItemForward:()=>OP,joinTextblockBackward:()=>NP,joinTextblockForward:()=>FP,joinUp:()=>CP,keyboardShortcut:()=>LP,lift:()=>IP,liftEmptyBlock:()=>PP,liftListItem:()=>zP,newlineInCode:()=>WP,resetAttributes:()=>jP,scrollIntoView:()=>HP,selectAll:()=>qP,selectNodeBackward:()=>VP,selectNodeForward:()=>GP,selectParentNode:()=>XP,selectTextblockEnd:()=>$P,selectTextblockStart:()=>YP,setContent:()=>KP,setMark:()=>pz,setMeta:()=>gz,setNode:()=>mz,setNodeSelection:()=>yz,setTextDirection:()=>bz,setTextSelection:()=>vz,sinkListItem:()=>xz,splitBlock:()=>Dz,splitListItem:()=>wz,toggleList:()=>Az,toggleMark:()=>Tz,toggleNode:()=>_z,toggleWrap:()=>Ez,undoInputRule:()=>Sz,unsetAllMarks:()=>Cz,unsetMark:()=>kz,unsetTextDirection:()=>Uz,updateAttributes:()=>Mz,wrapIn:()=>Rz,wrapInList:()=>Oz});var oP=()=>({editor:i,view:e})=>(requestAnimationFrame(()=>{var t;i.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),lP=(i=!0)=>({commands:e})=>e.setContent("",{emitUpdate:i}),cP=()=>({state:i,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:r}=n;return t&&r.forEach(({$from:s,$to:a})=>{i.doc.nodesBetween(s.pos,a.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:h}=e,p=d.resolve(h.map(c)),g=d.resolve(h.map(c+l.nodeSize)),m=p.blockRange(g);if(!m)return;const v=oc(m);if(l.type.isTextblock){const{defaultType:b}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(m.start,b)}(v||v===0)&&e.lift(m,v)})}),!0},uP=i=>e=>i(e),dP=()=>({state:i,dispatch:e})=>rM(i,e),hP=(i,e)=>({editor:t,tr:n})=>{const{state:r}=t,s=r.doc.slice(i.from,i.to);n.deleteRange(i.from,i.to);const a=n.mapping.map(e);return n.insert(a,s.content),n.setSelection(new tt(n.doc.resolve(Math.max(a-1,0)))),!0},fP=()=>({tr:i,dispatch:e})=>{const{selection:t}=i,n=t.$anchor.node();if(n.content.size>0)return!1;const r=i.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===n.type){if(e){const l=r.before(s),c=r.after(s);i.delete(l,c).scrollIntoView()}return!0}return!1};function wn(i,e){if(typeof i=="string"){if(!e.nodes[i])throw Error(`There is no node type named '${i}'. Maybe you forgot to add the extension?`);return e.nodes[i]}return i}var pP=i=>({tr:e,state:t,dispatch:n})=>{const r=wn(i,t.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===r){if(n){const c=s.before(a),d=s.after(a);e.delete(c,d).scrollIntoView()}return!0}return!1},gP=i=>({tr:e,dispatch:t})=>{const{from:n,to:r}=i;return t&&e.delete(n,r),!0},mP=()=>({state:i,dispatch:e})=>Qv(i,e),yP=()=>({commands:i})=>i.keyboardShortcut("Enter"),bP=()=>({state:i,dispatch:e})=>i9(i,e);function f2(i){return Object.prototype.toString.call(i)==="[object RegExp]"}function dp(i,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(r=>t.strict?e[r]===i[r]:f2(e[r])?e[r].test(i[r]):e[r]===i[r]):!0}function qM(i,e,t={}){return i.find(n=>n.type===e&&dp(Object.fromEntries(Object.keys(t).map(r=>[r,n.attrs[r]])),t))}function tC(i,e,t={}){return!!qM(i,e,t)}function p2(i,e,t){var n;if(!i||!e)return;let r=i.parent.childAfter(i.parentOffset);if((!r.node||!r.node.marks.some(h=>h.type===e))&&(r=i.parent.childBefore(i.parentOffset)),!r.node||!r.node.marks.some(h=>h.type===e)||(t=t||((n=r.node.marks[0])==null?void 0:n.attrs),!qM([...r.node.marks],e,t)))return;let a=r.index,l=i.start()+r.offset,c=a+1,d=l+r.node.nodeSize;for(;a>0&&tC([...i.parent.child(a-1).marks],e,t);)a-=1,l-=i.parent.child(a).nodeSize;for(;c<i.parent.childCount&&tC([...i.parent.child(c).marks],e,t);)d+=i.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function Es(i,e){if(typeof i=="string"){if(!e.marks[i])throw Error(`There is no mark type named '${i}'. Maybe you forgot to add the extension?`);return e.marks[i]}return i}var vP=(i,e={})=>({tr:t,state:n,dispatch:r})=>{const s=Es(i,n.schema),{doc:a,selection:l}=t,{$from:c,from:d,to:h}=l;if(r){const p=p2(c,s,e);if(p&&p.from<=d&&p.to>=h){const g=tt.create(a,p.from,p.to);t.setSelection(g)}}return!0},xP=i=>e=>{const t=typeof i=="function"?i(e):i;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};function VM(i){return i instanceof tt}function so(i=0,e=0,t=0){return Math.min(Math.max(i,e),t)}function GM(i,e=null){if(!e)return null;const t=dt.atStart(i),n=dt.atEnd(i);if(e==="start"||e===!0)return t;if(e==="end")return n;const r=t.from,s=n.to;return e==="all"?tt.create(i,so(0,r,s),so(i.content.size,r,s)):tt.create(i,so(e,r,s),so(e,r,s))}function DP(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function g2(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var wP=(i=null,e={})=>({editor:t,view:n,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(g2()||DP())&&n.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&i===null||i===!1)return!0;if(s&&i===null&&!VM(t.state.selection))return a(),!0;const l=GM(r.doc,i)||t.state.selection,c=t.state.selection.eq(l);return s&&(c||r.setSelection(l),c&&r.storedMarks&&r.setStoredMarks(r.storedMarks),a()),!0},AP=(i,e)=>t=>i.every((n,r)=>e(n,{...t,index:r})),TP=(i,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},i,e),XM=i=>{const e=i.childNodes;for(let t=e.length-1;t>=0;t-=1){const n=e[t];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?i.removeChild(n):n.nodeType===1&&XM(n)}return i};function af(i){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${i}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return XM(t)}function td(i,e,t){if(i instanceof ga||i instanceof ke)return i;t={slice:!0,parseOptions:{},...t};const n=typeof i=="object"&&i!==null,r=typeof i=="string";if(n)try{if(Array.isArray(i)&&i.length>0)return ke.fromArray(i.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(i);return t.errorOnInvalidContent&&a.check(),a}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",i,"Error:",s),td("",e,t)}if(r){if(t.errorOnInvalidContent){let a=!1,l="";const c=new MU({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(t.slice?ma.fromSchema(c).parseSlice(af(i),t.parseOptions):ma.fromSchema(c).parse(af(i),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=ma.fromSchema(e);return t.slice?s.parseSlice(af(i),t.parseOptions).content:s.parse(af(i),t.parseOptions)}return td("",e,t)}function _P(i,e,t){const n=i.steps.length-1;if(n<e)return;const r=i.steps[n];if(!(r instanceof On||r instanceof Nn))return;const s=i.mapping.maps[n];let a=0;s.forEach((l,c,d,h)=>{a===0&&(a=h)}),i.setSelection(dt.near(i.doc.resolve(a),t))}var EP=i=>!("type"in i),SP=(i,e,t)=>({tr:n,dispatch:r,editor:s})=>{var a;if(r){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let l;const c=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{td(e,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(x){c(x)}try{l=td(e,s.schema,{parseOptions:d,errorOnInvalidContent:(a=t.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(x){return c(x),!1}let{from:h,to:p}=typeof i=="number"?{from:i,to:i}:{from:i.from,to:i.to},g=!0,m=!0;if((EP(l)?l:[l]).forEach(x=>{x.check(),g=g?x.isText&&x.marks.length===0:!1,m=m?x.isBlock:!1}),h===p&&m){const{parent:x}=n.doc.resolve(h);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(h-=1,p+=1)}let b;if(g){if(Array.isArray(e))b=e.map(x=>x.text||"").join("");else if(e instanceof ke){let x="";e.forEach(D=>{D.text&&(x+=D.text)}),b=x}else typeof e=="object"&&e&&e.text?b=e.text:b=e;n.insertText(b,h,p)}else{b=l;const x=n.doc.resolve(h),D=x.node(),w=x.parentOffset===0,T=D.isText||D.isTextblock,C=D.content.size>0;w&&T&&C&&(h=Math.max(0,h-1)),n.replaceWith(h,p,b)}t.updateSelection&&_P(n,n.steps.length-1,-1),t.applyInputRules&&n.setMeta("applyInputRules",{from:h,text:b}),t.applyPasteRules&&n.setMeta("applyPasteRules",{from:h,text:b})}return!0},CP=()=>({state:i,dispatch:e})=>e9(i,e),kP=()=>({state:i,dispatch:e})=>t9(i,e),UP=()=>({state:i,dispatch:e})=>ZU(i,e),MP=()=>({state:i,dispatch:e})=>tM(i,e),RP=()=>({state:i,dispatch:e,tr:t})=>{try{const n=Ag(i.doc,i.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},OP=()=>({state:i,dispatch:e,tr:t})=>{try{const n=Ag(i.doc,i.selection.$from.pos,1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},NP=()=>({state:i,dispatch:e})=>QI(i,e),FP=()=>({state:i,dispatch:e})=>JI(i,e);function $M(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function BP(i){const e=i.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,r,s,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))g2()||$M()?a=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(t=`Alt-${t}`),r&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}var LP=i=>({editor:e,view:t,tr:n,dispatch:r})=>{const s=BP(i).split(/-(?!$)/),a=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{t.someProp("handleKeyDown",d=>d(t,l))});return c?.steps.forEach(d=>{const h=d.map(n.mapping);h&&r&&n.maybeStep(h)}),!0};function _a(i,e,t={}){const{from:n,to:r,empty:s}=i.selection,a=e?wn(e,i.schema):null,l=[];i.doc.nodesBetween(n,r,(p,g)=>{if(p.isText)return;const m=Math.max(n,g),v=Math.min(r,g+p.nodeSize);l.push({node:p,from:m,to:v})});const c=r-n,d=l.filter(p=>a?a.name===p.node.type.name:!0).filter(p=>dp(p.node.attrs,t,{strict:!1}));return s?!!d.length:d.reduce((p,g)=>p+g.to-g.from,0)>=c}var IP=(i,e={})=>({state:t,dispatch:n})=>{const r=wn(i,t.schema);return _a(t,r,e)?n9(t,n):!1},PP=()=>({state:i,dispatch:e})=>sM(i,e),zP=i=>({state:e,dispatch:t})=>{const n=wn(i,e.schema);return p9(n)(e,t)},WP=()=>({state:i,dispatch:e})=>iM(i,e);function Mg(i,e){return e.nodes[i]?"node":e.marks[i]?"mark":null}function nC(i,e){const t=typeof e=="string"?[e]:e;return Object.keys(i).reduce((n,r)=>(t.includes(r)||(n[r]=i[r]),n),{})}var jP=(i,e)=>({tr:t,state:n,dispatch:r})=>{let s=null,a=null;const l=Mg(typeof i=="string"?i:i.name,n.schema);if(!l)return!1;l==="node"&&(s=wn(i,n.schema)),l==="mark"&&(a=Es(i,n.schema));let c=!1;return t.selection.ranges.forEach(d=>{n.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,p)=>{s&&s===h.type&&(c=!0,r&&t.setNodeMarkup(p,void 0,nC(h.attrs,e))),a&&h.marks.length&&h.marks.forEach(g=>{a===g.type&&(c=!0,r&&t.addMark(p,p+h.nodeSize,a.create(nC(g.attrs,e))))})})}),c},HP=()=>({tr:i,dispatch:e})=>(e&&i.scrollIntoView(),!0),qP=()=>({tr:i,dispatch:e})=>{if(e){const t=new Wi(i.doc);i.setSelection(t)}return!0},VP=()=>({state:i,dispatch:e})=>JU(i,e),GP=()=>({state:i,dispatch:e})=>nM(i,e),XP=()=>({state:i,dispatch:e})=>a9(i,e),$P=()=>({state:i,dispatch:e})=>c9(i,e),YP=()=>({state:i,dispatch:e})=>l9(i,e);function S1(i,e,t={},n={}){return td(i,e,{slice:!1,parseOptions:t,errorOnInvalidContent:n.errorOnInvalidContent})}var KP=(i,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:n={}}={})=>({editor:r,tr:s,dispatch:a,commands:l})=>{const{doc:c}=s;if(n.preserveWhitespace!=="full"){const d=S1(i,r.schema,n,{errorOnInvalidContent:e??r.options.enableContentCheck});return a&&s.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!t),!0}return a&&s.setMeta("preventUpdate",!t),l.insertContentAt({from:0,to:c.content.size},i,{parseOptions:n,errorOnInvalidContent:e??r.options.enableContentCheck})};function YM(i,e){const t=Es(e,i.schema),{from:n,to:r,empty:s}=i.selection,a=[];s?(i.storedMarks&&a.push(...i.storedMarks),a.push(...i.selection.$head.marks())):i.doc.nodesBetween(n,r,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===t.name);return l?{...l.attrs}:{}}function KM(i,e){const t=new XU(i);return e.forEach(n=>{n.steps.forEach(r=>{t.step(r)})}),t}function ZP(i){for(let e=0;e<i.edgeCount;e+=1){const{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function QP(i,e,t){const n=[];return i.nodesBetween(e.from,e.to,(r,s)=>{t(r)&&n.push({node:r,pos:s})}),n}function JP(i,e){for(let t=i.depth;t>0;t-=1){const n=i.node(t);if(e(n))return{pos:t>0?i.before(t):0,start:i.start(t),depth:t,node:n}}}function Rg(i){return e=>JP(e.$from,i)}function Ye(i,e,t){return i.config[e]===void 0&&i.parent?Ye(i.parent,e,t):typeof i.config[e]=="function"?i.config[e].bind({...t,parent:i.parent?Ye(i.parent,e,t):null}):i.config[e]}function m2(i){return i.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},n=Ye(e,"addExtensions",t);return n?[e,...m2(n())]:e}).flat(10)}function y2(i,e){const t=Oo.fromSchema(e).serializeFragment(i),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(t),r.innerHTML}function ZM(i){return typeof i=="function"}function Ft(i,e=void 0,...t){return ZM(i)?e?i.bind(e)(...t):i(...t):i}function ez(i={}){return Object.keys(i).length===0&&i.constructor===Object}function ec(i){const e=i.filter(r=>r.type==="extension"),t=i.filter(r=>r.type==="node"),n=i.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function QM(i){const e=[],{nodeExtensions:t,markExtensions:n}=ec(i),r=[...t,...n],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return i.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:r},c=Ye(a,"addGlobalAttributes",l);if(!c)return;c().forEach(h=>{h.types.forEach(p=>{Object.entries(h.attributes).forEach(([g,m])=>{e.push({type:p,name:g,attribute:{...s,...m}})})})})}),r.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=Ye(a,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([h,p])=>{const g={...s,...p};typeof g?.default=="function"&&(g.default=g.default()),g?.isRequired&&g?.default===void 0&&delete g.default,e.push({type:a.name,name:h,attribute:g})})}),e}function An(...i){return i.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([r,s])=>{if(!n[r]){n[r]=s;return}if(r==="class"){const l=s?String(s).split(" "):[],c=n[r]?n[r].split(" "):[],d=l.filter(h=>!c.includes(h));n[r]=[...c,...d].join(" ")}else if(r==="style"){const l=s?s.split(";").map(h=>h.trim()).filter(Boolean):[],c=n[r]?n[r].split(";").map(h=>h.trim()).filter(Boolean):[],d=new Map;c.forEach(h=>{const[p,g]=h.split(":").map(m=>m.trim());d.set(p,g)}),l.forEach(h=>{const[p,g]=h.split(":").map(m=>m.trim());d.set(p,g)}),n[r]=Array.from(d.entries()).map(([h,p])=>`${h}: ${p}`).join("; ")}else n[r]=s}),n},{})}function hp(i,e){return e.filter(t=>t.type===i.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(i.attrs)||{}:{[t.name]:i.attrs[t.name]}).reduce((t,n)=>An(t,n),{})}function tz(i){return typeof i!="string"?i:i.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(i):i==="true"?!0:i==="false"?!1:i}function iC(i,e){return"style"in i?i:{...i,getAttrs:t=>{const n=i.getAttrs?i.getAttrs(t):i.attrs;if(n===!1)return!1;const r=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(t):tz(t.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...n,...r}}}}function rC(i){return Object.fromEntries(Object.entries(i).filter(([e,t])=>e==="attrs"&&ez(t)?!1:t!=null))}function sC(i){var e,t;const n={};return!((e=i?.attribute)!=null&&e.isRequired)&&"default"in(i?.attribute||{})&&(n.default=i.attribute.default),((t=i?.attribute)==null?void 0:t.validate)!==void 0&&(n.validate=i.attribute.validate),[i.name,n]}function nz(i,e){var t;const n=QM(i),{nodeExtensions:r,markExtensions:s}=ec(i),a=(t=r.find(d=>Ye(d,"topNode")))==null?void 0:t.name,l=Object.fromEntries(r.map(d=>{const h=n.filter(D=>D.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},g=i.reduce((D,w)=>{const T=Ye(w,"extendNodeSchema",p);return{...D,...T?T(d):{}}},{}),m=rC({...g,content:Ft(Ye(d,"content",p)),marks:Ft(Ye(d,"marks",p)),group:Ft(Ye(d,"group",p)),inline:Ft(Ye(d,"inline",p)),atom:Ft(Ye(d,"atom",p)),selectable:Ft(Ye(d,"selectable",p)),draggable:Ft(Ye(d,"draggable",p)),code:Ft(Ye(d,"code",p)),whitespace:Ft(Ye(d,"whitespace",p)),linebreakReplacement:Ft(Ye(d,"linebreakReplacement",p)),defining:Ft(Ye(d,"defining",p)),isolating:Ft(Ye(d,"isolating",p)),attrs:Object.fromEntries(h.map(sC))}),v=Ft(Ye(d,"parseHTML",p));v&&(m.parseDOM=v.map(D=>iC(D,h)));const b=Ye(d,"renderHTML",p);b&&(m.toDOM=D=>b({node:D,HTMLAttributes:hp(D,h)}));const x=Ye(d,"renderText",p);return x&&(m.toText=x),[d.name,m]})),c=Object.fromEntries(s.map(d=>{const h=n.filter(x=>x.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},g=i.reduce((x,D)=>{const w=Ye(D,"extendMarkSchema",p);return{...x,...w?w(d):{}}},{}),m=rC({...g,inclusive:Ft(Ye(d,"inclusive",p)),excludes:Ft(Ye(d,"excludes",p)),group:Ft(Ye(d,"group",p)),spanning:Ft(Ye(d,"spanning",p)),code:Ft(Ye(d,"code",p)),attrs:Object.fromEntries(h.map(sC))}),v=Ft(Ye(d,"parseHTML",p));v&&(m.parseDOM=v.map(x=>iC(x,h)));const b=Ye(d,"renderHTML",p);return b&&(m.toDOM=x=>b({mark:x,HTMLAttributes:hp(x,h)})),[d.name,m]}));return new MU({topNode:a,nodes:l,marks:c})}function iz(i){const e=i.filter((t,n)=>i.indexOf(t)!==n);return Array.from(new Set(e))}function b2(i){return i.sort((t,n)=>{const r=Ye(t,"priority")||100,s=Ye(n,"priority")||100;return r>s?-1:r<s?1:0})}function JM(i){const e=b2(m2(i)),t=iz(e.map(n=>n.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function eR(i,e,t){const{from:n,to:r}=e,{blockSeparator:s=`

`,textSerializers:a={}}=t||{};let l="";return i.nodesBetween(n,r,(c,d,h,p)=>{var g;c.isBlock&&d>n&&(l+=s);const m=a?.[c.type.name];if(m)return h&&(l+=m({node:c,pos:d,parent:h,index:p,range:e})),!1;c.isText&&(l+=(g=c?.text)==null?void 0:g.slice(Math.max(n,d)-d,r-d))}),l}function rz(i,e){const t={from:0,to:i.content.size};return eR(i,t,e)}function tR(i){return Object.fromEntries(Object.entries(i.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function sz(i,e){const t=wn(e,i.schema),{from:n,to:r}=i.selection,s=[];i.doc.nodesBetween(n,r,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function nR(i,e){const t=Mg(typeof e=="string"?e:e.name,i.schema);return t==="node"?sz(i,e):t==="mark"?YM(i,e):{}}function az(i,e=JSON.stringify){const t={};return i.filter(n=>{const r=e(n);return Object.prototype.hasOwnProperty.call(t,r)?!1:t[r]=!0})}function oz(i){const e=az(i);return e.length===1?e:e.filter((t,n)=>!e.filter((s,a)=>a!==n).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function iR(i){const{mapping:e,steps:t}=i,n=[];return e.maps.forEach((r,s)=>{const a=[];if(r.ranges.length)r.forEach((l,c)=>{a.push({from:l,to:c})});else{const{from:l,to:c}=t[s];if(l===void 0||c===void 0)return;a.push({from:l,to:c})}a.forEach(({from:l,to:c})=>{const d=e.slice(s).map(l,-1),h=e.slice(s).map(c),p=e.invert().map(d,-1),g=e.invert().map(h);n.push({oldRange:{from:p,to:g},newRange:{from:d,to:h}})})}),oz(n)}function v2(i,e,t){const n=[];return i===e?t.resolve(i).marks().forEach(r=>{const s=t.resolve(i),a=p2(s,r.type);a&&n.push({mark:r,...a})}):t.nodesBetween(i,e,(r,s)=>{!r||r?.nodeSize===void 0||n.push(...r.marks.map(a=>({from:s,to:s+r.nodeSize,mark:a})))}),n}var lz=(i,e,t,n=20)=>{const r=i.doc.resolve(t);let s=n,a=null;for(;s>0&&a===null;){const l=r.node(s);l?.type.name===e?a=l:s-=1}return[a,s]};function R0(i,e){return e.nodes[i]||e.marks[i]||null}function jf(i,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const r=i.find(s=>s.type===e&&s.name===n);return r?r.attribute.keepOnSplit:!1}))}var cz=(i,e=500)=>{let t="";const n=i.parentOffset;return i.parent.nodesBetween(Math.max(0,n-e),n,(r,s,a,l)=>{var c,d;const h=((d=(c=r.type.spec).toText)==null?void 0:d.call(c,{node:r,pos:s,parent:a,index:l}))||r.textContent||"%leaf%";t+=r.isAtom&&!r.isText?h:h.slice(0,Math.max(0,n-s))}),t};function C1(i,e,t={}){const{empty:n,ranges:r}=i.selection,s=e?Es(e,i.schema):null;if(n)return!!(i.storedMarks||i.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>dp(p.attrs,t,{strict:!1}));let a=0;const l=[];if(r.forEach(({$from:p,$to:g})=>{const m=p.pos,v=g.pos;i.doc.nodesBetween(m,v,(b,x)=>{if(!b.isText&&!b.marks.length)return;const D=Math.max(m,x),w=Math.min(v,x+b.nodeSize),T=w-D;a+=T,l.push(...b.marks.map(C=>({mark:C,from:D,to:w})))})}),a===0)return!1;const c=l.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>dp(p.mark.attrs,t,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),d=l.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,g)=>p+g.to-g.from,0);return(c>0?c+d:c)>=a}function uz(i,e,t={}){if(!e)return _a(i,null,t)||C1(i,null,t);const n=Mg(e,i.schema);return n==="node"?_a(i,e,t):n==="mark"?C1(i,e,t):!1}var dz=(i,e)=>{const{$from:t,$to:n,$anchor:r}=i.selection;if(e){const s=Rg(l=>l.type.name===e)(i.selection);if(!s)return!1;const a=i.doc.resolve(s.pos+1);return r.pos+1===a.end()}return!(n.parentOffset<n.parent.nodeSize-2||t.pos!==n.pos)},hz=i=>{const{$from:e,$to:t}=i.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function aC(i,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===i.name):e}function oC(i,e){const{nodeExtensions:t}=ec(e),n=t.find(a=>a.name===i);if(!n)return!1;const r={name:n.name,options:n.options,storage:n.storage},s=Ft(Ye(n,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function Og(i,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var n;if(t){if(i.type.name==="hardBreak")return!0;if(i.isText)return/^\s*$/m.test((n=i.text)!=null?n:"")}if(i.isText)return!i.text;if(i.isAtom||i.isLeaf)return!1;if(i.content.childCount===0)return!0;if(e){let r=!0;return i.content.forEach(s=>{r!==!1&&(Og(s,{ignoreWhitespace:t,checkChildren:e})||(r=!1))}),r}return!1}function rR(i){return i instanceof Ke}function fz(i,e,t){var n;const{selection:r}=e;let s=null;if(VM(r)&&(s=r.$cursor),s){const l=(n=i.storedMarks)!=null?n:s.marks();return s.parent.type.allowsMarkType(t)&&(!!t.isInSet(l)||!l.some(d=>d.type.excludes(t)))}const{ranges:a}=r;return a.some(({$from:l,$to:c})=>{let d=l.depth===0?i.doc.inlineContent&&i.doc.type.allowsMarkType(t):!1;return i.doc.nodesBetween(l.pos,c.pos,(h,p,g)=>{if(d)return!1;if(h.isInline){const m=!g||g.type.allowsMarkType(t),v=!!t.isInSet(h.marks)||!h.marks.some(b=>b.type.excludes(t));d=m&&v}return!d}),d})}var pz=(i,e={})=>({tr:t,state:n,dispatch:r})=>{const{selection:s}=t,{empty:a,ranges:l}=s,c=Es(i,n.schema);if(r)if(a){const d=YM(n,c);t.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const h=d.$from.pos,p=d.$to.pos;n.doc.nodesBetween(h,p,(g,m)=>{const v=Math.max(m,h),b=Math.min(m+g.nodeSize,p);g.marks.find(D=>D.type===c)?g.marks.forEach(D=>{c===D.type&&t.addMark(v,b,c.create({...D.attrs,...e}))}):t.addMark(v,b,c.create(e))})});return fz(n,t,c)},gz=(i,e)=>({tr:t})=>(t.setMeta(i,e),!0),mz=(i,e={})=>({state:t,dispatch:n,chain:r})=>{const s=wn(i,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:l})=>DS(s,{...a,...e})(t)?!0:l.clearNodes()).command(({state:l})=>DS(s,{...a,...e})(l,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},yz=i=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,r=so(i,0,n.content.size),s=Ke.create(n,r);e.setSelection(s)}return!0},bz=(i,e)=>({tr:t,state:n,dispatch:r})=>{const{selection:s}=n;let a,l;return typeof e=="number"?(a=e,l=e):e&&"from"in e&&"to"in e?(a=e.from,l=e.to):(a=s.from,l=s.to),r&&t.doc.nodesBetween(a,l,(c,d)=>{c.isText||t.setNodeMarkup(d,void 0,{...c.attrs,dir:i})}),!0},vz=i=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:r,to:s}=typeof i=="number"?{from:i,to:i}:i,a=tt.atStart(n).from,l=tt.atEnd(n).to,c=so(r,a,l),d=so(s,a,l),h=tt.create(n,c,d);e.setSelection(h)}return!0},xz=i=>({state:e,dispatch:t})=>{const n=wn(i,e.schema);return y9(n)(e,t)};function lC(i,e){const t=i.storedMarks||i.selection.$to.parentOffset&&i.selection.$from.marks();if(t){const n=t.filter(r=>e?.includes(r.type.name));i.tr.ensureMarks(n)}}var Dz=({keepMarks:i=!0}={})=>({tr:e,state:t,dispatch:n,editor:r})=>{const{selection:s,doc:a}=e,{$from:l,$to:c}=s,d=r.extensionManager.attributes,h=jf(d,l.node().type.name,l.node().attrs);if(s instanceof Ke&&s.node.isBlock)return!l.parentOffset||!ws(a,l.pos)?!1:(n&&(i&&lC(t,r.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const p=c.parentOffset===c.parent.content.size,g=l.depth===0?void 0:ZP(l.node(-1).contentMatchAt(l.indexAfter(-1)));let m=p&&g?[{type:g,attrs:h}]:void 0,v=ws(e.doc,e.mapping.map(l.pos),1,m);if(!m&&!v&&ws(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(v=!0,m=g?[{type:g,attrs:h}]:void 0),n){if(v&&(s instanceof tt&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,m),g&&!p&&!l.parentOffset&&l.parent.type!==g)){const b=e.mapping.map(l.before()),x=e.doc.resolve(b);l.node(-1).canReplaceWith(x.index(),x.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}i&&lC(t,r.extensionManager.splittableMarks),e.scrollIntoView()}return v},wz=(i,e={})=>({tr:t,state:n,dispatch:r,editor:s})=>{var a;const l=wn(i,n.schema),{$from:c,$to:d}=n.selection,h=n.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(d))return!1;const p=c.node(-1);if(p.type!==l)return!1;const g=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(r){let D=ke.empty;const w=c.index(-1)?1:c.index(-2)?2:3;for(let O=c.depth-w;O>=c.depth-3;O-=1)D=ke.from(c.node(O).copy(D));const T=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,C={...jf(g,c.node().type.name,c.node().attrs),...e},E=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;D=D.append(ke.from(l.createAndFill(null,E)||void 0));const S=c.before(c.depth-(w-1));t.replace(S,c.after(-T),new Le(D,4-w,0));let k=-1;t.doc.nodesBetween(S,t.doc.content.size,(O,R)=>{if(k>-1)return!1;O.isTextblock&&O.content.size===0&&(k=R+1)}),k>-1&&t.setSelection(tt.near(t.doc.resolve(k))),t.scrollIntoView()}return!0}const m=d.pos===c.end()?p.contentMatchAt(0).defaultType:null,v={...jf(g,p.type.name,p.attrs),...e},b={...jf(g,c.node().type.name,c.node().attrs),...e};t.delete(c.pos,d.pos);const x=m?[{type:l,attrs:v},{type:m,attrs:b}]:[{type:l,attrs:v}];if(!ws(t.doc,c.pos,2))return!1;if(r){const{selection:D,storedMarks:w}=n,{splittableMarks:T}=s.extensionManager,C=w||D.$to.parentOffset&&D.$from.marks();if(t.split(c.pos,2,x).scrollIntoView(),!C||!r)return!0;const E=C.filter(S=>T.includes(S.type.name));t.ensureMarks(E)}return!0},O0=(i,e)=>{const t=Rg(a=>a.type===e)(i.selection);if(!t)return!0;const n=i.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const r=i.doc.nodeAt(n);return t.node.type===r?.type&&Ma(i.doc,t.pos)&&i.join(t.pos),!0},N0=(i,e)=>{const t=Rg(a=>a.type===e)(i.selection);if(!t)return!0;const n=i.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const r=i.doc.nodeAt(n);return t.node.type===r?.type&&Ma(i.doc,n)&&i.join(n),!0},Az=(i,e,t,n={})=>({editor:r,tr:s,state:a,dispatch:l,chain:c,commands:d,can:h})=>{const{extensions:p,splittableMarks:g}=r.extensionManager,m=wn(i,a.schema),v=wn(e,a.schema),{selection:b,storedMarks:x}=a,{$from:D,$to:w}=b,T=D.blockRange(w),C=x||b.$to.parentOffset&&b.$from.marks();if(!T)return!1;const E=Rg(S=>oC(S.type.name,p))(b);if(T.depth>=1&&E&&T.depth-E.depth<=1){if(E.node.type===m)return d.liftListItem(v);if(oC(E.node.type.name,p)&&m.validContent(E.node.content)&&l)return c().command(()=>(s.setNodeMarkup(E.pos,m),!0)).command(()=>O0(s,m)).command(()=>N0(s,m)).run()}return!t||!C||!l?c().command(()=>h().wrapInList(m,n)?!0:d.clearNodes()).wrapInList(m,n).command(()=>O0(s,m)).command(()=>N0(s,m)).run():c().command(()=>{const S=h().wrapInList(m,n),k=C.filter(O=>g.includes(O.type.name));return s.ensureMarks(k),S?!0:d.clearNodes()}).wrapInList(m,n).command(()=>O0(s,m)).command(()=>N0(s,m)).run()},Tz=(i,e={},t={})=>({state:n,commands:r})=>{const{extendEmptyMarkRange:s=!1}=t,a=Es(i,n.schema);return C1(n,a,e)?r.unsetMark(a,{extendEmptyMarkRange:s}):r.setMark(a,e)},_z=(i,e,t={})=>({state:n,commands:r})=>{const s=wn(i,n.schema),a=wn(e,n.schema),l=_a(n,s,t);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l?r.setNode(a,c):r.setNode(s,{...c,...t})},Ez=(i,e={})=>({state:t,commands:n})=>{const r=wn(i,t.schema);return _a(t,r,e)?n.lift(r):n.wrapIn(r,e)},Sz=()=>({state:i,dispatch:e})=>{const t=i.plugins;for(let n=0;n<t.length;n+=1){const r=t[n];let s;if(r.spec.isInputRules&&(s=r.getState(i))){if(e){const a=i.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,i.schema.text(s.text,c))}else a.delete(s.from,s.to)}return!0}}return!1},Cz=()=>({tr:i,dispatch:e})=>{const{selection:t}=i,{empty:n,ranges:r}=t;return n||e&&r.forEach(s=>{i.removeMark(s.$from.pos,s.$to.pos)}),!0},kz=(i,e={})=>({tr:t,state:n,dispatch:r})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=t,c=Es(i,n.schema),{$from:d,empty:h,ranges:p}=l;if(!r)return!0;if(h&&a){let{from:g,to:m}=l;const v=(s=d.marks().find(x=>x.type===c))==null?void 0:s.attrs,b=p2(d,c,v);b&&(g=b.from,m=b.to),t.removeMark(g,m,c)}else p.forEach(g=>{t.removeMark(g.$from.pos,g.$to.pos,c)});return t.removeStoredMark(c),!0},Uz=i=>({tr:e,state:t,dispatch:n})=>{const{selection:r}=t;let s,a;return typeof i=="number"?(s=i,a=i):i&&"from"in i&&"to"in i?(s=i.from,a=i.to):(s=r.from,a=r.to),n&&e.doc.nodesBetween(s,a,(l,c)=>{if(l.isText)return;const d={...l.attrs};delete d.dir,e.setNodeMarkup(c,void 0,d)}),!0},Mz=(i,e={})=>({tr:t,state:n,dispatch:r})=>{let s=null,a=null;const l=Mg(typeof i=="string"?i:i.name,n.schema);if(!l)return!1;l==="node"&&(s=wn(i,n.schema)),l==="mark"&&(a=Es(i,n.schema));let c=!1;return t.selection.ranges.forEach(d=>{const h=d.$from.pos,p=d.$to.pos;let g,m,v,b;t.selection.empty?n.doc.nodesBetween(h,p,(x,D)=>{s&&s===x.type&&(c=!0,v=Math.max(D,h),b=Math.min(D+x.nodeSize,p),g=D,m=x)}):n.doc.nodesBetween(h,p,(x,D)=>{D<h&&s&&s===x.type&&(c=!0,v=Math.max(D,h),b=Math.min(D+x.nodeSize,p),g=D,m=x),D>=h&&D<=p&&(s&&s===x.type&&(c=!0,r&&t.setNodeMarkup(D,void 0,{...x.attrs,...e})),a&&x.marks.length&&x.marks.forEach(w=>{if(a===w.type&&(c=!0,r)){const T=Math.max(D,h),C=Math.min(D+x.nodeSize,p);t.addMark(T,C,a.create({...w.attrs,...e}))}}))}),m&&(g!==void 0&&r&&t.setNodeMarkup(g,void 0,{...m.attrs,...e}),a&&m.marks.length&&m.marks.forEach(x=>{a===x.type&&r&&t.addMark(v,b,a.create({...x.attrs,...e}))}))}),c},Rz=(i,e={})=>({state:t,dispatch:n})=>{const r=wn(i,t.schema);return u9(r,e)(t,n)},Oz=(i,e={})=>({state:t,dispatch:n})=>{const r=wn(i,t.schema);return d9(r,e)(t,n)},Nz=class{constructor(){this.callbacks={}}on(i,e){return this.callbacks[i]||(this.callbacks[i]=[]),this.callbacks[i].push(e),this}emit(i,...e){const t=this.callbacks[i];return t&&t.forEach(n=>n.apply(this,e)),this}off(i,e){const t=this.callbacks[i];return t&&(e?this.callbacks[i]=t.filter(n=>n!==e):delete this.callbacks[i]),this}once(i,e){const t=(...n)=>{this.off(i,t),e.apply(this,n)};return this.on(i,t)}removeAllListeners(){this.callbacks={}}},Ng=class{constructor(i){var e;this.find=i.find,this.handler=i.handler,this.undoable=(e=i.undoable)!=null?e:!0}},Fz=(i,e)=>{if(f2(e))return e.exec(i);const t=e(i);if(!t)return null;const n=[t.text];return n.index=t.index,n.input=i,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(t.replaceWith)),n};function of(i){var e;const{editor:t,from:n,to:r,text:s,rules:a,plugin:l}=i,{view:c}=t;if(c.composing)return!1;const d=c.state.doc.resolve(n);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let h=!1;const p=cz(d)+s;return a.forEach(g=>{if(h)return;const m=Fz(p,g.find);if(!m)return;const v=c.state.tr,b=kg({state:c.state,transaction:v}),x={from:n-(m[0].length-s.length),to:r},{commands:D,chain:w,can:T}=new Ug({editor:t,state:b});g.handler({state:b,range:x,match:m,commands:D,chain:w,can:T})===null||!v.steps.length||(g.undoable&&v.setMeta(l,{transform:v,from:n,to:r,text:s}),c.dispatch(v),h=!0)}),h}function Bz(i){const{editor:e,rules:t}=i,n=new tn({state:{init(){return null},apply(r,s,a){const l=r.getMeta(n);if(l)return l;const c=r.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:h}=c;typeof h=="string"?h=h:h=y2(ke.from(h),a.schema);const{from:p}=c,g=p+h.length;of({editor:e,from:p,to:g,text:h,rules:t,plugin:n})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,a,l){return of({editor:e,from:s,to:a,text:l,rules:t,plugin:n})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&of({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:n})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:a}=r.state.selection;return a?of({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:n}):!1}},isInputRules:!0});return n}function Lz(i){return Object.prototype.toString.call(i).slice(8,-1)}function lf(i){return Lz(i)!=="Object"?!1:i.constructor===Object&&Object.getPrototypeOf(i)===Object.prototype}function sR(i,e){const t={...i};return lf(i)&&lf(e)&&Object.keys(e).forEach(n=>{lf(e[n])&&lf(i[n])?t[n]=sR(i[n],e[n]):t[n]=e[n]}),t}var x2=class{constructor(i={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...i},this.name=this.config.name}get options(){return{...Ft(Ye(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ft(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(i={}){const e=this.extend({...this.config,addOptions:()=>sR(this.options,i)});return e.name=this.name,e.parent=this.parent,e}extend(i={}){const e=new this.constructor({...this.config,...i});return e.parent=this,this.child=e,e.name="name"in i?i.name:e.parent.name,e}},No=class aR extends x2{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new aR(t)}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const a=r.marks();if(!!!a.find(d=>d?.type.name===t.name))return!1;const c=a.find(d=>d?.type.name===t.name);return c&&n.removeStoredMark(c),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function Iz(i){return typeof i=="number"}var Pz=class{constructor(i){this.find=i.find,this.handler=i.handler}},zz=(i,e,t)=>{if(f2(e))return[...i.matchAll(e)];const n=e(i,t);return n?n.map(r=>{const s=[r.text];return s.index=r.index,s.input=i,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function Wz(i){const{editor:e,state:t,from:n,to:r,rule:s,pasteEvent:a,dropEvent:l}=i,{commands:c,chain:d,can:h}=new Ug({editor:e,state:t}),p=[];return t.doc.nodesBetween(n,r,(m,v)=>{var b,x,D,w,T;if((x=(b=m.type)==null?void 0:b.spec)!=null&&x.code||!(m.isText||m.isTextblock||m.isInline))return;const C=(T=(w=(D=m.content)==null?void 0:D.size)!=null?w:m.nodeSize)!=null?T:0,E=Math.max(n,v),S=Math.min(r,v+C);if(E>=S)return;const k=m.isText?m.text||"":m.textBetween(E-v,S-v,void 0,"");zz(k,s.find,a).forEach(R=>{if(R.index===void 0)return;const z=E+R.index+1,Z=z+R[0].length,F={from:t.tr.mapping.map(z),to:t.tr.mapping.map(Z)},W=s.handler({state:t,range:F,match:R,commands:c,chain:d,can:h,pasteEvent:a,dropEvent:l});p.push(W)})}),p.every(m=>m!==null)}var cf=null,jz=i=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",i),t};function Hz(i){const{editor:e,rules:t}=i;let n=null,r=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:h,from:p,to:g,rule:m,pasteEvt:v})=>{const b=h.tr,x=kg({state:h,transaction:b});if(!(!Wz({editor:e,state:x,from:Math.max(p-1,0),to:g.b-1,rule:m,pasteEvent:v,dropEvent:l})||!b.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return t.map(h=>new tn({view(p){const g=v=>{var b;n=(b=p.dom.parentElement)!=null&&b.contains(v.target)?p.dom.parentElement:null,n&&(cf=e)},m=()=>{cf&&(cf=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(p,g)=>{if(s=n===p.dom.parentElement,l=g,!s){const m=cf;m?.isEditable&&setTimeout(()=>{const v=m.state.selection;v&&m.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(p,g)=>{var m;const v=(m=g.clipboardData)==null?void 0:m.getData("text/html");return a=g,r=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(p,g,m)=>{const v=p[0],b=v.getMeta("uiEvent")==="paste"&&!r,x=v.getMeta("uiEvent")==="drop"&&!s,D=v.getMeta("applyPasteRules"),w=!!D;if(!b&&!x&&!w)return;if(w){let{text:E}=D;typeof E=="string"?E=E:E=y2(ke.from(E),m.schema);const{from:S}=D,k=S+E.length,O=jz(E);return c({rule:h,state:m,from:S,to:{b:k},pasteEvt:O})}const T=g.doc.content.findDiffStart(m.doc.content),C=g.doc.content.findDiffEnd(m.doc.content);if(!(!Iz(T)||!C||T===C.b))return c({rule:h,state:m,from:T,to:C,pasteEvt:a})}}))}var Fg=class{constructor(i,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=i,this.extensions=JM(i),this.schema=nz(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((i,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:R0(e.name,this.schema)},n=Ye(e,"addCommands",t);return n?{...i,...n()}:i},{})}get plugins(){const{editor:i}=this;return b2([...this.extensions].reverse()).flatMap(n=>{const r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:i,type:R0(n.name,this.schema)},s=[],a=Ye(n,"addKeyboardShortcuts",r);let l={};if(n.type==="mark"&&Ye(n,"exitable",r)&&(l.ArrowRight=()=>No.handleExit({editor:i,mark:n})),a){const g=Object.fromEntries(Object.entries(a()).map(([m,v])=>[m,()=>v({editor:i})]));l={...l,...g}}const c=sP(l);s.push(c);const d=Ye(n,"addInputRules",r);if(aC(n,i.options.enableInputRules)&&d){const g=d();if(g&&g.length){const m=Bz({editor:i,rules:g}),v=Array.isArray(m)?m:[m];s.push(...v)}}const h=Ye(n,"addPasteRules",r);if(aC(n,i.options.enablePasteRules)&&h){const g=h();if(g&&g.length){const m=Hz({editor:i,rules:g});s.push(...m)}}const p=Ye(n,"addProseMirrorPlugins",r);if(p){const g=p();s.push(...g)}return s})}get attributes(){return QM(this.extensions)}get nodeViews(){const{editor:i}=this,{nodeExtensions:e}=ec(this.extensions);return Object.fromEntries(e.filter(t=>!!Ye(t,"addNodeView")).map(t=>{const n=this.attributes.filter(c=>c.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:i,type:wn(t.name,this.schema)},s=Ye(t,"addNodeView",r);if(!s)return[];const a=s();if(!a)return[];const l=(c,d,h,p,g)=>{const m=hp(c,n);return a({node:c,view:d,getPos:h,decorations:p,innerDecorations:g,editor:i,extension:t,HTMLAttributes:m})};return[t.name,l]}))}get markViews(){const{editor:i}=this,{markExtensions:e}=ec(this.extensions);return Object.fromEntries(e.filter(t=>!!Ye(t,"addMarkView")).map(t=>{const n=this.attributes.filter(l=>l.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:i,type:Es(t.name,this.schema)},s=Ye(t,"addMarkView",r);if(!s)return[];const a=(l,c,d)=>{const h=hp(l,n);return s()({mark:l,view:c,inline:d,editor:i,extension:t,HTMLAttributes:h,updateAttributes:p=>{iW(l,i,p)}})};return[t.name,a]}))}setupExtensions(){const i=this.extensions;this.editor.extensionStorage=Object.fromEntries(i.map(e=>[e.name,e.storage])),i.forEach(e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:R0(e.name,this.schema)};e.type==="mark"&&((t=Ft(Ye(e,"keepOnSplit",n)))==null||t)&&this.splittableMarks.push(e.name);const r=Ye(e,"onBeforeCreate",n),s=Ye(e,"onCreate",n),a=Ye(e,"onUpdate",n),l=Ye(e,"onSelectionUpdate",n),c=Ye(e,"onTransaction",n),d=Ye(e,"onFocus",n),h=Ye(e,"onBlur",n),p=Ye(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),h&&this.editor.on("blur",h),p&&this.editor.on("destroy",p)})}};Fg.resolve=JM;Fg.sort=b2;Fg.flatten=m2;var qz={};h2(qz,{ClipboardTextSerializer:()=>lR,Commands:()=>cR,Delete:()=>uR,Drop:()=>dR,Editable:()=>hR,FocusEvents:()=>pR,Keymap:()=>gR,Paste:()=>mR,Tabindex:()=>yR,TextDirection:()=>bR,focusEventsPluginKey:()=>fR});var ln=class oR extends x2{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new oR(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},lR=ln.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new tn({key:new Sn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:i}=this,{state:e,schema:t}=i,{doc:n,selection:r}=e,{ranges:s}=r,a=Math.min(...s.map(h=>h.$from.pos)),l=Math.max(...s.map(h=>h.$to.pos)),c=tR(t);return eR(n,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),cR=ln.create({name:"commands",addCommands(){return{...HM}}}),uR=ln.create({name:"delete",onUpdate({transaction:i,appendedTransactions:e}){var t,n,r;const s=()=>{var a,l,c,d;if((d=(c=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,i))!=null?d:i.getMeta("y-sync$"))return;const h=KM(i.before,[i,...e]);iR(h).forEach(m=>{h.mapping.mapResult(m.oldRange.from).deletedAfter&&h.mapping.mapResult(m.oldRange.to).deletedBefore&&h.before.nodesBetween(m.oldRange.from,m.oldRange.to,(v,b)=>{const x=b+v.nodeSize-2,D=m.oldRange.from<=b&&x<=m.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:b,to:x,newFrom:h.mapping.map(b),newTo:h.mapping.map(x),deletedRange:m.oldRange,newRange:m.newRange,partial:!D,editor:this.editor,transaction:i,combinedTransform:h})})});const g=h.mapping;h.steps.forEach((m,v)=>{var b,x;if(m instanceof Tr){const D=g.slice(v).map(m.from,-1),w=g.slice(v).map(m.to),T=g.invert().map(D,-1),C=g.invert().map(w),E=(b=h.doc.nodeAt(D-1))==null?void 0:b.marks.some(k=>k.eq(m.mark)),S=(x=h.doc.nodeAt(w))==null?void 0:x.marks.some(k=>k.eq(m.mark));this.editor.emit("delete",{type:"mark",mark:m.mark,from:m.from,to:m.to,deletedRange:{from:T,to:C},newRange:{from:D,to:w},partial:!!(S||E),editor:this.editor,transaction:i,combinedTransform:h})}})};(r=(n=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:n.async)==null||r?setTimeout(s,0):s()}}),dR=ln.create({name:"drop",addProseMirrorPlugins(){return[new tn({key:new Sn("tiptapDrop"),props:{handleDrop:(i,e,t,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:n})}}})]}}),hR=ln.create({name:"editable",addProseMirrorPlugins(){return[new tn({key:new Sn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),fR=new Sn("focusEvents"),pR=ln.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:i}=this;return[new tn({key:fR,props:{handleDOMEvents:{focus:(e,t)=>{i.isFocused=!0;const n=i.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{i.isFocused=!1;const n=i.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),gR=ln.create({name:"keymap",addKeyboardShortcuts(){const i=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:h,$anchor:p}=c,{pos:g,parent:m}=p,v=p.parent.isTextblock&&g>0?l.doc.resolve(g-1):p,b=v.parent.type.spec.isolating,x=p.pos-p.parentOffset,D=b&&v.parent.childCount===1?x===p.pos:dt.atStart(d).from===g;return!h||!m.type.isTextblock||m.textContent.length||!D||D&&p.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:i,"Mod-Backspace":i,"Shift-Backspace":i,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},s={...n,"Ctrl-h":i,"Alt-Backspace":i,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return g2()||$M()?s:r},addProseMirrorPlugins(){return[new tn({key:new Sn("clearDocument"),appendTransaction:(i,e,t)=>{if(i.some(b=>b.getMeta("composition")))return;const n=i.some(b=>b.docChanged)&&!e.doc.eq(t.doc),r=i.some(b=>b.getMeta("preventClearDocument"));if(!n||r)return;const{empty:s,from:a,to:l}=e.selection,c=dt.atStart(e.doc).from,d=dt.atEnd(e.doc).to;if(s||!(a===c&&l===d)||!Og(t.doc))return;const g=t.tr,m=kg({state:t,transaction:g}),{commands:v}=new Ug({editor:this.editor,state:m});if(v.clearNodes(),!!g.steps.length)return g}})]}}),mR=ln.create({name:"paste",addProseMirrorPlugins(){return[new tn({key:new Sn("tiptapPaste"),props:{handlePaste:(i,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),yR=ln.create({name:"tabindex",addProseMirrorPlugins(){return[new tn({key:new Sn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),bR=ln.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:i}=ec(this.extensions);return[{types:i.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return t&&(t==="ltr"||t==="rtl"||t==="auto")?t:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new tn({key:new Sn("textDirection"),props:{attributes:()=>{const i=this.options.direction;return i?{dir:i}:{}}}})]}}),Vz=class Rl{constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Rl(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Rl(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Rl(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,n)=>{const r=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,a=this.pos+n+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!r&&l.depth<=this.depth)return;const c=new Rl(l,this.editor,r,r?t:null);r&&(c.actualDepth=this.depth+1),e.push(new Rl(l,this.editor,r,r?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const s=r.node.attrs,a=Object.keys(t);for(let l=0;l<a.length;l+=1){const c=a[l];if(s[c]!==t[c])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(t);return this.children.forEach(a=>{n&&r.length>0||(a.node.type.name===e&&s.every(c=>t[c]===a.node.attrs[c])&&r.push(a),!(n&&r.length>0)&&(r=r.concat(a.querySelectorAll(e,t,n))))}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},Gz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Xz(i,e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(r),r}var $z=class extends Nz{constructor(i={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(i),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:s})=>this.options.onDrop(n,r,s)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=GM(e,this.options.autofocus);this.editorState=Ll.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(i){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(i),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const i=this.editorView.dom;i?.editor&&delete i.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(i){console.warn("Failed to remove CSS element:",i)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Xz(Gz,this.options.injectNonce))}setOptions(i={}){this.options={...this.options,...i},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(i,e=!0){this.setOptions({editable:i}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:i=>{this.editorState=i},dispatch:i=>{this.dispatchTransaction(i)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(i,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in i)return Reflect.get(i,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(i,e){const t=ZM(e)?e(i,[...this.state.plugins]):[...this.state.plugins,i],n=this.state.reconfigure({plugins:t});return this.view.updateState(n),n}unregisterPlugin(i){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(i).forEach(r=>{const s=typeof r=="string"?`${r}$`:r.key;t=t.filter(a=>!a.key.startsWith(s))}),e.length===t.length)return;const n=this.state.reconfigure({plugins:t});return this.view.updateState(n),n}createExtensionManager(){var i,e;const n=[...this.options.enableCoreExtensions?[hR,lR.configure({blockSeparator:(e=(i=this.options.coreExtensionOptions)==null?void 0:i.clipboardTextSerializer)==null?void 0:e.blockSeparator}),cR,pR,gR,yR,dR,mR,uR,bR.configure({direction:this.options.textDirection})].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r?.type));this.extensionManager=new Fg(n,this)}createCommandManager(){this.commandManager=new Ug({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let i;try{i=S1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),i=S1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return i}createView(i){var e;this.editorView=new WM(i,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(i){this.isCapturingTransaction=!0,i(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(i){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=i;return}i.steps.forEach(d=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(d)});return}const{state:e,transactions:t}=this.state.applyTransaction(i),n=!this.state.selection.eq(e.selection),r=t.includes(i),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:i,nextState:e}),!r)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:i,appendedTransactions:t.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:i});const a=t.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=a?.getMeta("focus"),c=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),c&&this.emit("blur",{editor:this,event:c.event,transaction:a}),!(i.getMeta("preventUpdate")||!t.some(d=>d.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:i,appendedTransactions:t.slice(1)})}getAttributes(i){return nR(this.state,i)}isActive(i,e){const t=typeof i=="string"?i:null,n=typeof i=="string"?e:i;return uz(this.state,t,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return y2(this.state.doc.content,this.schema)}getText(i){const{blockSeparator:e=`

`,textSerializers:t={}}=i||{};return rz(this.state.doc,{blockSeparator:e,textSerializers:{...tR(this.schema),...t}})}get isEmpty(){return Og(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var i,e;return(e=(i=this.editorView)==null?void 0:i.isDestroyed)!=null?e:!0}$node(i,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(i,e))||null}$nodes(i,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(i,e))||null}$pos(i){const e=this.state.doc.resolve(i);return new Vz(e,this)}get $doc(){return this.$pos(0)}};function tc(i){return new Ng({find:i.find,handler:({state:e,range:t,match:n})=>{const r=Ft(i.getAttributes,void 0,n);if(r===!1||r===null)return null;const{tr:s}=e,a=n[n.length-1],l=n[0];if(a){const c=l.search(/\S/),d=t.from+l.indexOf(a),h=d+a.length;if(v2(t.from,t.to,e.doc).filter(m=>m.mark.type.excluded.find(b=>b===i.type&&b!==m.mark.type)).filter(m=>m.to>d).length)return null;h<t.to&&s.delete(h,t.to),d>t.from&&s.delete(t.from+c,d);const g=t.from+c+a.length;s.addMark(t.from+c,g,i.type.create(r||{})),s.removeStoredMark(i.type)}},undoable:i.undoable})}function Yz(i){return new Ng({find:i.find,handler:({state:e,range:t,match:n})=>{const r=Ft(i.getAttributes,void 0,n)||{},{tr:s}=e,a=t.from;let l=t.to;const c=i.type.create(r);if(n[1]){const d=n[0].lastIndexOf(n[1]);let h=a+d;h>l?h=l:l=h+n[1].length;const p=n[0][n[0].length-1];s.insertText(p,a+n[0].length-1),s.replaceWith(h,l,c)}else if(n[0]){const d=i.type.isInline?a:a-1;s.insert(d,i.type.create(r)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()},undoable:i.undoable})}function k1(i){return new Ng({find:i.find,handler:({state:e,range:t,match:n})=>{const r=e.doc.resolve(t.from),s=Ft(i.getAttributes,void 0,n)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),i.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,i.type,s)},undoable:i.undoable})}function nc(i){return new Ng({find:i.find,handler:({state:e,range:t,match:n,chain:r})=>{const s=Ft(i.getAttributes,void 0,n)||{},a=e.tr.delete(t.from,t.to),c=a.doc.resolve(t.from).blockRange(),d=c&&Kv(c,i.type,s);if(!d)return null;if(a.wrap(c,d),i.keepMarks&&i.editor){const{selection:p,storedMarks:g}=e,{splittableMarks:m}=i.editor.extensionManager,v=g||p.$to.parentOffset&&p.$from.marks();if(v){const b=v.filter(x=>m.includes(x.type.name));a.ensureMarks(b)}}if(i.keepAttributes){const p=i.type.name==="bulletList"||i.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(p,s).run()}const h=a.doc.resolve(t.from-1).nodeBefore;h&&h.type===i.type&&Ma(a.doc,t.from-1)&&(!i.joinPredicate||i.joinPredicate(n,h))&&a.join(t.from-1)},undoable:i.undoable})}function Kz(i,e){const{selection:t}=i,{$from:n}=t;if(t instanceof Ke){const s=n.index();return n.parent.canReplaceWith(s,s+1,e)}let r=n.depth;for(;r>=0;){const s=n.index(r);if(n.node(r).contentMatchAt(s).matchType(e))return!0;r-=1}return!1}var Zz={};h2(Zz,{createAtomBlockMarkdownSpec:()=>Qz,createBlockMarkdownSpec:()=>Jz,createInlineMarkdownSpec:()=>nW,parseAttributes:()=>D2,parseIndentedBlocks:()=>U1,renderNestedMarkdownContent:()=>A2,serializeAttributes:()=>w2});function D2(i){if(!i?.trim())return{};const e={},t=[],n=i.replace(/["']([^"']*)["']/g,d=>(t.push(d),`__QUOTED_${t.length-1}__`)),r=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(r){const d=r.map(h=>h.trim().slice(1));e.class=d.join(" ")}const s=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(a)).forEach(([,d,h])=>{var p;const g=parseInt(((p=h.match(/__QUOTED_(\d+)__/))==null?void 0:p[1])||"0",10),m=t[g];m&&(e[d]=m.slice(1,-1))});const c=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(h=>{h.match(/^[a-zA-Z][\w-]*$/)&&(e[h]=!0)}),e}function w2(i){if(!i||Object.keys(i).length===0)return"";const e=[];return i.class&&String(i.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),i.id&&e.push(`#${i.id}`),Object.entries(i).forEach(([t,n])=>{t==="class"||t==="id"||(n===!0?e.push(t):n!==!1&&n!=null&&e.push(`${t}="${String(n)}"`))}),e.join(" ")}function Qz(i){const{nodeName:e,name:t,parseAttributes:n=D2,serializeAttributes:r=w2,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:l}=i,c=t||e,d=h=>{if(!l)return h;const p={};return l.forEach(g=>{g in h&&(p[g]=h[g])}),p};return{parseMarkdown:(h,p)=>{const g={...s,...h.attributes};return p.createNode(e,g,[])},markdownTokenizer:{name:e,level:"block",start(h){var p;const g=new RegExp(`^:::${c}(?:\\s|$)`,"m"),m=(p=h.match(g))==null?void 0:p.index;return m!==void 0?m:-1},tokenize(h,p,g){const m=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=h.match(m);if(!v)return;const b=v[1]||"",x=n(b);if(!a.find(w=>!(w in x)))return{type:e,raw:v[0],attributes:x}}},renderMarkdown:h=>{const p=d(h.attrs||{}),g=r(p),m=g?` {${g}}`:"";return`:::${c}${m} :::`}}}function Jz(i){const{nodeName:e,name:t,getContent:n,parseAttributes:r=D2,serializeAttributes:s=w2,defaultAttributes:a={},content:l="block",allowedAttributes:c}=i,d=t||e,h=p=>{if(!c)return p;const g={};return c.forEach(m=>{m in p&&(g[m]=p[m])}),g};return{parseMarkdown:(p,g)=>{let m;if(n){const b=n(p);m=typeof b=="string"?[{type:"text",text:b}]:b}else l==="block"?m=g.parseChildren(p.tokens||[]):m=g.parseInline(p.tokens||[]);const v={...a,...p.attributes};return g.createNode(e,v,m)},markdownTokenizer:{name:e,level:"block",start(p){var g;const m=new RegExp(`^:::${d}`,"m"),v=(g=p.match(m))==null?void 0:g.index;return v!==void 0?v:-1},tokenize(p,g,m){var v;const b=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=p.match(b);if(!x)return;const[D,w=""]=x,T=r(w);let C=1;const E=D.length;let S="";const k=/^:::([\w-]*)(\s.*)?/gm,O=p.slice(E);for(k.lastIndex=0;;){const R=k.exec(O);if(R===null)break;const z=R.index,Z=R[1];if(!((v=R[2])!=null&&v.endsWith(":::"))){if(Z)C+=1;else if(C-=1,C===0){const F=O.slice(0,z);S=F.trim();const W=p.slice(0,E+z+R[0].length);let M=[];if(S)if(l==="block")for(M=m.blockTokens(F),M.forEach(Y=>{Y.text&&(!Y.tokens||Y.tokens.length===0)&&(Y.tokens=m.inlineTokens(Y.text))});M.length>0;){const Y=M[M.length-1];if(Y.type==="paragraph"&&(!Y.text||Y.text.trim()===""))M.pop();else break}else M=m.inlineTokens(S);return{type:e,raw:W,attributes:T,content:S,tokens:M}}}}}},renderMarkdown:(p,g)=>{const m=h(p.attrs||{}),v=s(m),b=v?` {${v}}`:"",x=g.renderChildren(p.content||[],`

`);return`:::${d}${b}

${x}

:::`}}}function eW(i){if(!i.trim())return{};const e={},t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=t.exec(i);for(;n!==null;){const[,r,s,a]=n;e[r]=s||a,n=t.exec(i)}return e}function tW(i){return Object.entries(i).filter(([,e])=>e!=null).map(([e,t])=>`${e}="${t}"`).join(" ")}function nW(i){const{nodeName:e,name:t,getContent:n,parseAttributes:r=eW,serializeAttributes:s=tW,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:c}=i,d=t||e,h=g=>{if(!c)return g;const m={};return c.forEach(v=>{v in g&&(m[v]=g[v])}),m},p=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(g,m)=>{const v={...a,...g.attributes};if(l)return m.createNode(e,v);const b=n?n(g):g.content||"";return b?m.createNode(e,v,[m.createTextNode(b)]):m.createNode(e,v,[])},markdownTokenizer:{name:e,level:"inline",start(g){const m=l?new RegExp(`\\[${p}\\s*[^\\]]*\\]`):new RegExp(`\\[${p}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${p}\\]`),v=g.match(m),b=v?.index;return b!==void 0?b:-1},tokenize(g,m,v){const b=l?new RegExp(`^\\[${p}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${p}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${p}\\]`),x=g.match(b);if(!x)return;let D="",w="";if(l){const[,C]=x;w=C}else{const[,C,E]=x;w=C,D=E||""}const T=r(w.trim());return{type:e,raw:x[0],content:D.trim(),attributes:T}}},renderMarkdown:g=>{let m="";n?m=n(g):g.content&&g.content.length>0&&(m=g.content.filter(D=>D.type==="text").map(D=>D.text).join(""));const v=h(g.attrs||{}),b=s(v),x=b?` ${b}`:"";return l?`[${d}${x}]`:`[${d}${x}]${m}[/${d}]`}}}function U1(i,e,t){var n,r,s,a;const l=i.split(`
`),c=[];let d="",h=0;const p=e.baseIndentSize||2;for(;h<l.length;){const g=l[h],m=g.match(e.itemPattern);if(!m){if(c.length>0)break;if(g.trim()===""){h+=1,d=`${d}${g}
`;continue}else return}const v=e.extractItemData(m),{indentLevel:b,mainContent:x}=v;d=`${d}${g}
`;const D=[x];for(h+=1;h<l.length;){const E=l[h];if(E.trim()===""){const k=l.slice(h+1).findIndex(z=>z.trim()!=="");if(k===-1)break;if((((r=(n=l[h+1+k].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:r.length)||0)>b){D.push(E),d=`${d}${E}
`,h+=1;continue}else break}if((((a=(s=E.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>b)D.push(E),d=`${d}${E}
`,h+=1;else break}let w;const T=D.slice(1);if(T.length>0){const E=T.map(S=>S.slice(b+p)).join(`
`);E.trim()&&(e.customNestedParser?w=e.customNestedParser(E):w=t.blockTokens(E))}const C=e.createToken(v,w);c.push(C)}if(c.length!==0)return{items:c,raw:d}}function A2(i,e,t,n){if(!i||!Array.isArray(i.content))return"";const r=typeof t=="function"?t(n):t,[s,...a]=i.content,l=e.renderChildren([s]),c=[`${r}${l}`];return a&&a.length>0&&a.forEach(d=>{const h=e.renderChildren([d]);if(h){const p=h.split(`
`).map(g=>g?e.indent(g):"").join(`
`);c.push(p)}}),c.join(`
`)}function iW(i,e,t={}){const{state:n}=e,{doc:r,tr:s}=n,a=i;r.descendants((l,c)=>{const d=s.mapping.map(c),h=s.mapping.map(c)+l.nodeSize;let p=null;if(l.marks.forEach(m=>{if(m!==a)return!1;p=m}),!p)return;let g=!1;if(Object.keys(t).forEach(m=>{t[m]!==p.attrs[m]&&(g=!0)}),g){const m=i.type.create({...i.attrs,...t});s.removeMark(d,h,i.type),s.addMark(d,h,m)}}),s.docChanged&&e.view.dispatch(s)}var Hi=class vR extends x2{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new vR(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function Eo(i){return new Pz({find:i.find,handler:({state:e,range:t,match:n,pasteEvent:r})=>{const s=Ft(i.getAttributes,void 0,n,r);if(s===!1||s===null)return null;const{tr:a}=e,l=n[n.length-1],c=n[0];let d=t.to;if(l){const h=c.search(/\S/),p=t.from+c.indexOf(l),g=p+l.length;if(v2(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(x=>x===i.type&&x!==v.mark.type)).filter(v=>v.to>p).length)return null;g<t.to&&a.delete(g,t.to),p>t.from&&a.delete(t.from+h,p),d=t.from+h+l.length,a.addMark(t.from+h,d,i.type.create(s||{})),a.removeStoredMark(i.type)}}})}var F0,cC;function rW(){return cC||(cC=1,F0=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!i(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!i(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){var a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!i(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}),F0}var sW=rW();const aW=Hp(sW);var B0={exports:{}},L0={};var uC;function oW(){if(uC)return L0;uC=1;var i=rd(),e=pU();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=i.useRef,a=i.useEffect,l=i.useMemo,c=i.useDebugValue;return L0.useSyncExternalStoreWithSelector=function(d,h,p,g,m){var v=s(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=l(function(){function D(S){if(!w){if(w=!0,T=S,S=g(S),m!==void 0&&b.hasValue){var k=b.value;if(m(k,S))return C=k}return C=S}if(k=C,n(T,S))return k;var O=g(S);return m!==void 0&&m(k,O)?(T=S,k):(T=S,C=O)}var w=!1,T,C,E=p===void 0?null:p;return[function(){return D(h())},E===null?void 0:function(){return D(E())}]},[h,p,g,m]);var x=r(d,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=x},[x]),c(x),x},L0}var dC;function lW(){return dC||(dC=1,B0.exports=oW()),B0.exports}var cW=lW(),uW=(...i)=>e=>{i.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},dW=({contentComponent:i})=>{const e=gU.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getServerSnapshot);return Te.jsx(Te.Fragment,{children:Object.values(e)})};function hW(){const i=new Set;let e={};return{subscribe(t){return i.add(t),()=>{i.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,n){e={...e,[t]:tI.createPortal(n.reactElement,n.element,t)},i.forEach(r=>r())},removeRenderer(t){const n={...e};delete n[t],e=n,i.forEach(r=>r())}}}var fW=class extends yo.Component{constructor(i){var e;super(i),this.editorContentRef=yo.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=i.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const i=this.props.editor;if(i&&!i.isDestroyed&&i.options.element){if(i.contentComponent)return;const e=this.editorContentRef.current;e.append(i.view.dom),i.setOptions({element:e}),i.contentComponent=hW(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=i.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),i.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var i;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((i=e.view.dom)!=null&&i.firstChild))return;const t=document.createElement("div");t.append(e.view.dom),e.setOptions({element:t})}catch{}}}render(){const{editor:i,innerRef:e,...t}=this.props;return Te.jsxs(Te.Fragment,{children:[Te.jsx("div",{ref:uW(e,this.editorContentRef),...t}),i?.contentComponent&&Te.jsx(dW,{contentComponent:i.contentComponent})]})}},pW=Tt.forwardRef((i,e)=>{const t=yo.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[i.editor]);return yo.createElement(fW,{key:t,innerRef:e,...i})}),gW=yo.memo(pW),mW=typeof window<"u"?Tt.useLayoutEffect:Tt.useEffect,yW=class{constructor(i){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=i,this.lastSnapshot={editor:i,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(i){return this.subscribers.add(i),()=>{this.subscribers.delete(i)}}watch(i){if(this.editor=i,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function bW(i){var e;const[t]=Tt.useState(()=>new yW(i.editor)),n=cW.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,i.selector,(e=i.equalityFn)!=null?e:aW);return mW(()=>t.watch(i.editor),[i.editor,t]),Tt.useDebugValue(n),n}var vW=!1,M1=typeof window>"u",xW=M1||!!(typeof window<"u"&&window.next),DW=class xR{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?M1||xW?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var r,s;return(s=(r=this.options.current).onBeforeCreate)==null?void 0:s.call(r,...n)},onBlur:(...n)=>{var r,s;return(s=(r=this.options.current).onBlur)==null?void 0:s.call(r,...n)},onCreate:(...n)=>{var r,s;return(s=(r=this.options.current).onCreate)==null?void 0:s.call(r,...n)},onDestroy:(...n)=>{var r,s;return(s=(r=this.options.current).onDestroy)==null?void 0:s.call(r,...n)},onFocus:(...n)=>{var r,s;return(s=(r=this.options.current).onFocus)==null?void 0:s.call(r,...n)},onSelectionUpdate:(...n)=>{var r,s;return(s=(r=this.options.current).onSelectionUpdate)==null?void 0:s.call(r,...n)},onTransaction:(...n)=>{var r,s;return(s=(r=this.options.current).onTransaction)==null?void 0:s.call(r,...n)},onUpdate:(...n)=>{var r,s;return(s=(r=this.options.current).onUpdate)==null?void 0:s.call(r,...n)},onContentError:(...n)=>{var r,s;return(s=(r=this.options.current).onContentError)==null?void 0:s.call(r,...n)},onDrop:(...n)=>{var r,s;return(s=(r=this.options.current).onDrop)==null?void 0:s.call(r,...n)},onPaste:(...n)=>{var r,s;return(s=(r=this.options.current).onPaste)==null?void 0:s.call(r,...n)},onDelete:(...n)=>{var r,s;return(s=(r=this.options.current).onDelete)==null?void 0:s.call(r,...n)}};return new $z(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((r,s)=>{var a;return r===((a=t.extensions)==null?void 0:a[s])}):e[n]===t[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?xR.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,r)=>n===e[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function wW(i={},e=[]){const t=Tt.useRef(i);t.current=i;const[n]=Tt.useState(()=>new DW(t)),r=gU.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return Tt.useDebugValue(r),Tt.useEffect(n.onRender(e)),bW({editor:r,selector:({transactionNumber:s})=>i.shouldRerenderOnTransaction===!1||i.shouldRerenderOnTransaction===void 0?null:i.immediatelyRender&&s===0?0:s+1}),r}var AW=Tt.createContext({editor:null});AW.Consumer;var TW=Tt.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),_W=()=>Tt.useContext(TW);yo.forwardRef((i,e)=>{const{onDragStart:t}=_W(),n=i.as||"div";return Te.jsx(n,{...i,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...i.style}})});yo.createContext({markViewContentRef:()=>{}});var fp=(i,e)=>{if(i==="slot")return 0;if(i instanceof Function)return i(e);const{children:t,...n}=e??{};if(i==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[i,n,t]},EW=/^\s*>\s$/,SW=Hi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:i}){return fp("blockquote",{...An(this.options.HTMLAttributes,i),children:fp("slot",{})})},parseMarkdown:(i,e)=>e.createNode("blockquote",void 0,e.parseChildren(i.tokens||[])),renderMarkdown:(i,e)=>{if(!i.content)return"";const t=">",n=[];return i.content.forEach(r=>{const l=e.renderChildren([r]).split(`
`).map(c=>c.trim()===""?t:`${t} ${c}`);n.push(l.join(`
`))}),n.join(`
${t}
`)},addCommands(){return{setBlockquote:()=>({commands:i})=>i.wrapIn(this.name),toggleBlockquote:()=>({commands:i})=>i.toggleWrap(this.name),unsetBlockquote:()=>({commands:i})=>i.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[nc({find:EW,type:this.type})]}}),CW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,kW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,UW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,MW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,RW=No.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:i=>i.type.name===this.name},{style:"font-weight",getAttrs:i=>/^(bold(er)?|[5-9]\d{2,})$/.test(i)&&null}]},renderHTML({HTMLAttributes:i}){return fp("strong",{...An(this.options.HTMLAttributes,i),children:fp("slot",{})})},markdownTokenName:"strong",parseMarkdown:(i,e)=>e.applyMark("bold",e.parseInline(i.tokens||[])),renderMarkdown:(i,e)=>`**${e.renderChildren(i)}**`,addCommands(){return{setBold:()=>({commands:i})=>i.setMark(this.name),toggleBold:()=>({commands:i})=>i.toggleMark(this.name),unsetBold:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[tc({find:CW,type:this.type}),tc({find:UW,type:this.type})]},addPasteRules(){return[Eo({find:kW,type:this.type}),Eo({find:MW,type:this.type})]}}),OW=/(^|[^`])`([^`]+)`(?!`)$/,NW=/(^|[^`])`([^`]+)`(?!`)/g,FW=No.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:i}){return["code",An(this.options.HTMLAttributes,i),0]},markdownTokenName:"codespan",parseMarkdown:(i,e)=>e.applyMark("code",[{type:"text",text:i.text||""}]),renderMarkdown:(i,e)=>i.content?`\`${e.renderChildren(i.content)}\``:"",addCommands(){return{setCode:()=>({commands:i})=>i.setMark(this.name),toggleCode:()=>({commands:i})=>i.toggleMark(this.name),unsetCode:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[tc({find:OW,type:this.type})]},addPasteRules(){return[Eo({find:NW,type:this.type})]}}),I0=4,BW=/^```([a-z]+)?[\s\n]$/,LW=/^~~~([a-z]+)?[\s\n]$/,IW=Hi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:I0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:i=>{var e;const{languageClassPrefix:t}=this.options;if(!t)return null;const s=[...((e=i.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:i,HTMLAttributes:e}){return["pre",An(this.options.HTMLAttributes,e),["code",{class:i.attrs.language?this.options.languageClassPrefix+i.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(i,e)=>{var t;return((t=i.raw)==null?void 0:t.startsWith("```"))===!1&&i.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:i.lang||null},i.text?[e.createTextNode(i.text)]:[])},renderMarkdown:(i,e)=>{var t;let n="";const r=((t=i.attrs)==null?void 0:t.language)||"";return i.content?n=[`\`\`\`${r}`,e.renderChildren(i.content),"```"].join(`
`):n=`\`\`\`${r}

\`\`\``,n},addCommands(){return{setCodeBlock:i=>({commands:e})=>e.setNode(this.name,i),toggleCodeBlock:i=>({commands:e})=>e.toggleNode(this.name,"paragraph",i)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:i,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!i||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:i})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:I0,{state:n}=i,{selection:r}=n,{$from:s,empty:a}=r;if(s.parent.type!==this.type)return!1;const l=" ".repeat(t);return a?i.commands.insertContent(l):i.commands.command(({tr:c})=>{const{from:d,to:h}=r,m=n.doc.textBetween(d,h,`
`,`
`).split(`
`).map(v=>l+v).join(`
`);return c.replaceWith(d,h,n.schema.text(m)),!0})},"Shift-Tab":({editor:i})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:I0,{state:n}=i,{selection:r}=n,{$from:s,empty:a}=r;return s.parent.type!==this.type?!1:a?i.commands.command(({tr:l})=>{var c;const{pos:d}=s,h=s.start(),p=s.end(),m=n.doc.textBetween(h,p,`
`,`
`).split(`
`);let v=0,b=0;const x=d-h;for(let S=0;S<m.length;S+=1){if(b+m[S].length>=x){v=S;break}b+=m[S].length+1}const w=((c=m[v].match(/^ */))==null?void 0:c[0])||"",T=Math.min(w.length,t);if(T===0)return!0;let C=h;for(let S=0;S<v;S+=1)C+=m[S].length+1;return l.delete(C,C+T),d-C<=T&&l.setSelection(tt.create(l.doc,C)),!0}):i.commands.command(({tr:l})=>{const{from:c,to:d}=r,g=n.doc.textBetween(c,d,`
`,`
`).split(`
`).map(m=>{var v;const b=((v=m.match(/^ */))==null?void 0:v[0])||"",x=Math.min(b.length,t);return m.slice(x)}).join(`
`);return l.replaceWith(c,d,n.schema.text(g)),!0})},Enter:({editor:i})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=i,{selection:t}=e,{$from:n,empty:r}=t;if(!r||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!s||!a?!1:i.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:i})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=i,{selection:t,doc:n}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const l=r.after();return l===void 0?!1:n.nodeAt(l)?i.commands.command(({tr:d})=>(d.setSelection(dt.near(n.resolve(l))),!0)):i.commands.exitCode()}}},addInputRules(){return[k1({find:BW,type:this.type,getAttributes:i=>({language:i[1]})}),k1({find:LW,type:this.type,getAttributes:i=>({language:i[1]})})]},addProseMirrorPlugins(){return[new tn({key:new Sn("codeBlockVSCodeHandler"),props:{handlePaste:(i,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),r=n?JSON.parse(n):void 0,s=r?.mode;if(!t||!s)return!1;const{tr:a,schema:l}=i.state,c=l.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(tt.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),i.dispatch(a),!0}}})]}}),PW=Hi.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(i,e)=>i.content?e.renderChildren(i.content,`

`):""}),zW=Hi.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:i}){return["br",An(this.options.HTMLAttributes,i)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:i,chain:e,state:t,editor:n})=>i.first([()=>i.exitCode(),()=>i.command(()=>{const{selection:r,storedMarks:s}=t;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=n.extensionManager,c=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:h})=>{if(h&&c&&a){const p=c.filter(g=>l.includes(g.type.name));d.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),WW=Hi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(i=>({tag:`h${i}`,attrs:{level:i}}))},renderHTML({node:i,HTMLAttributes:e}){return[`h${this.options.levels.includes(i.attrs.level)?i.attrs.level:this.options.levels[0]}`,An(this.options.HTMLAttributes,e),0]},parseMarkdown:(i,e)=>e.createNode("heading",{level:i.depth||1},e.parseInline(i.tokens||[])),renderMarkdown:(i,e)=>{var t;const n=(t=i.attrs)!=null&&t.level?parseInt(i.attrs.level,10):1,r="#".repeat(n);return i.content?`${r} ${e.renderChildren(i.content)}`:""},addCommands(){return{setHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.setNode(this.name,i):!1,toggleHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.toggleNode(this.name,"paragraph",i):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((i,e)=>({...i,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(i=>k1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${i}})\\s$`),type:this.type,getAttributes:{level:i}}))}}),jW=Hi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:i}){return["hr",An(this.options.HTMLAttributes,i)]},markdownTokenName:"hr",parseMarkdown:(i,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:i,state:e})=>{if(!Kz(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:n}=t,r=i();return rR(t)?r.insertContentAt(n.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:s,tr:a,dispatch:l})=>{if(l){const{$to:c}=a.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection(tt.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection(Ke.create(a.doc,c.pos)):a.setSelection(tt.create(a.doc,c.pos));else{const h=s.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,p=h?.create();p&&(a.insert(d,p),a.setSelection(tt.create(a.doc,d+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Yz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),HW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,qW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,VW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,GW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,XW=No.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:i=>i.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:i=>i.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:i}){return["em",An(this.options.HTMLAttributes,i),0]},addCommands(){return{setItalic:()=>({commands:i})=>i.setMark(this.name),toggleItalic:()=>({commands:i})=>i.toggleMark(this.name),unsetItalic:()=>({commands:i})=>i.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(i,e)=>e.applyMark("italic",e.parseInline(i.tokens||[])),renderMarkdown:(i,e)=>`*${e.renderChildren(i)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[tc({find:HW,type:this.type}),tc({find:VW,type:this.type})]},addPasteRules(){return[Eo({find:qW,type:this.type}),Eo({find:GW,type:this.type})]}});const $W="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",YW="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",R1="numeric",O1="ascii",N1="alpha",ku="asciinumeric",Au="alphanumeric",F1="domain",DR="emoji",KW="scheme",ZW="slashscheme",P0="whitespace";function QW(i,e){return i in e||(e[i]=[]),e[i]}function ao(i,e,t){e[R1]&&(e[ku]=!0,e[Au]=!0),e[O1]&&(e[ku]=!0,e[N1]=!0),e[ku]&&(e[Au]=!0),e[N1]&&(e[Au]=!0),e[Au]&&(e[F1]=!0),e[DR]&&(e[F1]=!0);for(const n in e){const r=QW(n,t);r.indexOf(i)<0&&r.push(i)}}function JW(i,e){const t={};for(const n in e)e[n].indexOf(i)>=0&&(t[n]=!0);return t}function Ai(i=null){this.j={},this.jr=[],this.jd=null,this.t=i}Ai.groups={};Ai.prototype={accepts(){return!!this.t},go(i){const e=this,t=e.j[i];if(t)return t;for(let n=0;n<e.jr.length;n++){const r=e.jr[n][0],s=e.jr[n][1];if(s&&r.test(i))return s}return e.jd},has(i,e=!1){return e?i in this.j:!!this.go(i)},ta(i,e,t,n){for(let r=0;r<i.length;r++)this.tt(i[r],e,t,n)},tr(i,e,t,n){n=n||Ai.groups;let r;return e&&e.j?r=e:(r=new Ai(e),t&&n&&ao(e,t,n)),this.jr.push([i,r]),r},ts(i,e,t,n){let r=this;const s=i.length;if(!s)return r;for(let a=0;a<s-1;a++)r=r.tt(i[a]);return r.tt(i[s-1],e,t,n)},tt(i,e,t,n){n=n||Ai.groups;const r=this;if(e&&e.j)return r.j[i]=e,e;const s=e;let a,l=r.go(i);if(l?(a=new Ai,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Ai,s){if(n)if(a.t&&typeof a.t=="string"){const c=Object.assign(JW(a.t,n),t);ao(s,c,n)}else t&&ao(s,t,n);a.t=s}return r.j[i]=a,a}};const ut=(i,e,t,n,r)=>i.ta(e,t,n,r),sn=(i,e,t,n,r)=>i.tr(e,t,n,r),hC=(i,e,t,n,r)=>i.ts(e,t,n,r),Me=(i,e,t,n,r)=>i.tt(e,t,n,r),ys="WORD",B1="UWORD",wR="ASCIINUMERICAL",AR="ALPHANUMERICAL",nd="LOCALHOST",L1="TLD",I1="UTLD",Hf="SCHEME",Ol="SLASH_SCHEME",T2="NUM",P1="WS",_2="NL",Uu="OPENBRACE",Mu="CLOSEBRACE",pp="OPENBRACKET",gp="CLOSEBRACKET",mp="OPENPAREN",yp="CLOSEPAREN",bp="OPENANGLEBRACKET",vp="CLOSEANGLEBRACKET",xp="FULLWIDTHLEFTPAREN",Dp="FULLWIDTHRIGHTPAREN",wp="LEFTCORNERBRACKET",Ap="RIGHTCORNERBRACKET",Tp="LEFTWHITECORNERBRACKET",_p="RIGHTWHITECORNERBRACKET",Ep="FULLWIDTHLESSTHAN",Sp="FULLWIDTHGREATERTHAN",Cp="AMPERSAND",kp="APOSTROPHE",Up="ASTERISK",ra="AT",Mp="BACKSLASH",Rp="BACKTICK",Op="CARET",la="COLON",E2="COMMA",Np="DOLLAR",Ir="DOT",Fp="EQUALS",S2="EXCLAMATION",ar="HYPHEN",Ru="PERCENT",Bp="PIPE",Lp="PLUS",Ip="POUND",Ou="QUERY",C2="QUOTE",TR="FULLWIDTHMIDDLEDOT",k2="SEMI",Pr="SLASH",Nu="TILDE",Pp="UNDERSCORE",_R="EMOJI",zp="SYM";var ER=Object.freeze({__proto__:null,ALPHANUMERICAL:AR,AMPERSAND:Cp,APOSTROPHE:kp,ASCIINUMERICAL:wR,ASTERISK:Up,AT:ra,BACKSLASH:Mp,BACKTICK:Rp,CARET:Op,CLOSEANGLEBRACKET:vp,CLOSEBRACE:Mu,CLOSEBRACKET:gp,CLOSEPAREN:yp,COLON:la,COMMA:E2,DOLLAR:Np,DOT:Ir,EMOJI:_R,EQUALS:Fp,EXCLAMATION:S2,FULLWIDTHGREATERTHAN:Sp,FULLWIDTHLEFTPAREN:xp,FULLWIDTHLESSTHAN:Ep,FULLWIDTHMIDDLEDOT:TR,FULLWIDTHRIGHTPAREN:Dp,HYPHEN:ar,LEFTCORNERBRACKET:wp,LEFTWHITECORNERBRACKET:Tp,LOCALHOST:nd,NL:_2,NUM:T2,OPENANGLEBRACKET:bp,OPENBRACE:Uu,OPENBRACKET:pp,OPENPAREN:mp,PERCENT:Ru,PIPE:Bp,PLUS:Lp,POUND:Ip,QUERY:Ou,QUOTE:C2,RIGHTCORNERBRACKET:Ap,RIGHTWHITECORNERBRACKET:_p,SCHEME:Hf,SEMI:k2,SLASH:Pr,SLASH_SCHEME:Ol,SYM:zp,TILDE:Nu,TLD:L1,UNDERSCORE:Pp,UTLD:I1,UWORD:B1,WORD:ys,WS:P1});const ps=/[a-z]/,mu=new RegExp("\\p{L}","u"),z0=new RegExp("\\p{Emoji}","u"),gs=/\d/,W0=/\s/,fC="\r",j0=`
`,ej="",tj="",H0="";let uf=null,df=null;function nj(i=[]){const e={};Ai.groups=e;const t=new Ai;uf==null&&(uf=pC($W)),df==null&&(df=pC(YW)),Me(t,"'",kp),Me(t,"{",Uu),Me(t,"}",Mu),Me(t,"[",pp),Me(t,"]",gp),Me(t,"(",mp),Me(t,")",yp),Me(t,"<",bp),Me(t,">",vp),Me(t,"",xp),Me(t,"",Dp),Me(t,"",wp),Me(t,"",Ap),Me(t,"",Tp),Me(t,"",_p),Me(t,"",Ep),Me(t,"",Sp),Me(t,"&",Cp),Me(t,"*",Up),Me(t,"@",ra),Me(t,"`",Rp),Me(t,"^",Op),Me(t,":",la),Me(t,",",E2),Me(t,"$",Np),Me(t,".",Ir),Me(t,"=",Fp),Me(t,"!",S2),Me(t,"-",ar),Me(t,"%",Ru),Me(t,"|",Bp),Me(t,"+",Lp),Me(t,"#",Ip),Me(t,"?",Ou),Me(t,'"',C2),Me(t,"/",Pr),Me(t,";",k2),Me(t,"~",Nu),Me(t,"_",Pp),Me(t,"\\",Mp),Me(t,"",TR);const n=sn(t,gs,T2,{[R1]:!0});sn(n,gs,n);const r=sn(n,ps,wR,{[ku]:!0}),s=sn(n,mu,AR,{[Au]:!0}),a=sn(t,ps,ys,{[O1]:!0});sn(a,gs,r),sn(a,ps,a),sn(r,gs,r),sn(r,ps,r);const l=sn(t,mu,B1,{[N1]:!0});sn(l,ps),sn(l,gs,s),sn(l,mu,l),sn(s,gs,s),sn(s,ps),sn(s,mu,s);const c=Me(t,j0,_2,{[P0]:!0}),d=Me(t,fC,P1,{[P0]:!0}),h=sn(t,W0,P1,{[P0]:!0});Me(t,H0,h),Me(d,j0,c),Me(d,H0,h),sn(d,W0,h),Me(h,fC),Me(h,j0),sn(h,W0,h),Me(h,H0,h);const p=sn(t,z0,_R,{[DR]:!0});Me(p,"#"),sn(p,z0,p),Me(p,ej,p);const g=Me(p,tj);Me(g,"#"),sn(g,z0,p);const m=[[ps,a],[gs,r]],v=[[ps,null],[mu,l],[gs,s]];for(let b=0;b<uf.length;b++)ea(t,uf[b],L1,ys,m);for(let b=0;b<df.length;b++)ea(t,df[b],I1,B1,v);ao(L1,{tld:!0,ascii:!0},e),ao(I1,{utld:!0,alpha:!0},e),ea(t,"file",Hf,ys,m),ea(t,"mailto",Hf,ys,m),ea(t,"http",Ol,ys,m),ea(t,"https",Ol,ys,m),ea(t,"ftp",Ol,ys,m),ea(t,"ftps",Ol,ys,m),ao(Hf,{scheme:!0,ascii:!0},e),ao(Ol,{slashscheme:!0,ascii:!0},e),i=i.sort((b,x)=>b[0]>x[0]?1:-1);for(let b=0;b<i.length;b++){const x=i[b][0],w=i[b][1]?{[KW]:!0}:{[ZW]:!0};x.indexOf("-")>=0?w[F1]=!0:ps.test(x)?gs.test(x)?w[ku]=!0:w[O1]=!0:w[R1]=!0,hC(t,x,x,w)}return hC(t,"localhost",nd,{ascii:!0}),t.jd=new Ai(zp),{start:t,tokens:Object.assign({groups:e},ER)}}function SR(i,e){const t=ij(e.replace(/[A-Z]/g,l=>l.toLowerCase())),n=t.length,r=[];let s=0,a=0;for(;a<n;){let l=i,c=null,d=0,h=null,p=-1,g=-1;for(;a<n&&(c=l.go(t[a]));)l=c,l.accepts()?(p=0,g=0,h=l):p>=0&&(p+=t[a].length,g++),d+=t[a].length,s+=t[a].length,a++;s-=p,a-=g,d-=p,r.push({t:h.t,v:e.slice(s-d,s),s:s-d,e:s})}return r}function ij(i){const e=[],t=i.length;let n=0;for(;n<t;){let r=i.charCodeAt(n),s,a=r<55296||r>56319||n+1===t||(s=i.charCodeAt(n+1))<56320||s>57343?i[n]:i.slice(n,n+2);e.push(a),n+=a.length}return e}function ea(i,e,t,n,r){let s;const a=e.length;for(let l=0;l<a-1;l++){const c=e[l];i.j[c]?s=i.j[c]:(s=new Ai(n),s.jr=r.slice(),i.j[c]=s),i=s}return s=new Ai(t),s.jr=r.slice(),i.j[e[a-1]]=s,s}function pC(i){const e=[],t=[];let n=0,r="0123456789";for(;n<i.length;){let s=0;for(;r.indexOf(i[n+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let a=parseInt(i.substring(n,n+s),10);a>0;a--)t.pop();n+=s}else t.push(i[n]),n++}return e}const id={defaultProtocol:"http",events:null,format:gC,formatHref:gC,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function U2(i,e=null){let t=Object.assign({},id);i&&(t=Object.assign(t,i instanceof U2?i.o:i));const n=t.ignoreTags,r=[];for(let s=0;s<n.length;s++)r.push(n[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=r}U2.prototype={o:id,ignoreTags:[],defaultRender(i){return i},check(i){return this.get("validate",i.toString(),i)},get(i,e,t){const n=e!=null;let r=this.o[i];return r&&(typeof r=="object"?(r=t.t in r?r[t.t]:id[i],typeof r=="function"&&n&&(r=r(e,t))):typeof r=="function"&&n&&(r=r(e,t.t,t)),r)},getObj(i,e,t){let n=this.o[i];return typeof n=="function"&&e!=null&&(n=n(e,t.t,t)),n},render(i){const e=i.render(this);return(this.get("render",null,i)||this.defaultRender)(e,i.t,i)}};function gC(i){return i}function CR(i,e){this.t="token",this.v=i,this.tk=e}CR.prototype={isLink:!1,toString(){return this.v},toHref(i){return this.toString()},toFormattedString(i){const e=this.toString(),t=i.get("truncate",e,this),n=i.get("format",e,this);return t&&n.length>t?n.substring(0,t)+"":n},toFormattedHref(i){return i.get("formatHref",this.toHref(i.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(i=id.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(i),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(i){return{type:this.t,value:this.toFormattedString(i),isLink:this.isLink,href:this.toFormattedHref(i),start:this.startIndex(),end:this.endIndex()}},validate(i){return i.get("validate",this.toString(),this)},render(i){const e=this,t=this.toHref(i.get("defaultProtocol")),n=i.get("formatHref",t,this),r=i.get("tagName",t,e),s=this.toFormattedString(i),a={},l=i.get("className",t,e),c=i.get("target",t,e),d=i.get("rel",t,e),h=i.getObj("attributes",t,e),p=i.getObj("events",t,e);return a.href=n,l&&(a.class=l),c&&(a.target=c),d&&(a.rel=d),h&&Object.assign(a,h),{tagName:r,attributes:a,content:s,eventListeners:p}}};function Bg(i,e){class t extends CR{constructor(r,s){super(r,s),this.t=i}}for(const n in e)t.prototype[n]=e[n];return t.t=i,t}const mC=Bg("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),yC=Bg("text"),rj=Bg("nl"),hf=Bg("url",{isLink:!0,toHref(i=id.defaultProtocol){return this.hasProtocol()?this.v:`${i}://${this.v}`},hasProtocol(){const i=this.tk;return i.length>=2&&i[0].t!==nd&&i[1].t===la}}),sr=i=>new Ai(i);function sj({groups:i}){const e=i.domain.concat([Cp,Up,ra,Mp,Rp,Op,Np,Fp,ar,T2,Ru,Bp,Lp,Ip,Pr,zp,Nu,Pp]),t=[kp,la,E2,Ir,S2,Ru,Ou,C2,k2,bp,vp,Uu,Mu,gp,pp,mp,yp,xp,Dp,wp,Ap,Tp,_p,Ep,Sp],n=[Cp,kp,Up,Mp,Rp,Op,Np,Fp,ar,Uu,Mu,Ru,Bp,Lp,Ip,Ou,Pr,zp,Nu,Pp],r=sr(),s=Me(r,Nu);ut(s,n,s),ut(s,i.domain,s);const a=sr(),l=sr(),c=sr();ut(r,i.domain,a),ut(r,i.scheme,l),ut(r,i.slashscheme,c),ut(a,n,s),ut(a,i.domain,a);const d=Me(a,ra);Me(s,ra,d),Me(l,ra,d),Me(c,ra,d);const h=Me(s,Ir);ut(h,n,s),ut(h,i.domain,s);const p=sr();ut(d,i.domain,p),ut(p,i.domain,p);const g=Me(p,Ir);ut(g,i.domain,p);const m=sr(mC);ut(g,i.tld,m),ut(g,i.utld,m),Me(d,nd,m);const v=Me(p,ar);Me(v,ar,v),ut(v,i.domain,p),ut(m,i.domain,p),Me(m,Ir,g),Me(m,ar,v);const b=Me(m,la);ut(b,i.numeric,mC);const x=Me(a,ar),D=Me(a,Ir);Me(x,ar,x),ut(x,i.domain,a),ut(D,n,s),ut(D,i.domain,a);const w=sr(hf);ut(D,i.tld,w),ut(D,i.utld,w),ut(w,i.domain,a),ut(w,n,s),Me(w,Ir,D),Me(w,ar,x),Me(w,ra,d);const T=Me(w,la),C=sr(hf);ut(T,i.numeric,C);const E=sr(hf),S=sr();ut(E,e,E),ut(E,t,S),ut(S,e,E),ut(S,t,S),Me(w,Pr,E),Me(C,Pr,E);const k=Me(l,la),O=Me(c,la),R=Me(O,Pr),z=Me(R,Pr);ut(l,i.domain,a),Me(l,Ir,D),Me(l,ar,x),ut(c,i.domain,a),Me(c,Ir,D),Me(c,ar,x),ut(k,i.domain,E),Me(k,Pr,E),Me(k,Ou,E),ut(z,i.domain,E),ut(z,e,E),Me(z,Pr,E);const Z=[[Uu,Mu],[pp,gp],[mp,yp],[bp,vp],[xp,Dp],[wp,Ap],[Tp,_p],[Ep,Sp]];for(let F=0;F<Z.length;F++){const[W,M]=Z[F],Y=Me(E,W);Me(S,W,Y),Me(Y,M,E);const B=sr(hf);ut(Y,e,B);const I=sr();ut(Y,t),ut(B,e,B),ut(B,t,I),ut(I,e,B),ut(I,t,I),Me(B,M,E),Me(I,M,E)}return Me(r,nd,w),Me(r,_2,rj),{start:r,tokens:ER}}function aj(i,e,t){let n=t.length,r=0,s=[],a=[];for(;r<n;){let l=i,c=null,d=null,h=0,p=null,g=-1;for(;r<n&&!(c=l.go(t[r].t));)a.push(t[r++]);for(;r<n&&(d=c||l.go(t[r].t));)c=null,l=d,l.accepts()?(g=0,p=l):g>=0&&g++,r++,h++;if(g<0)r-=h,r<n&&(a.push(t[r]),r++);else{a.length>0&&(s.push(q0(yC,e,a)),a=[]),r-=g,h-=g;const m=p.t,v=t.slice(r-h,r);s.push(q0(m,e,v))}}return a.length>0&&s.push(q0(yC,e,a)),s}function q0(i,e,t){const n=t[0].s,r=t[t.length-1].e,s=e.slice(n,r);return new i(s,t)}const oj=typeof console<"u"&&console&&console.warn||(()=>{}),lj="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Xt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function cj(){return Ai.groups={},Xt.scanner=null,Xt.parser=null,Xt.tokenQueue=[],Xt.pluginQueue=[],Xt.customSchemes=[],Xt.initialized=!1,Xt}function bC(i,e=!1){if(Xt.initialized&&oj(`linkifyjs: already initialized - will not register custom scheme "${i}" ${lj}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(i))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Xt.customSchemes.push([i,e])}function uj(){Xt.scanner=nj(Xt.customSchemes);for(let i=0;i<Xt.tokenQueue.length;i++)Xt.tokenQueue[i][1]({scanner:Xt.scanner});Xt.parser=sj(Xt.scanner.tokens);for(let i=0;i<Xt.pluginQueue.length;i++)Xt.pluginQueue[i][1]({scanner:Xt.scanner,parser:Xt.parser});return Xt.initialized=!0,Xt}function M2(i){return Xt.initialized||uj(),aj(Xt.parser.start,i,SR(Xt.scanner.start,i))}M2.scan=SR;function kR(i,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const n=new U2(t),r=M2(i),s=[];for(let a=0;a<r.length;a++){const l=r[a];l.isLink&&(!e||l.t===e)&&n.check(l)&&s.push(l.toFormattedObject(n))}return s}var R2="[\0- -\u2029]",dj=new RegExp(R2),hj=new RegExp(`${R2}$`),fj=new RegExp(R2,"g");function pj(i){return i.length===1?i[0].isLink:i.length===3&&i[1].isLink?["()","[]"].includes(i[0].value+i[2].value):!1}function gj(i){return new tn({key:new Sn("autolink"),appendTransaction:(e,t,n)=>{const r=e.some(d=>d.docChanged)&&!t.doc.eq(n.doc),s=e.some(d=>d.getMeta("preventAutolink"));if(!r||s)return;const{tr:a}=n,l=KM(t.doc,[...e]);if(iR(l).forEach(({newRange:d})=>{const h=QP(n.doc,d,m=>m.isTextblock);let p,g;if(h.length>1)p=h[0],g=n.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");else if(h.length){const m=n.doc.textBetween(d.from,d.to," "," ");if(!hj.test(m))return;p=h[0],g=n.doc.textBetween(p.pos,d.to,void 0," ")}if(p&&g){const m=g.split(dj).filter(Boolean);if(m.length<=0)return!1;const v=m[m.length-1],b=p.pos+g.lastIndexOf(v);if(!v)return!1;const x=M2(v).map(D=>D.toObject(i.defaultProtocol));if(!pj(x))return!1;x.filter(D=>D.isLink).map(D=>({...D,from:b+D.start+1,to:b+D.end+1})).filter(D=>n.schema.marks.code?!n.doc.rangeHasMark(D.from,D.to,n.schema.marks.code):!0).filter(D=>i.validate(D.value)).filter(D=>i.shouldAutoLink(D.value)).forEach(D=>{v2(D.from,D.to,n.doc).some(w=>w.mark.type===i.type)||a.addMark(D.from,D.to,i.type.create({href:D.href}))})}}),!!a.steps.length)return a}})}function mj(i){return new tn({key:new Sn("handleClickLink"),props:{handleClick:(e,t,n)=>{var r,s;if(n.button!==0||!e.editable)return!1;let a=null;if(n.target instanceof HTMLAnchorElement)a=n.target;else{let h=n.target;const p=[];for(;h.nodeName!=="DIV";)p.push(h),h=h.parentNode;a=p.find(g=>g.nodeName==="A")}if(!a)return!1;const l=nR(e.state,i.type.name),c=(r=a?.href)!=null?r:l.href,d=(s=a?.target)!=null?s:l.target;return i.enableClickSelection&&i.editor.commands.extendMarkRange(i.type.name),a&&c?(window.open(c,d),!0):!1}}})}function yj(i){return new tn({key:new Sn("handlePasteLink"),props:{handlePaste:(e,t,n)=>{const{shouldAutoLink:r}=i,{state:s}=e,{selection:a}=s,{empty:l}=a;if(l)return!1;let c="";n.content.forEach(h=>{c+=h.textContent});const d=kR(c,{defaultProtocol:i.defaultProtocol}).find(h=>h.isLink&&h.value===c);return!c||!d||r!==void 0&&!r(d.href)?!1:i.editor.commands.setMark(i.type,{href:d.href})}}})}function eo(i,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const r=typeof n=="string"?n:n.scheme;r&&t.push(r)}),!i||i.replace(fj,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var bj=No.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(i=>{if(typeof i=="string"){bC(i);return}bC(i.scheme,i.optionalSlashes)})},onDestroy(){cj()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(i,e)=>!!eo(i,e.protocols),validate:i=>!!i,shouldAutoLink:i=>!!i}},addAttributes(){return{href:{default:null,parseHTML(i){return i.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:i=>{const e=i.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!eo(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:i}){return this.options.isAllowedUri(i.href,{defaultValidate:e=>!!eo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",An(this.options.HTMLAttributes,i),0]:["a",An(this.options.HTMLAttributes,{...i,href:""}),0]},markdownTokenName:"link",parseMarkdown:(i,e)=>e.applyMark("link",e.parseInline(i.tokens||[]),{href:i.href,title:i.title||null}),renderMarkdown:(i,e)=>{var t;const n=((t=i.attrs)==null?void 0:t.href)||"";return`[${e.renderChildren(i)}](${n})`},addCommands(){return{setLink:i=>({chain:e})=>{const{href:t}=i;return this.options.isAllowedUri(t,{defaultValidate:n=>!!eo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,i).setMeta("preventAutolink",!0).run():!1},toggleLink:i=>({chain:e})=>{const{href:t}=i||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:n=>!!eo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,i,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:i})=>i().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Eo({find:i=>{const e=[];if(i){const{protocols:t,defaultProtocol:n}=this.options,r=kR(i).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!eo(a,t),protocols:t,defaultProtocol:n}));r.length&&r.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:i=>{var e;return{href:(e=i.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const i=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&i.push(gj({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:r=>!!eo(r,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&i.push(mj({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&i.push(yj({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),i}}),vj=Object.defineProperty,xj=(i,e)=>{for(var t in e)vj(i,t,{get:e[t],enumerable:!0})},Dj="listItem",vC="textStyle",xC=/^\s*([-+*])\s$/,UR=Hi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:i}){return["ul",An(this.options.HTMLAttributes,i),0]},markdownTokenName:"list",parseMarkdown:(i,e)=>i.type!=="list"||i.ordered?[]:{type:"bulletList",content:i.items?e.parseChildren(i.items):[]},renderMarkdown:(i,e)=>i.content?e.renderChildren(i.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Dj,this.editor.getAttributes(vC)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let i=nc({find:xC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(i=nc({find:xC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(vC),editor:this.editor})),[i]}}),MR=Hi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:i}){return["li",An(this.options.HTMLAttributes,i),0]},markdownTokenName:"list_item",parseMarkdown:(i,e)=>{if(i.type!=="list_item")return[];let t=[];if(i.tokens&&i.tokens.length>0)if(i.tokens.some(r=>r.type==="paragraph"))t=e.parseChildren(i.tokens);else{const r=i.tokens[0];if(r&&r.type==="text"&&r.tokens&&r.tokens.length>0){if(t=[{type:"paragraph",content:e.parseInline(r.tokens)}],i.tokens.length>1){const a=i.tokens.slice(1),l=e.parseChildren(a);t.push(...l)}}else t=e.parseChildren(i.tokens)}return t.length===0&&(t=[{type:"paragraph",content:[]}]),{type:"listItem",content:t}},renderMarkdown:(i,e,t)=>A2(i,e,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",t),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),wj={};xj(wj,{findListItemPos:()=>vd,getNextListDepth:()=>O2,handleBackspace:()=>z1,handleDelete:()=>W1,hasListBefore:()=>RR,hasListItemAfter:()=>Aj,hasListItemBefore:()=>OR,listItemHasSubList:()=>NR,nextListIsDeeper:()=>FR,nextListIsHigher:()=>BR});var vd=(i,e)=>{const{$from:t}=e.selection,n=wn(i,e.schema);let r=null,s=t.depth,a=t.pos,l=null;for(;s>0&&l===null;)r=t.node(s),r.type===n?l=s:(s-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},O2=(i,e)=>{const t=vd(i,e);if(!t)return!1;const[,n]=lz(e,i,t.$pos.pos+4);return n},RR=(i,e,t)=>{const{$anchor:n}=i.selection,r=Math.max(0,n.pos-2),s=i.doc.resolve(r).node();return!(!s||!t.includes(s.type.name))},OR=(i,e)=>{var t;const{$anchor:n}=e.selection,r=e.doc.resolve(n.pos-2);return!(r.index()===0||((t=r.nodeBefore)==null?void 0:t.type.name)!==i)},NR=(i,e,t)=>{if(!t)return!1;const n=wn(i,e.schema);let r=!1;return t.descendants(s=>{s.type===n&&(r=!0)}),r},z1=(i,e,t)=>{if(i.commands.undoInputRule())return!0;if(i.state.selection.from!==i.state.selection.to)return!1;if(!_a(i.state,e)&&RR(i.state,e,t)){const{$anchor:l}=i.state.selection,c=i.state.doc.resolve(l.before()-1),d=[];c.node().descendants((g,m)=>{g.type.name===e&&d.push({node:g,pos:m})});const h=d.at(-1);if(!h)return!1;const p=i.state.doc.resolve(c.start()+h.pos+1);return i.chain().cut({from:l.start()-1,to:l.end()+1},p.end()).joinForward().run()}if(!_a(i.state,e)||!hz(i.state))return!1;const n=vd(e,i.state);if(!n)return!1;const s=i.state.doc.resolve(n.$pos.pos-2).node(n.depth),a=NR(e,i.state,s);return OR(e,i.state)&&!a?i.commands.joinItemBackward():i.chain().liftListItem(e).run()},FR=(i,e)=>{const t=O2(i,e),n=vd(i,e);return!n||!t?!1:t>n.depth},BR=(i,e)=>{const t=O2(i,e),n=vd(i,e);return!n||!t?!1:t<n.depth},W1=(i,e)=>{if(!_a(i.state,e)||!dz(i.state,e))return!1;const{selection:t}=i.state,{$from:n,$to:r}=t;return!t.empty&&n.sameParent(r)?!1:FR(e,i.state)?i.chain().focus(i.state.selection.from+4).lift(e).joinBackward().run():BR(e,i.state)?i.chain().joinForward().joinBackward().run():i.commands.joinItemForward()},Aj=(i,e)=>{var t;const{$anchor:n}=e.selection,r=e.doc.resolve(n.pos-n.parentOffset-2);return!(r.index()===r.parent.childCount-1||((t=r.nodeAfter)==null?void 0:t.type.name)!==i)},LR=ln.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:i})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{i.state.schema.nodes[t]!==void 0&&W1(i,t)&&(e=!0)}),e},"Mod-Delete":({editor:i})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{i.state.schema.nodes[t]!==void 0&&W1(i,t)&&(e=!0)}),e},Backspace:({editor:i})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:n})=>{i.state.schema.nodes[t]!==void 0&&z1(i,t,n)&&(e=!0)}),e},"Mod-Backspace":({editor:i})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:n})=>{i.state.schema.nodes[t]!==void 0&&z1(i,t,n)&&(e=!0)}),e}}}}),DC=/^(\s*)(\d+)\.\s+(.*)$/,Tj=/^\s/;function _j(i){const e=[];let t=0,n=0;for(;t<i.length;){const r=i[t],s=r.match(DC);if(!s)break;const[,a,l,c]=s,d=a.length;let h=c,p=t+1;const g=[r];for(;p<i.length;){const m=i[p];if(m.match(DC))break;if(m.trim()==="")g.push(m),h+=`
`,p+=1;else if(m.match(Tj))g.push(m),h+=`
${m.slice(d+2)}`,p+=1;else break}e.push({indent:d,number:parseInt(l,10),content:h.trim(),raw:g.join(`
`)}),n=p,t=p}return[e,n]}function IR(i,e,t){var n;const r=[];let s=0;for(;s<i.length;){const a=i[s];if(a.indent===e){const l=a.content.split(`
`),c=((n=l[0])==null?void 0:n.trim())||"",d=[];c&&d.push({type:"paragraph",raw:c,tokens:t.inlineTokens(c)});const h=l.slice(1).join(`
`).trim();if(h){const m=t.blockTokens(h);d.push(...m)}let p=s+1;const g=[];for(;p<i.length&&i[p].indent>e;)g.push(i[p]),p+=1;if(g.length>0){const m=Math.min(...g.map(b=>b.indent)),v=IR(g,m,t);d.push({type:"list",ordered:!0,start:g[0].number,items:v,raw:g.map(b=>b.raw).join(`
`)})}r.push({type:"list_item",raw:a.raw,tokens:d}),s=p}else s+=1}return r}function Ej(i,e){return i.map(t=>{if(t.type!=="list_item")return e.parseChildren([t])[0];const n=[];return t.tokens&&t.tokens.length>0&&t.tokens.forEach(r=>{if(r.type==="paragraph"||r.type==="list"||r.type==="blockquote"||r.type==="code")n.push(...e.parseChildren([r]));else if(r.type==="text"&&r.tokens){const s=e.parseChildren([r]);n.push({type:"paragraph",content:s})}else{const s=e.parseChildren([r]);s.length>0&&n.push(...s)}}),{type:"listItem",content:n}})}var Sj="listItem",wC="textStyle",AC=/^(\d+)\.\s$/,PR=Hi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:i=>i.hasAttribute("start")?parseInt(i.getAttribute("start")||"",10):1},type:{default:null,parseHTML:i=>i.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:i}){const{start:e,...t}=i;return e===1?["ol",An(this.options.HTMLAttributes,t),0]:["ol",An(this.options.HTMLAttributes,i),0]},markdownTokenName:"list",parseMarkdown:(i,e)=>{if(i.type!=="list"||!i.ordered)return[];const t=i.start||1,n=i.items?Ej(i.items,e):[];return t!==1?{type:"orderedList",attrs:{start:t},content:n}:{type:"orderedList",content:n}},renderMarkdown:(i,e)=>i.content?e.renderChildren(i.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:i=>{const e=i.match(/^(\s*)(\d+)\.\s+/),t=e?.index;return t!==void 0?t:-1},tokenize:(i,e,t)=>{var n;const r=i.split(`
`),[s,a]=_j(r);if(s.length===0)return;const l=IR(s,0,t);return l.length===0?void 0:{type:"list",ordered:!0,start:((n=s[0])==null?void 0:n.number)||1,items:l,raw:r.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Sj,this.editor.getAttributes(wC)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let i=nc({find:AC,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(i=nc({find:AC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(wC)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[i]}}),Cj=/^\s*(\[([( |x])?\])\s$/,kj=Hi.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:i=>{const e=i.getAttribute("data-checked");return e===""||e==="true"},renderHTML:i=>({"data-checked":i.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:i,HTMLAttributes:e}){return["li",An(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:i.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(i,e)=>{const t=[];if(i.tokens&&i.tokens.length>0?t.push(e.createNode("paragraph",{},e.parseInline(i.tokens))):i.text?t.push(e.createNode("paragraph",{},[e.createNode("text",{text:i.text})])):t.push(e.createNode("paragraph",{},[])),i.nestedTokens&&i.nestedTokens.length>0){const n=e.parseChildren(i.nestedTokens);t.push(...n)}return e.createNode("taskItem",{checked:i.checked||!1},t)},renderMarkdown:(i,e)=>{var t;const r=`- [${(t=i.attrs)!=null&&t.checked?"x":" "}] `;return A2(i,e,r)},addKeyboardShortcuts(){const i={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...i,Tab:()=>this.editor.commands.sinkListItem(this.name)}:i},addNodeView(){return({node:i,HTMLAttributes:e,getPos:t,editor:n})=>{const r=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),d=h=>{var p,g;l.ariaLabel=((g=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:g.call(p,h,l.checked))||`Task item checkbox for ${h.textContent||"empty task item"}`};return d(i),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",h=>h.preventDefault()),l.addEventListener("change",h=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:p}=h.target;n.isEditable&&typeof t=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const m=t();if(typeof m!="number")return!1;const v=g.doc.nodeAt(m);return g.setNodeMarkup(m,void 0,{...v?.attrs,checked:p}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(i,p)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,p])=>{r.setAttribute(h,p)}),r.dataset.checked=i.attrs.checked,l.checked=i.attrs.checked,s.append(l,a),r.append(s,c),Object.entries(e).forEach(([h,p])=>{r.setAttribute(h,p)}),{dom:r,contentDOM:c,update:h=>h.type!==this.type?!1:(r.dataset.checked=h.attrs.checked,l.checked=h.attrs.checked,d(h),!0)}}},addInputRules(){return[nc({find:Cj,type:this.type,getAttributes:i=>({checked:i[i.length-1]==="x"})})]}}),Uj=Hi.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:i}){return["ul",An(this.options.HTMLAttributes,i,{"data-type":this.name}),0]},parseMarkdown:(i,e)=>e.createNode("taskList",{},e.parseChildren(i.items||[])),renderMarkdown:(i,e)=>i.content?e.renderChildren(i.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(i){var e;const t=(e=i.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return t!==void 0?t:-1},tokenize(i,e,t){const n=s=>{const a=U1(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:t.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:n},t);return a?[{type:"taskList",raw:a.raw,items:a.items}]:t.blockTokens(s)},r=U1(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:t.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:n},t);if(r)return{type:"taskList",raw:r.raw,items:r.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:i})=>i.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ln.create({name:"listKit",addExtensions(){const i=[];return this.options.bulletList!==!1&&i.push(UR.configure(this.options.bulletList)),this.options.listItem!==!1&&i.push(MR.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(LR.configure(this.options.listKeymap)),this.options.orderedList!==!1&&i.push(PR.configure(this.options.orderedList)),this.options.taskItem!==!1&&i.push(kj.configure(this.options.taskItem)),this.options.taskList!==!1&&i.push(Uj.configure(this.options.taskList)),i}});var Mj=Hi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:i}){return["p",An(this.options.HTMLAttributes,i),0]},parseMarkdown:(i,e)=>{const t=i.tokens||[];return t.length===1&&t[0].type==="image"?e.parseChildren([t[0]]):e.createNode("paragraph",void 0,e.parseInline(t))},renderMarkdown:(i,e)=>!i||!Array.isArray(i.content)?"":e.renderChildren(i.content),addCommands(){return{setParagraph:()=>({commands:i})=>i.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Rj=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Oj=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Nj=No.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:i=>i.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["s",An(this.options.HTMLAttributes,i),0]},markdownTokenName:"del",parseMarkdown:(i,e)=>e.applyMark("strike",e.parseInline(i.tokens||[])),renderMarkdown:(i,e)=>`~~${e.renderChildren(i)}~~`,addCommands(){return{setStrike:()=>({commands:i})=>i.setMark(this.name),toggleStrike:()=>({commands:i})=>i.toggleMark(this.name),unsetStrike:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[tc({find:Rj,type:this.type})]},addPasteRules(){return[Eo({find:Oj,type:this.type})]}}),Fj=Hi.create({name:"text",group:"inline",parseMarkdown:i=>({type:"text",text:i.text||""}),renderMarkdown:i=>i.text||""}),zR=No.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:i=>i.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["u",An(this.options.HTMLAttributes,i),0]},parseMarkdown(i,e){return e.applyMark(this.name||"underline",e.parseInline(i.tokens||[]))},renderMarkdown(i,e){return`++${e.renderChildren(i)}++`},markdownTokenizer:{name:"underline",level:"inline",start(i){return i.indexOf("++")},tokenize(i,e,t){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(i);if(!r)return;const s=r[2].trim();return{type:"underline",raw:r[0],text:s,tokens:t.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:i})=>i.setMark(this.name),toggleUnderline:()=>({commands:i})=>i.toggleMark(this.name),unsetUnderline:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Bj=zR;function Lj(i={}){return new tn({view(e){return new Ij(e,i)}})}class Ij{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=a=>{this[r](a)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n,r=this.editorView.dom,s=r.getBoundingClientRect(),a=s.width/r.offsetWidth,l=s.height/r.offsetHeight;if(t){let p=e.nodeBefore,g=e.nodeAfter;if(p||g){let m=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(m){let v=m.getBoundingClientRect(),b=p?v.bottom:v.top;p&&g&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*l;n={left:v.left,right:v.right,top:b-x,bottom:b+x}}}}if(!n){let p=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*a;n={left:p.left-g,right:p.left+g,top:p.top,bottom:p.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let d,h;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,h=-pageYOffset;else{let p=c.getBoundingClientRect(),g=p.width/c.offsetWidth,m=p.height/c.offsetHeight;d=p.left-c.scrollLeft*g,h=p.top-c.scrollTop*m}this.element.style.left=(n.left-d)/a+"px",this.element.style.top=(n.top-h)/l+"px",this.element.style.width=(n.right-n.left)/a+"px",this.element.style.height=(n.bottom-n.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,t,e):r;if(t&&!s){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=jU(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class on extends dt{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return on.valid(n)?new on(n):dt.near(n)}content(){return Le.empty}eq(e){return e instanceof on&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new on(e.resolve(t.pos))}getBookmark(){return new N2(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Pj(e)||!zj(e))return!1;let n=t.type.spec.allowGapCursor;if(n!=null)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&on.valid(e))return e;let r=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(t>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;r+=t;let c=e.doc.resolve(r);if(on.valid(c))return c}for(;;){let a=t>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Ke.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*t),n=!1;continue e}break}s=a,r+=t;let l=e.doc.resolve(r);if(on.valid(l))return l}return null}}}on.prototype.visible=!1;on.findFrom=on.findGapCursorFrom;dt.jsonID("gapcursor",on);class N2{constructor(e){this.pos=e}map(e){return new N2(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return on.valid(t)?new on(t):dt.near(t)}}function WR(i){return i.isAtom||i.spec.isolating||i.spec.createGapCursor}function Pj(i){for(let e=i.depth;e>=0;e--){let t=i.index(e),n=i.node(e);if(t==0){if(n.type.spec.isolating)return!0;continue}for(let r=n.child(t-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||WR(r.type))return!0;if(r.inlineContent)return!1}}return!0}function zj(i){for(let e=i.depth;e>=0;e--){let t=i.indexAfter(e),n=i.node(e);if(t==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let r=n.child(t);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||WR(r.type))return!0;if(r.inlineContent)return!1}}return!0}function Wj(){return new tn({props:{decorations:Vj,createSelectionBetween(i,e,t){return e.pos==t.pos&&on.valid(t)?new on(t):null},handleClick:Hj,handleKeyDown:jj,handleDOMEvents:{beforeinput:qj}}})}const jj=jM({ArrowLeft:ff("horiz",-1),ArrowRight:ff("horiz",1),ArrowUp:ff("vert",-1),ArrowDown:ff("vert",1)});function ff(i,e){const t=i=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,r,s){let a=n.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof tt){if(!s.endOfTextblock(t)||l.depth==0)return!1;c=!1,l=n.doc.resolve(e>0?l.after():l.before())}let d=on.findGapCursorFrom(l,e,c);return d?(r&&r(n.tr.setSelection(new on(d))),!0):!1}}function Hj(i,e,t){if(!i||!i.editable)return!1;let n=i.state.doc.resolve(e);if(!on.valid(n))return!1;let r=i.posAtCoords({left:t.clientX,top:t.clientY});return r&&r.inside>-1&&Ke.isSelectable(i.state.doc.nodeAt(r.inside))?!1:(i.dispatch(i.state.tr.setSelection(new on(n))),!0)}function qj(i,e){if(e.inputType!="insertCompositionText"||!(i.state.selection instanceof on))return!1;let{$from:t}=i.state.selection,n=t.parent.contentMatchAt(t.index()).findWrapping(i.state.schema.nodes.text);if(!n)return!1;let r=ke.empty;for(let a=n.length-1;a>=0;a--)r=ke.from(n[a].createAndFill(null,r));let s=i.state.tr.replace(t.pos,t.pos,new Le(r,0,0));return s.setSelection(tt.near(s.doc.resolve(t.pos+1))),i.dispatch(s),!1}function Vj(i){if(!(i.selection instanceof on))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Qt.create(i.doc,[ai.widget(i.selection.head,e,{key:"gapcursor"})])}var Wp=200,Fn=function(){};Fn.prototype.append=function(e){return e.length?(e=Fn.from(e),!this.length&&e||e.length<Wp&&this.leafAppend(e)||this.length<Wp&&e.leafPrepend(this)||this.appendInner(e)):this};Fn.prototype.prepend=function(e){return e.length?Fn.from(e).append(this):this};Fn.prototype.appendInner=function(e){return new Gj(this,e)};Fn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Fn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Fn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Fn.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};Fn.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(s,a){return r.push(e(s,a))},t,n),r};Fn.from=function(e){return e instanceof Fn?e:e&&e.length?new jR(e):Fn.empty};var jR=(function(i){function e(n){i.call(this),this.values=n}i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,a,l){for(var c=s;c<a;c++)if(r(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,a,l){for(var c=s-1;c>=a;c--)if(r(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Wp)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Wp)return new e(r.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(Fn);Fn.empty=new jR([]);var Gj=(function(i){function e(t,n){i.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,r,s,a){var l=this.left.length;if(r<l&&this.left.forEachInner(n,r,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(n,Math.max(r-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,r,s,a){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(n,r-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(n,Math.min(r,l),s,a)===!1)return!1},e.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(n,r):n>=s?this.right.slice(n-s,r-s):this.left.slice(n,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new e(r,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Fn);const Xj=500;class Ar{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let r,s;t&&(r=this.remapping(n,this.items.length),s=r.maps.length);let a=e.tr,l,c,d=[],h=[];return this.items.forEach((p,g)=>{if(!p.step){r||(r=this.remapping(n,g+1),s=r.maps.length),s--,h.push(p);return}if(r){h.push(new zr(p.map));let m=p.step.map(r.slice(s)),v;m&&a.maybeStep(m).doc&&(v=a.mapping.maps[a.mapping.maps.length-1],d.push(new zr(v,void 0,void 0,d.length+h.length))),s--,v&&r.appendMap(v,s)}else a.maybeStep(p.step);if(p.selection)return l=r?p.selection.map(r.slice(s)):p.selection,c=new Ar(this.items.slice(0,n).append(h.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(e,t,n,r){let s=[],a=this.eventCount,l=this.items,c=!r&&l.length?l.get(l.length-1):null;for(let h=0;h<e.steps.length;h++){let p=e.steps[h].invert(e.docs[h]),g=new zr(e.mapping.maps[h],p,t),m;(m=c&&c.merge(g))&&(g=m,h?s.pop():l=l.slice(0,l.length-1)),s.push(g),t&&(a++,t=void 0),r||(c=g)}let d=a-n.depth;return d>Yj&&(l=$j(l,d),a-=d),new Ar(l.append(s),a)}remapping(e,t){let n=new Ku;return this.items.forEach((r,s)=>{let a=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?n.maps.length-r.mirrorOffset:void 0;n.appendMap(r.map,a)},e,t),n}addMaps(e){return this.eventCount==0?this:new Ar(this.items.append(e.map(t=>new zr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},r);let c=t;this.items.forEach(g=>{let m=s.getMirror(--c);if(m==null)return;a=Math.min(a,m);let v=s.maps[m];if(g.step){let b=e.steps[m].invert(e.docs[m]),x=g.selection&&g.selection.map(s.slice(c+1,m));x&&l++,n.push(new zr(v,b,x))}else n.push(new zr(v))},r);let d=[];for(let g=t;g<a;g++)d.push(new zr(s.maps[g]));let h=this.items.slice(0,r).append(d).append(n),p=new Ar(h,l);return p.emptyItemCount()>Xj&&(p=p.compress(this.items.length-n.length)),p}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)r.push(a),a.selection&&s++;else if(a.step){let c=a.step.map(t.slice(n)),d=c&&c.getMap();if(n--,d&&t.appendMap(d,n),c){let h=a.selection&&a.selection.map(t.slice(n));h&&s++;let p=new zr(d.invert(),c,h),g,m=r.length-1;(g=r.length&&r[m].merge(p))?r[m]=g:r.push(p)}}else a.map&&n--},this.items.length,0),new Ar(Fn.from(r.reverse()),s)}}Ar.empty=new Ar(Fn.empty,0);function $j(i,e){let t;return i.forEach((n,r)=>{if(n.selection&&e--==0)return t=r,!1}),i.slice(t)}class zr{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new zr(t.getMap().invert(),t,this.selection)}}}class sa{constructor(e,t,n,r,s){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=s}}const Yj=20;function Kj(i,e,t,n){let r=t.getMeta(mo),s;if(r)return r.historyState;t.getMeta(Jj)&&(i=new sa(i.done,i.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return i;if(a&&a.getMeta(mo))return a.getMeta(mo).redo?new sa(i.done.addTransform(t,void 0,n,qf(e)),i.undone,TC(t.mapping.maps),i.prevTime,i.prevComposition):new sa(i.done,i.undone.addTransform(t,void 0,n,qf(e)),null,i.prevTime,i.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=t.getMeta("composition"),c=i.prevTime==0||!a&&i.prevComposition!=l&&(i.prevTime<(t.time||0)-n.newGroupDelay||!Zj(t,i.prevRanges)),d=a?V0(i.prevRanges,t.mapping):TC(t.mapping.maps);return new sa(i.done.addTransform(t,c?e.selection.getBookmark():void 0,n,qf(e)),Ar.empty,d,t.time,l??i.prevComposition)}else return(s=t.getMeta("rebased"))?new sa(i.done.rebased(t,s),i.undone.rebased(t,s),V0(i.prevRanges,t.mapping),i.prevTime,i.prevComposition):new sa(i.done.addMaps(t.mapping.maps),i.undone.addMaps(t.mapping.maps),V0(i.prevRanges,t.mapping),i.prevTime,i.prevComposition)}function Zj(i,e){if(!e)return!1;if(!i.docChanged)return!0;let t=!1;return i.mapping.maps[0].forEach((n,r)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&r>=e[s]&&(t=!0)}),t}function TC(i){let e=[];for(let t=i.length-1;t>=0&&e.length==0;t--)i[t].forEach((n,r,s,a)=>e.push(s,a));return e}function V0(i,e){if(!i)return null;let t=[];for(let n=0;n<i.length;n+=2){let r=e.map(i[n],1),s=e.map(i[n+1],-1);r<=s&&t.push(r,s)}return t}function Qj(i,e,t){let n=qf(e),r=mo.get(e).spec.config,s=(t?i.undone:i.done).popEvent(e,n);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(t?i.done:i.undone).addTransform(s.transform,e.selection.getBookmark(),r,n),c=new sa(t?l:s.remaining,t?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(mo,{redo:t,historyState:c})}let G0=!1,_C=null;function qf(i){let e=i.plugins;if(_C!=e){G0=!1,_C=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){G0=!0;break}}return G0}const mo=new Sn("history"),Jj=new Sn("closeHistory");function eH(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new tn({key:mo,state:{init(){return new sa(Ar.empty,Ar.empty,null,0,-1)},apply(e,t,n){return Kj(t,n,e,i)}},config:i,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r=n=="historyUndo"?qR:n=="historyRedo"?VR:null;return!r||!e.editable?!1:(t.preventDefault(),r(e.state,e.dispatch))}}}})}function HR(i,e){return(t,n)=>{let r=mo.getState(t);if(!r||(i?r.undone:r.done).eventCount==0)return!1;if(n){let s=Qj(r,t,i);s&&n(e?s.scrollIntoView():s)}return!0}}const qR=HR(!1,!0),VR=HR(!0,!0);ln.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:i=>i.length,wordCounter:i=>i.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=i=>{const e=i?.node||this.editor.state.doc;if((i?.mode||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=i=>{const e=i?.node||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let i=!1;return[new tn({key:new Sn("characterCount"),appendTransaction:(e,t,n)=>{if(i)return;const r=this.options.limit;if(r==null||r===0){i=!0;return}const s=this.storage.characters({node:n.doc});if(s>r){const a=s-r,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const d=n.tr.deleteRange(l,c);return i=!0,d}i=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const r=this.storage.characters({node:t.doc}),s=this.storage.characters({node:e.doc});if(s<=n||r>n&&s>n&&s<=r)return!0;if(r>n&&s>n&&s>r||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=s-n,d=l-c,h=l;return e.deleteRange(d,h),!(this.storage.characters({node:e.doc})>n)}})]}});var tH=ln.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Lj(this.options)]}});ln.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new tn({key:new Sn("focus"),props:{decorations:({doc:i,selection:e})=>{const{isEditable:t,isFocused:n}=this.editor,{anchor:r}=e,s=[];if(!t||!n)return Qt.create(i,[]);let a=0;this.options.mode==="deepest"&&i.descendants((c,d)=>{if(c.isText)return;if(!(r>=d&&r<=d+c.nodeSize-1))return!1;a+=1});let l=0;return i.descendants((c,d)=>{if(c.isText||!(r>=d&&r<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(ai.node(d,d+c.nodeSize,{class:this.options.className}))}),Qt.create(i,s)}}})]}});var nH=ln.create({name:"gapCursor",addProseMirrorPlugins(){return[Wj()]},extendNodeSchema(i){var e;const t={name:i.name,options:i.options,storage:i.storage};return{allowGapCursor:(e=Ft(Ye(i,"allowGapCursor",t)))!=null?e:null}}});ln.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new tn({key:new Sn("placeholder"),props:{decorations:({doc:i,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,r=[];if(!t)return null;const s=this.editor.isEmpty;return i.descendants((a,l)=>{const c=n>=l&&n<=l+a.nodeSize,d=!a.isLeaf&&Og(a);if((c||!this.options.showOnlyCurrent)&&d){const h=[this.options.emptyNodeClass];s&&h.push(this.options.emptyEditorClass);const p=ai.node(l,l+a.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});r.push(p)}return this.options.includeChildren}),Qt.create(i,r)}}})]}});ln.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:i,options:e}=this;return[new tn({key:new Sn("selection"),props:{decorations(t){return t.selection.empty||i.isFocused||!i.isEditable||rR(t.selection)||i.view.dragging?null:Qt.create(t.doc,[ai.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function EC({types:i,node:e}){return e&&Array.isArray(i)&&i.includes(e.type)||e?.type===i}var iH=ln.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var i;const e=new Sn(this.name),t=((i=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:i.name)||this.options.node||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(t).includes(r.name));return[new tn({key:e,appendTransaction:(r,s,a)=>{const{doc:l,tr:c,schema:d}=a,h=e.getState(a),p=l.content.size,g=d.nodes[t];if(h)return c.insert(p,g.create())},state:{init:(r,s)=>{const a=s.tr.doc.lastChild;return!EC({node:a,types:n})},apply:(r,s)=>{if(!r.docChanged||r.getMeta("__uniqueIDTransaction"))return s;const a=r.doc.lastChild;return!EC({node:a,types:n})}}})]}}),rH=ln.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:i,dispatch:e})=>qR(i,e),redo:()=>({state:i,dispatch:e})=>VR(i,e)}},addProseMirrorPlugins(){return[eH(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),sH=ln.create({name:"starterKit",addExtensions(){var i,e,t,n;const r=[];return this.options.bold!==!1&&r.push(RW.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(SW.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(UR.configure(this.options.bulletList)),this.options.code!==!1&&r.push(FW.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(IW.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(PW.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(tH.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(nH.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(zW.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(WW.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(rH.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(jW.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(XW.configure(this.options.italic)),this.options.listItem!==!1&&r.push(MR.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(LR.configure((i=this.options)==null?void 0:i.listKeymap)),this.options.link!==!1&&r.push(bj.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&r.push(PR.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(Mj.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(Nj.configure(this.options.strike)),this.options.text!==!1&&r.push(Fj.configure(this.options.text)),this.options.underline!==!1&&r.push(zR.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&r.push(iH.configure((n=this.options)==null?void 0:n.trailingNode)),r}}),aH=sH,oH=ln.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:i=>{const e=i.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:i=>i.textAlign?{style:`text-align: ${i.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:i=>({commands:e})=>this.options.alignments.includes(i)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:i})).some(t=>t):!1,unsetTextAlign:()=>({commands:i})=>this.options.types.map(e=>i.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:i=>({editor:e,commands:t})=>this.options.alignments.includes(i)?e.isActive({textAlign:i})?t.unsetTextAlign():t.setTextAlign(i):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),lH=oH;function cH({editor:i}){return i?Te.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 p-2 flex flex-wrap gap-1 items-center",children:[Te.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2 mr-1",children:[Te.jsx("button",{onClick:()=>i.chain().focus().undo().run(),disabled:!i.can().undo(),className:"p-1.5 rounded hover:bg-gray-200 disabled:opacity-50 text-gray-700",title:"Desfazer",children:Te.jsx(aL,{className:"w-4 h-4"})}),Te.jsx("button",{onClick:()=>i.chain().focus().redo().run(),disabled:!i.can().redo(),className:"p-1.5 rounded hover:bg-gray-200 disabled:opacity-50 text-gray-700",title:"Refazer",children:Te.jsx(G6,{className:"w-4 h-4"})})]}),Te.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2 mr-1",children:[Te.jsx("button",{onClick:()=>i.chain().focus().toggleHeading({level:1}).run(),className:Di("p-1.5 rounded hover:bg-gray-200 text-gray-700",i.isActive("heading",{level:1})&&"bg-gray-200 text-primary"),title:"Ttulo 1",children:Te.jsx(M6,{className:"w-4 h-4"})}),Te.jsx("button",{onClick:()=>i.chain().focus().toggleHeading({level:2}).run(),className:Di("p-1.5 rounded hover:bg-gray-200 text-gray-700",i.isActive("heading",{level:2})&&"bg-gray-200 text-primary"),title:"Ttulo 2",children:Te.jsx(O6,{className:"w-4 h-4"})})]}),Te.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2 mr-1",children:[Te.jsx("button",{onClick:()=>i.chain().focus().toggleBold().run(),disabled:!i.can().chain().focus().toggleBold().run(),className:Di("p-1.5 rounded hover:bg-gray-200 text-gray-700",i.isActive("bold")&&"bg-gray-200 text-primary"),title:"Negrito",children:Te.jsx(v6,{className:"w-4 h-4"})}),Te.jsx("button",{onClick:()=>i.chain().focus().toggleItalic().run(),disabled:!i.can().chain().focus().toggleItalic().run(),className:Di("p-1.5 rounded hover:bg-gray-200 text-gray-700",i.isActive("italic")&&"bg-gray-200 text-primary"),title:"Itlico",children:Te.jsx(F6,{className:"w-4 h-4"})}),Te.jsx("button",{onClick:()=>i.chain().focus().toggleUnderline().run(),className:Di("p-1.5 rounded hover:bg-gray-200 text-gray-700",i.isActive("underline")&&"bg-gray-200 text-primary"),title:"Sublinhado",children:Te.jsx(rL,{className:"w-4 h-4"})})]}),Te.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2 mr-1",children:[Te.jsx("button",{onClick:()=>i.chain().focus().setTextAlign("left").run(),className:Di("p-1.5 rounded hover:bg-gray-200 text-gray-700",i.isActive({textAlign:"left"})&&"bg-gray-200 text-primary"),title:"Alinhar  Esquerda",children:Te.jsx(Q6,{className:"w-4 h-4"})}),Te.jsx("button",{onClick:()=>i.chain().focus().setTextAlign("center").run(),className:Di("p-1.5 rounded hover:bg-gray-200 text-gray-700",i.isActive({textAlign:"center"})&&"bg-gray-200 text-primary"),title:"Centralizar",children:Te.jsx($6,{className:"w-4 h-4"})}),Te.jsx("button",{onClick:()=>i.chain().focus().setTextAlign("right").run(),className:Di("p-1.5 rounded hover:bg-gray-200 text-gray-700",i.isActive({textAlign:"right"})&&"bg-gray-200 text-primary"),title:"Alinhar  Direita",children:Te.jsx(K6,{className:"w-4 h-4"})})]}),Te.jsxs("div",{className:"flex items-center gap-1",children:[Te.jsx("button",{onClick:()=>i.chain().focus().toggleBulletList().run(),className:Di("p-1.5 rounded hover:bg-gray-200 text-gray-700",i.isActive("bulletList")&&"bg-gray-200 text-primary"),title:"Lista com Marcadores",children:Te.jsx(z6,{className:"w-4 h-4"})}),Te.jsx("button",{onClick:()=>i.chain().focus().toggleOrderedList().run(),className:Di("p-1.5 rounded hover:bg-gray-200 text-gray-700",i.isActive("orderedList")&&"bg-gray-200 text-primary"),title:"Lista Numerada",children:Te.jsx(I6,{className:"w-4 h-4"})})]})]}):null}function uH({content:i,onChange:e}){const t=wW({extensions:[aH,Bj,lH.configure({types:["heading","paragraph"]})],content:i,editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none min-h-[500px] p-8 bg-white shadow-sm"}},onUpdate:({editor:n})=>{e(n.getHTML())}});return Tt.useEffect(()=>{t&&i!==t.getHTML()&&(t.isEmpty||!t.isFocused)&&t.commands.setContent(i)},[i,t]),Te.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col h-[700px]",children:[Te.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex items-center justify-between",children:[Te.jsx("h3",{className:"font-semibold text-gray-700 text-sm",children:"Editor de Currculo"}),Te.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded",children:"Modo Edio"})]}),Te.jsx(cH,{editor:t}),Te.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 p-8 cursor-text",onClick:()=>t?.chain().focus().run(),children:Te.jsx("div",{className:"max-w-[210mm] mx-auto bg-white shadow-lg min-h-[297mm]",children:Te.jsx(gW,{editor:t})})})]})}function dH({advice:i}){return Te.jsxs("div",{className:"space-y-4",children:[Te.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Te.jsx($E,{className:"w-5 h-5 text-yellow-500"}),Te.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Anlise"})]}),Te.jsx("div",{className:"grid gap-4",children:i.map(e=>Te.jsx("div",{className:Di("p-4 rounded-lg border-l-4 shadow-sm bg-white transition-all hover:shadow-md",e.type==="improvement"&&"border-l-blue-500",e.type==="strength"&&"border-l-green-500",e.type==="warning"&&"border-l-yellow-500"),children:Te.jsxs("div",{className:"flex items-start gap-3",children:[e.type==="improvement"&&Te.jsx($E,{className:"w-5 h-5 text-blue-500 mt-0.5"}),e.type==="strength"&&Te.jsx(_6,{className:"w-5 h-5 text-green-500 mt-0.5"}),e.type==="warning"&&Te.jsx(nL,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),Te.jsxs("div",{children:[Te.jsx("h4",{className:"font-medium text-gray-900",children:e.title}),Te.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]})},e.id))})]})}function hH({valuation:i}){return Te.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary/90 rounded-xl p-6 text-white shadow-lg",children:[Te.jsxs("div",{className:"flex items-center gap-2 mb-2 opacity-90",children:[Te.jsx(eL,{className:"w-5 h-5"}),Te.jsx("span",{className:"font-medium",children:"Valorao de Mercado"})]}),Te.jsxs("div",{className:"flex items-baseline gap-1",children:[Te.jsx("span",{className:"text-2xl font-light opacity-80",children:"R$"}),Te.jsx("span",{className:"text-4xl font-bold tracking-tight",children:i.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),Te.jsx("p",{className:"text-sm mt-4 opacity-80",children:"Baseado na sua experincia e qualificaes identificadas no currculo."})]})}function fH({jobs:i}){return Te.jsxs("div",{className:"space-y-4",children:[Te.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Te.jsx(D6,{className:"w-5 h-5 text-primary"}),Te.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vagas Compatveis"})]}),Te.jsx("div",{className:"grid gap-3",children:i.map(e=>Te.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"block bg-white p-4 rounded-lg border border-gray-100 shadow-sm hover:shadow-md hover:border-primary/30 transition-all group",children:Te.jsxs("div",{className:"flex justify-between items-start",children:[Te.jsxs("div",{children:[Te.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-primary transition-colors",children:e.title}),Te.jsx("div",{className:"text-sm text-gray-500 mt-1",children:e.company}),Te.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-400",children:[Te.jsxs("div",{className:"flex items-center gap-1",children:[Te.jsx(q6,{className:"w-3 h-3"}),e.location]}),Te.jsx("span",{className:`px-2 py-0.5 rounded-full ${e.source==="Indeed"?"bg-blue-50 text-blue-600":"bg-green-50 text-green-600"}`,children:e.source})]})]}),Te.jsxs("div",{className:"flex flex-col items-end gap-2",children:[Te.jsxs("span",{className:"text-sm font-bold text-green-600",children:[e.matchScore,"% Match"]}),Te.jsx(k6,{className:"w-4 h-4 text-gray-300 group-hover:text-primary transition-colors"})]})]})},e.id))})]})}function pH(){const[i,e]=Tt.useState(5),[t,n]=Tt.useState(null),[r,s]=Tt.useState(!1),[a,l]=Tt.useState(""),[c,d]=Tt.useState([]),[h,p]=Tt.useState([]),[g,m]=Tt.useState(0),v=async x=>{n(x),s(!0);try{const D=await MB(x);l(D),e(T=>Math.max(0,T-1));const w=await h6(D);d(w.advice),p(w.jobMatches),m(w.valuation)}catch(D){console.error("Erro ao processar arquivo:",D);const w=D instanceof Error?D.message:String(D);alert(`Erro ao processar o arquivo: ${w}`),n(null)}finally{s(!1)}},b=()=>{const x=window.prompt("Quantos tokens deseja comprar? (Simulao)");x&&!isNaN(Number(x))&&e(D=>D+Number(x))};return Te.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900",children:[Te.jsx(cL,{tokens:i,onBuyTokens:b}),Te.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t?Te.jsx("div",{className:"animate-in fade-in duration-500",children:r?Te.jsxs("div",{className:"flex flex-col items-center justify-center h-[600px]",children:[Te.jsx(j6,{className:"w-12 h-12 text-primary animate-spin mb-4"}),Te.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Analisando seu perfil..."}),Te.jsx("p",{className:"text-gray-500",children:"Identificando pontos de melhoria e oportunidades."})]}):Te.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[Te.jsx("div",{className:"lg:col-span-7 space-y-6",children:Te.jsx(uH,{content:a,onChange:l})}),Te.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[Te.jsx(hH,{valuation:g}),Te.jsx(dH,{advice:c}),Te.jsx(fH,{jobs:h})]})]})}):Te.jsxs("div",{className:"flex flex-col items-center justify-center py-12 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[Te.jsxs("div",{className:"text-center mb-10 max-w-2xl",children:[Te.jsx("h1",{className:"text-4xl font-bold text-primary mb-4 tracking-tight",children:"Otimize seu Currculo com IA"}),Te.jsx("p",{className:"text-lg text-gray-600",children:"Receba anlise detalhada, valorao salarial e vagas compatveis em segundos. Potencializado pelo Gemini 2.5 Flash."})]}),Te.jsx(JL,{onFileUpload:v})]})})]})}h5.createRoot(document.getElementById("root")).render(Te.jsx(Tt.StrictMode,{children:Te.jsx(pH,{})}));
